<style>
    .bootstrap-datetimepicker-widget {
        display: block;
        background: #9E9E9E;
        color: #000
    }
    
    .bootstrap-datetimepicker-widget:hover {
        background: #9E9E9E;
    }
    
    .bootstrap-datetimepicker-widget .datepicker-days {
        display: block;
    }
    
    .bootstrap-datetimepicker-widget .datepicker-months {
        display: block;
    }
    
    .bootstrap-datetimepicker-widget .datepicker-years {
        display: block;
    }
    
    .bootstrap-datetimepicker-widget .datepicker-decades {
        display: block;
    }
    
    .bootstrap-datetimepicker-widget .datepicker-days,
    .datepicker-months,
    .datepicker-years:hover {
        background: #9E9E9E;
    }
    
    #keywordSearchbtn:focus,
    #keywordSearchbtn:active {
        outline: none;
    }
    
    #searchBox:focus,
    #searchBox:active {
        box-shadow: none;
    }
    
    .nonbtndisable {
        cursor: not-allowed !important;
        filter: alpha(opacity=65);
        -webkit-box-shadow: none;
        box-shadow: none;
        opacity: .65;
        pointer-events: none;
    }
    
    tr td span {
        word-break: break-all;
        display: inline-block;
    }
    .cardAlign{
        margin-left: 1.7rem;
        /* margin-top: 0.300rem; */
        /* margin-bottom: 1.25rem; */
        
    }

   .column {
      float: left;
      width: 25%;
      padding: 0 0.188rem;
      }
      
         
    @media screen and (max-width: 768px) {    
    .column {
        width: 100%;
        display: block;
        /* margin-bottom: 20px; */
        }
    }
    .cardBack{
        background: #9e9e9e;
        min-height: 13.5rem;
        color:#fff;
    }

    .cardIcon{
        font-size: 4.375rem; 
        line-height: 4.375rem;
    }

    .cardfont{
        font-size:0.938rem;
    }

    .cardrepeat{
        cursor:pointer;
        min-height:10rem;
        max-height:10rem; 
        margin-right: -1.188rem;
    }

    .cardPadding{
        padding:0.313rem 0.938rem;
        position: relative;
    }

    .cardUserid{
        font-size: 1.188rem; 
        word-break: break-all;
    }

    .cardiconCircle{
        font-size: 1.25rem;
        line-height:1.688rem
    }

    .cardlableAlighn{
        margin:0;
        padding: 0rem 0.125rem 0rem 0rem;
        word-break: break-all;
        float: left;
    }

    .cardvalue{
        margin:0;
        padding: 0.125rem 0rem 0rem 0.063rem;
        float: left; 
        word-break: break-all;
    }

    .cardmail{
        margin:0;
        padding: 0rem 0rem 0rem 0.125rem;
        float: left; 
        word-break: break-all;
    }

    .cardlogo{
        height: 5.438rem;
    }

    .cardFooter{
        margin-left: -1.25rem; 
        margin-right: -1.313rem;
    }
    .iconAlign{
        border: 0.063rem solid #fff;
        box-sizing: border-box;
        margin-left:0.313rem;
        float:left;
    }
    .ulSort{
        min-width: 18.75rem;
        padding:0.625rem 0rem;
    }
    .resetallSort{
        padding: 0rem 0.938rem;
        margin:0;
        width:100%;
        float: left;
        max-height: 18.75rem;
        overflow: auto;
    }
    .sortLabel{
        display: table-cell;
        background: #9e9e9e;
        padding: 0.313rem 0.5rem;
        border-right: 0.063rem solid #fff;
        width: 90%;
    }
    .ulFilter{
        min-width: 37.5rem;
        padding:0.625rem 0rem;
    }
    .filterByAlighn{
        padding: 0.5rem 0.625rem 0.125rem 0.625rem;
    }  
    .downloadBtn{
        float:left;
        margin-left:0.313rem;
    }

    .downloadBtnIcon{
        border: 0.063rem solid #fff;
        box-sizing: border-box;
    }

    .dwnDrop{
        left: 40% !important;
    }

    .downBtnIndex{
        z-index: 10000;
    }
    .filters {
        display: inline-flex;
    }

    .show__drafts-holder, .add-holder {
        padding: 26% 0%;
        text-align: center;
        margin-right: -2rem;
    }
    .customPicker {
        padding: 0.625rem 20rem 0rem 0rem;
    }
    .active1{
    /* background:#CAD5EB; */
    /* background:   rgba(54, 89, 154, 0.75) !important; */
    background:  #bdbdbd !important;
    border:1px solid;
}
.elem-width-auto {
    width: 100%;
    width: -moz-available;          /* WebKit-based browsers will ignore this. */
    width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */
    width: fill-available;
}
.boxHeight{
    position: relative;
    width:178px;
    height:33px;
    font-size:inherit;
}
</style>

<div class="page-bar breadCrumb" set-class-when-at-top="fix-to-top" ng-controller="activeController">
    <div class="row">
        <div class="col-md-6 ">
            <ul class="page-breadcrumb">

                <li>
                    <i class="fa {{ParentIconName}}"></i>
               
                    <a href="javascript:void(0);" translate class="removeCursor">{{'Sidebar.'+ulName|nospace}}</a>
                    <i class="fa fa-angle-right"></i>
                </li>
                <li>
    
                    <span translate class="removeCursor">{{showPageTitle}}</span>
                </li>
            </ul>
        </div>
  
        <div class="col-md-6 headerVals">
            <div data-ng-include="'templates/header/VPheader.html'" data-ng-controller="headerCtrl"></div>

        </div>
    </div>

</div>
<div class="contentContainer mb-2">
    <div class="pageTitle">
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="title__container">
                 
                    <h2 translate>{{showPageTitle}}</h2>
               
                </div>
            </div>
        </div>
    </div>

  
            <div class="countbar-title row ml-0 mr-1">
                <div class="col-md-4 col-sm-4 col-xs-12  ng-binding p-0">
                    <div class="caption">
                     
                  
                        <span class="highlight">{{(readData.length && totalForCountBar) ? readData.length +  ('BankDataDts.Outof' | translate ) +
							totalForCountBar : (readData.length && !totalForCountBar) ? readData.length : '' }}</span>&nbsp;{{(readData.length && totalForCountBar) || (readData.length && !totalForCountBar) ?'BankDataDts.recordsshown' : (!readData.length && !totalForCountBar)
                        ? 'BankDataDts.FetchingData' : '' | translate}}
                    </div>
                </div>




                <div class="col-md-8 col-sm-8 col-xs-12">
                    <div class="btn-group" style="float:right;">
                        <button ng-if="Title=='ACH_INTERNATIONALIZATIONDEFINITION'" style="border: 1px solid #fff;box-sizing: border-box;margin-left:5px; float: left" ng-click="Reload()" class="btn btnStyle" type="button" translate >BtnGroup.Reload</button>
                        <button ng-if="newPermission.C" style="border: 1px solid #fff;box-sizing: border-box;margin-left:5px; float: left" ng-show="!changeViewFlag" class="btn-trans viewbtn my-tooltip"   data-placement="top" title= "{{'ToolTips.AddNew' | translate}}"
                            ng-click="(permission.C)?gotoState({'Operation':'Add','fieldData':''}):''"><i
                                class="fa fa-plus-square"></i></button>

                        <button style="border: 1px solid #fff;box-sizing: border-box;margin-left:5px; float: left" ng-click="loadData()" class="btn-trans iconAlign" data-toggle-second="tooltip" data-placement="top" title="{{'ToolTips.Refresh' | translate}}"><i
                                class="fa fa-refresh fa-fs14"></i></button>

                        <div ng-show="changeViewFlag" id="sortBy" class="dropdown customDropdown" style="float: left;">
                            <button style="border: 1px solid #fff;box-sizing: border-box;margin-left: 5px;" class="btn-trans iconAlign" type="button" data-toggle="dropdown" data-toggle-second="tooltip" data-placement="top" title="{{'ToolTips.Sort' | translate}}" ng-click="setHeight($event)">
                                <i class="fa fa-sort-amount-desc"></i>
                            </button>

                            <ul class="dropdown-menu dropdown-menu-default dropdown-menu-right pull-right ulSort" >
                                <form ng-submit="searchFilter(filterParams)">
                                    <li id="sortBy" class="dropdown-header">{{'BankDataDts.SortBy' | translate}}<i> ({{'BankDataDts.ClicktoSort' | translate}}) </i> <i style="float: right; cursor: pointer; color: #9e9e9e; font-weight: bolder;" ng-click="clearSort('#sort')"><u>{{'BankDataDts.ResetAll' | translate}}</u></i></li>
                                    <div id="sort" class="dataGroups resetallSort" style="padding: 0px 15px;margin:0;width:100%;float: left;max-height: 300px;overflow: auto;">

                                        <div ng-if="truetag" ng-repeat="x in fieldDetails.Section" style="color:#fff;display: table;width: 100%;margin-bottom: 2px;">
                                            <div id="sort_{{$index}}"  class="sortTableAlighn"  style="margin-bottom: 2px;display: table-row;width: 100%;" ng-hide="((Title == 'Business Rules') && ((x.Label == 'Rule') || (x.Label == 'Rule Structure')) || (x.visible==false))">
                                                <span class="sortLabel" style="display: table-cell;background: #9e9e9e;padding: 5px 8px;border-right: 1px solid #fff;width: 90%;" translate>{{x.Label}}
                                                </span>
                                                <a tooltip-placement="top"  class="sortIcon" style="display: table-cell;background: #9e9e9e;padding: 6px;text-align: center;vertical-align: middle;width: 10%;" ng-click="gotoSorting(x.FieldName)"><i id="{{x.FieldName}}_icon"
                                                        class='fa fa-minus fa-sm'
                                                        style="color:#2b3643 !important"></i></a>
                                            </div>
                                        </div>
                                        <div ng-if="!truetag" ng-repeat="x in MOPdata" style="color:#fff;display: table;width: 100%;margin-bottom: 2px;">
                                            <div id="sort_{{$index}}" style="margin-bottom: 2px;display: table-row;width: 100%;">
                                                <span style="display: table-cell;background: #9e9e9e;padding: 5px 8px;border-right: 1px solid #fff;width: 90%;">{{x.label}}</span>
                                                <a tooltip-placement="top" style="display: table-cell;background: #9e9e9e;padding: 6px;text-align: center;vertical-align: middle;width: 10%;" ng-click="gotoSorting(x.name)"><i id="{{x.name}}_icon"
                                                        class='fa fa-minus fa-sm'
                                                        style="color:#2b3643 !important"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </ul>
                        </div>
                        <div id="Filter" class="dropdown customDropdown filters" style="float: left;">
                            <button style="border: 1px solid #fff;box-sizing: border-box;margin-left: 5px;" class="btn-trans iconAlign" type="button" data-toggle="dropdown" data-toggle-second="tooltip" data-placement="top" title="{{'ToolTips.Filter' | translate}}">
                                <i class="fa fa-filter"></i>
                            </button>

                            <ul class="dropdown-menu dropdown-menu-default dropdown-menu-right pull-right xyz ulFilter" style="min-width: 600px;padding:10px 0px;">
                                <form ng-submit="searchFilter(filterParams)">
                                    <li id="Filter" class="dropdown-header" style="padding: 8px 14px 2px 14px;margin: 0;">{{'BankDataDts.ApplyFilter' | translate}}:</li>
                                    <div id="Filter" class="row input-group parent" style="padding: 8px 0px 2px 14px;margin: 0;display: inline-block;width: 50%;float: left;">
                                       
                                        <select id="SearchSelect" name="SearchSelect" class="form-control appendSelect2" select2-model-append ng-model="filterParams.SearchSelect">
                                            <option value="">Select</option>
                                            <option ng-repeat="x in fieldDetails.Section" value="{{x.FieldName}}" ng-if="truetag  && x.FieldName == 'Clearingdate'" translate>{{x.Label}}</option>
                                            <option ng-repeat="x in MOPdata" value="{{x.name}}"
                                                ng-if="x.type != 'DateOnly' && x.type != 'DateTime' && x.type != 'TimeOnly' && x.name != 'Status' && x.type == 'String'" translate>
                                                {{x.label}}</option>
                                        </select>
                                    </div>
                                    <div id="Filter" class="row input-group" style="padding: 8px 14px 2px 0px;margin: 0;display: inline-block;width: 50%;">
                                        <span class="cstmDrop" style="display:inline-block;color:#000;cursor: pointer;position: relative;box-sizing: border-box; width: 90%;">
                                            <input name="keywordSearch" style="color: #000;" type="text"
                                                class="form-control ng-pristine ng-untouched ng-valid"
                                                ng-model="filterParams.keywordSearch"
                                                placeholder="{{filterParams.SearchSelect ? ('BtnGroup.Search' | translate)+  ((Title | nospace)+ '.'+ (filterParams.SearchSelect | nospace) | translate): 'BankDataDts.KeywordSearch' | translate}}"
                                                ng-required="showCustom || filterParams.keywordSearch || filterParams.Status.length ? false : true">
                                        </span>
                                        <span class="input-group-addon" style="cursor:pointer;float: left;width: 10%;height: 100%;padding: 9px;" ng-click="searchFilter(filterParams)" ng-class="filterParams.keywordSearch ? '' : 'nonbtndisable'"><i
                                                class="fa fa-search"></i></span>
                                    </div>
                                    <div ng-repeat="y in fieldDetails.Section" ng-if="status = (truetag && y.FieldName === 'Status') ? y : ''">
                                        <li id="Filter" class="dropdown-header">{{'BankDataDts.FilterStatus' | translate}}</li>
                                        <div id="Filter" style="padding: 8px 10px 2px 10px;" ng-if="status.Type == 'String' && status.InputType == 'Choice'">
                                            <button type="button" class="filterBystatus" ng-repeat="x in status.ChoiceOptions" ng-init="getCountbyStatus(x)" ng-click="setStatusvalue(x.displayvalue,filterParams)" id="{{x.displayvalue}}" ng-class="x.TotalCount ? '' : 'nonbtndisable'">
                                                <div class="clearfix" style="background-color: transparent;"
                                                    ng-if="$index % 2 == 0"></div>
                                                <div style="clear:both;" ng-if="$index % 2 == 0"></div>
                                                <div style="padding: 0px 5px;float: left;">
                                                    <span class="fa-wrapper">
                                                        <i class="fa fa-circle"
                                                            ng-style="{'color':(x.displayvalue | chooseStatus)}"></i></span>
                                                    <span
                                                        style="display: inline-block;font-size: 10px;width: auto;text-align: left;line-height: 10px;padding: 2px;">
                                                        {{x.displayvalue +' ('+x.TotalCount+') '}}</span>
                                                </div>
                                                <div style="clear:both;"></div>
                                            </button>
                                            <div style="clear:both;"></div>
                                        </div>
                                    </div>
                                    <div ng-repeat="y in MOPdata" ng-if="status = (!truetag && y.name === 'Status') ? y : ''">
                                        <li id="Filter" class="dropdown-header">{{'BankDataDts.FilterStatus' | translate}}</li>
                                        <div id="Filter" style="padding: 8px 10px 2px 10px;" ng-if="status.type == 'String' && status.renderer.Choice">
                                            <button type="button" class="filterBystatus" ng-repeat="x in status.renderer.Choice.choiceOptions" ng-init="getCountbyStatus(x)" ng-click="setStatusvalue(x.displayvalue,filterParams)" id="{{x.displayvalue}}" ng-class="x.TotalCount ? '' : 'nonbtndisable'">
                                                <div class="clearfix" style="background-color: transparent;"
                                                    ng-if="$index % 2 == 0"></div>
                                                <div style="clear:both;" ng-if="$index % 2 == 0"></div>
                                                <div style="padding: 0px 5px;float: left;">
                                                    <span class="fa-wrapper">
                                                        <i class="fa fa-circle"
                                                            ng-style="{'color':(x.displayvalue | chooseStatus)}"></i></span>
                                                    <span
                                                        style="display: inline-block;font-size: 10px;width: auto;text-align: left;line-height: 10px;padding: 2px;">
                                                        {{x.displayvalue +' ('+x.TotalCount+') '}}</span>
                                                </div>
                                                <div style="clear:both;"></div>
                                            </button>
                                            <div style="clear:both;"></div>
                                        </div>
                                    </div>
                                    <div style="clear:both"></div>
                                    <li id="Filter" class="dropdown-header" ng-if="!isLogCong">{{((Title == 'Register Accounts')?'BankDataDts.FilterByDateRegisterAccounts' : 'BankDataDts.FilterByDate') | translate}}
                                    </li>
                                    <div id="Filter" style="padding: 8px 10px 2px 10px;" ng-if="!isLogCong">
                                        <button type="button" class="filterBydate" ng-repeat="x in filterBydate" ng-click="setEffectivedate(x,filterParams)" id="{{x.displayvalue|removeSpace}}">
                                            <div class="clearfix" style="background-color: transparent;"
                                                ng-if="$index % 2 == 0"></div>
                                            <div style="clear:both;" ng-if="$index % 2 == 0"></div>
                                            <div style="padding: 0px 5px;float: left;">
                                                <span
                                                    style="display: inline-block;font-size: 10px;width: auto;text-align: left;line-height: 10px;padding: 2px;" translate>
                                                    {{x.displayvalue}}</span>
                                                <i class="fa fa-calendar"></i>
                                            </div>

                                        
                                        </button>
                                        <div style="clear:both;"></div>
                                        <div id="customPicker" class="row fade-in-up" ng-show="showCustom" style="padding: 0.625rem 20rem 0rem 0rem;">
                                            <div class="input-group-prepend date " data-date-format="yyyy-mm-dd" data-date-viewmode="years" data-date-minviewmode="months" style="width: 100%">
                                                <div class="input-group col-md-12" style="padding: 0px 0px 0px 20px; width: 46%; float: left;">
                                                    <input type="text" class="form-control DatePicker" ng-model="filterParams.startDate" id="startDate" name="startDate"   placeholder="{{'BankDataDts.From' | translate}}" ng-blur="removeFn()" onkeypress="return tabOrder(event)" onpaste="return false">
                                                    <span class="input-group-text" ng-click="focusInfn('startDate')" style="border: 1px solid #eee;height:2.188rem"><span
                                                            class="fa fa-calendar"></span></span>
                                                </div>
                                                <span class="input-group-addon" style="border:none; background-color:transparent; width: 6%; float: left; padding: 10px;">{{'BankDataDts.To' | translate}}</span>
                                                <div class="input-group col-md-12" style="width: 46%">
                                                    <input type="text" class="form-control DatePicker" ng-model="filterParams.endDate" id="endDate"   placeholder="{{'BankDataDts.To' | translate}}" ng-blur="removeFn()" onkeypress="return tabOrder(event)" onpaste="return false">
                                                    <span class="input-group-text" ng-click="focusInfn('endDate')" style="border: 1px solid #eee; height:2.188rem"><span
                                                            class="fa fa-calendar"></span></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="clear:both"></div>
                                    <div class="row input-group justify-content-end" style="padding: 8px 14px 2px 14px;margin: 0;">
                                        <button type="Button" class="btn-trans btnStyle" data-toggle-second="tooltip" data-placement="top"  title="{{'BtnGroup.Cancel' | translate}}" style="margin-right: 10px;" ng-click="clearFilter()"><i
                                                class="fa fa-times"></i></button>
                                        <button type="Submit" class="btn-trans btnStyle" data-toggle-second="tooltip" data-placement="top" title="{{'BtnGroup.Search'| translate}}" style="cursor: pointer;" ng-class="((filterParams.EffectiveDate.displayvalue == 'Custom' ? filterParams.startDate && filterParams.endDate && showCustom : showCustom)|| filterParams.keywordSearch || filterParams.Status.length) && (filterParams.SearchSelect ? filterParams.keywordSearch ? true : false : true ) ?'cmmonBtnColors':'disabledBtnColor'">
                                            <i class="fa fa-search"></i>
                                        </button>
                                    </div>
                                </form>
                            </ul>
                        </div>
                    
                  
                        <button style="border: 1px solid #fff;box-sizing: border-box;border-left:0px" class="btn-trans" id="btn_2" ng-class="!changeViewFlag?'disabledBtnColor':'cmmonBtnColors'" ng-click="changeViewFlag = !changeViewFlag" data-toggle-second="tooltip" data-placement="top" title="{{'ToolTips.GridView' | translate}}"><i
                                class="fa fa-table"></i></button>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
       
            <div class="countbar-title row ml-0 mr-1">
               <input style="float:right;" type="text" class="form-control" placeholder="{{'ToolTips.QuickSearch' | translate}}" ng-model="QuickSearch" />	
                <div class="clearfix"></div>
            </div>
      


      
        <div id="statusBox"  class="animated bounce autoAdjustAlert bold" ng-repeat="alert in alerts" ng-class="{'alert alert-success': alert.type == 'success','alert alert-danger':alert.type == 'danger','alert alert-info':alert.type == 'info'}">
            <a class="close" data-dismiss="alert" aria-label="close">&times;</a> <span translate>{{alert.msg}}</span>
        </div>



        <div class="alert alert-warning" ng-show="readData.length <= 0">
            <strong>
                <h5 style="margin:0;text-align:center;" translate>BankDataDts.NoRecordsFound</h5>
            </strong>
        </div>

        <!-- Delete popup Window Start-->
        <div class="modal fade" tabindex="-1" id="delPopup" role="dialog">
            <div class="modal-dialog modal-md" style="top: 200px;">
                <div class="modal-content modalbdy animated tada">
                    <div class="modal-header" style="padding: 0px !important; border: 0px !important">
                        <div class="iconBox"><i class="exclaLine"></i><i class="exclaDot"></i></div>
                    </div>
                    <div class="modal-body" style="padding: 0px !important; border: 0px !important">
                         <h1 translate>BankDataDts.Areyousure</h1>
                        <!-- <h4>You will not be able to recover this Data!</h4> -->
                    </div>
                    <div class="modal-footer modalftr">
                        <button tabindex="0" type="button" class="buton cancl" data-dismiss="modal" translate >BtnGroup.Cancel</button>
                        <button tabindex="0" type="button" class="buton yess" ng-click="deleteData()"translate >BankDataDts.Confirm</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Delete popup Window End-->



        <div ng-show="truetag" style="position:relative;padding-right: 5px; border-top: none;" class="row">

            <div class="col-md-12">
                <div id="searchBoxModel" ng-style="{'width':alertWidth+'px'}" class="animated bounce autoAdjustAlert bold alert alert-info" ng-if="restInputData.QueryOrder.length || restInputData.Queryfield.length">
                    <a href="javascript:void(0)" ng-click="clearfromSearch($index,'QueryOrder',true)" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                    <div class="" style="padding: 0;margin: 0;display: table;width: 100%;">
                        <div class="" style="padding: 0;margin: 0;display: table-row;width: 100%">
                            <div class="" style="padding: 0;margin:0;display: table-cell;">
                                <label style="border: none;color: black;padding: 8px;outline: none;float: left;font-weight: bolder;">Search
                                    Name : </label>
                                <input type="text" ng-model="saveSearch.Name" style="border: none;color: black;background: transparent;padding: 8px;outline: none;float: left;border-bottom: 1px solid #31708f;" placeholder="Enter the Search Name...">
                                <button type="button" style="border: none;cursor:pointer;background: transparent;padding: 8px 10px;box-sizing: border-box;outline: none;float: left;border-bottom: 1px solid #31708f;"><i
                                        ng-if="!saveSearch.Name" class="fa fa-pencil"
                                        ng-class="saveSearch.Name?'fa-times':'fa-pencil'" style="color: #31708f;"></i><i
                                        ng-if="saveSearch.Name" class="fa fa-times" ng-click="saveSearch.Name = ''"
                                        style="color: #31708f;"></i></button>

                                <button type="button" style="border: none;cursor:pointer;background: #d9edf7;box-sizing: border-box;outline: none;float: left;margin: 0px 10px;"><i
                                        class="fa fa-floppy-o"
                                        style="color: #31708f;font-size: 25px;line-height: 25px;padding: 5px;"></i></button>
          
                            </div>
                        </div>
                        <div style="padding: 0;margin: 0;display: table-row;width: 100%">
                            <div class="" style="padding:10px 5px;margin:0;display: table-cell;">
                                <div ng-repeat="order in restInputData.QueryOrder" style="margin-right: 5px;margin-bottom: 5px;float:left;box-shadow: 0 8px 16px 0px rgb(172, 211, 230),0 8px 16px 0px rgb(172, 211, 230);">
                                    <span class="searchedItem">
                                        <li>{{order.ColumnName}} : {{order.ColumnOrder}}</li>
                                        <a href="javascript:void(0);" ng-click="clearfromSearch($index,'QueryOrder')"><i
                                                class="fa fa-times" aria-hidden="true"></i></a>
                                    </span>
                                </div>
                                <div ng-repeat="field in restInputData.Queryfield" style="margin-right: 5px;margin-bottom: 5px;float:left;box-shadow: 0 8px 16px 0px rgb(172, 211, 230),0 8px 16px 0px rgb(172, 211, 230);">
                                    <span class="searchedItem">
                                        <li>{{field.ColumnName}} : {{field.ColumnValue}}</li>
                                        <a href="javascript:void(0);" ng-click="clearfromSearch($index,'Queryfield')"><i
                                                class="fa fa-times" aria-hidden="true"></i></a>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12">
                <div ng-show="readData.length && !changeViewFlag" class="listView FixHead dataGroupsScroll" style="overflow-x: auto !important;">
                    <a id='dwnldLnk' style="display:none;"></a>
                    <table class="table table-bordered floatThead stickyheader" ng-show="readData.length > 0">
                        <thead>
                            <tr style="border:none">
                                <th ng-if="newPermission.U || newPermission.D || newPermission.Download || newPermission.Generate" nowrap="nowrap" style="text-align: center;" ng-hide="Title=='Inbox'" translate>ReportGenerate.TableAction</th>
                                <th nowrap="nowrap" ng-repeat="field in fieldDetails.Section" ng-class="{'cursorPointer':(field.FieldName != 'Rule')}" ng-click="(Title == 'Business Rules' && field.FieldName == 'Rule')?'':gotoSorting(field.FieldName)" style="min-width:100px; vertical-align: middle;"
                                    attr="{{field}}" >
                                    {{field.Label | translate}}<span id="{{field.FieldName}}_Icon" class=""></span></th>
                                  
                            </tr>
                        
                        </thead>
                        <tbody>
                          
                            <tr ng-init="rowIndex = $index;" id="{{'displayingWindow_'+$index}}" class="displayWindow collapse show" ng-repeat="(indexOrg, office) in readDataBkp | filter:QuickSearch" ng-if="(!$first ||true)"   style="cursor:pointer">
                                <td nowrap="nowrap" ng-hide="Title=='Inbox'"  ng-if="newPermission.U || newPermission.D || newPermission.Download || newPermission.Generate">
                                    <div class=" col-md-12 col-lg-12" ng-init="_permission = office['Status'] ? callforPermission(permission,office['Status']) : permission">
              
                                        <button type="button" class="btnSuccess btn-md viewbtn" id="btn_2" data-toggle="tooltip"  title= "{{'XMLFileGeneration.Generatexml' | translate}}" ng-disabled="((office['Clearingdate']!=CUURENTDATE)||(office['Status']=='DELETED')||(office['GeneratedFile']?true:false)||(((office['Position']=='A favor de ACH Dev')||(office['Position']=='En contra de ACH Dev'))&&(office['Transactions']?false:true)))" ng-click="Generatexml(office)"  translate>XMLFileGeneration.Generatexml</button>
                                       
                                        <a ng-if="newPermission.U" class="actionIcons" ng-style="((office['Clearingdate']==CUURENTDATE)&&(office['Status']!='DELETED')&&(!office['ResponseID']==true)&&office['ClosewithoutresponseBR']!='Si')? {'opacity':'','cursor': 'pointer'}:{'opacity':'0.3','cursor': 'not-allowed'}" ng-click="((office['Clearingdate']==CUURENTDATE)&&(office['Status']!='DELETED'))?goToEditOperation({'Operation':'Edit','fieldData':readData[indexOrg]}):''" data-toggle-second="tooltip" data-placement="top"
                                        title="{{(_permission.U && office['Status'] != 'REACTIVATED-WAITFORAPPROVAL')?'ToolTips.Edit':'ToolTips.DontPermission' | translate}}"><i
                                            class="fa fa-pencil-square-o Icon_Add_Edit"></i></a> 
                                           
                                    
                                        <a ng-if="newPermission.D" class="actionIcons"  ng-style="((office['Clearingdate']==CUURENTDATE)&&(office['Status']!='DELETED')&&(!office['GenerationDate']==true))? {'opacity':'','cursor': 'pointer'}:{'opacity':'0.3','cursor': 'not-allowed'}" data-toggle="modal" data-target="{{((office['Clearingdate']==CUURENTDATE)&&(office['Status']!='DELETED')&&(!office['GenerationDate']==true))?'#delPopup':''}}" data-toggle-second="tooltip" data-placement="top"
                                            title="{{(_permission.D && office['Status'] != 'REACTIVATED-WAITFORAPPROVAL')?'ToolTips.Delete':'ToolTips.DontPermission' | translate}}" ng-click="(_permission.D && office['Status'] != 'REACTIVATED-WAITFORAPPROVAL')? takeDeldata(office,$index):''"><i class="fa fa-trash-o Icon_Delete"></i></a>
                                        
                                                                                
                                                                                             
                                        <button ng-if="newPermission.Download" type="button" class="btnDefault btn-md viewbtn" id="btn_2" data-toggle="tooltip" title= "{{'ToolTips.Download' | translate}}" ng-disabled="office['Status']=='DELETED' || (office['GeneratedFile']?false:true)" ng-click="downloadxml(office)" translate>ToolTips.Download</button>
                                        
                                        </div>
                                </td>
                                <td nowrap="nowrap" ng-repeat="field in fieldDetails.Section" id="{{field.FieldName+'_'+rowIndex}}" ng-style="StylesForPage(field.FieldName, showPageTitle)" style="height:38px;" 
                                >
                   
                                    <span ng-if="field.Type == 'BigDecimal' && field.Label != 'VPHCYCLEEXTENSION.Sanction' && field.FieldName != 'UpperLimit' && field.FieldName != 'LowerLimit' &&field.FieldName != 'Amount_in_Favor'&& field.FieldName != 'Amount_Against' &&field.FieldName != 'Totalamount' &&field.FieldName!='GeneratePendings'"> {{office[field.FieldName]}</span>
                               
                                    <span ng-if="field.FieldName=='Returns'" >  
                                         <span  ng-class="{active1:rowIndex==selectedRow}" ng-disabled="office['Position']=='A favor de ACH Dev'" 
                                         ng-style="(office['Position']=='A favor de ACH Dev'||office['Position']=='En contra de ACH Dev')? {'pointer-events':'auto'} : {'pointer-events':'none'}"style="cursor:pointer;float: left;padding: 3px; white-space:nowrap;" class="colorBlueHover"  ng-click="showtables(office);rowHighilited(rowIndex)"><i class="fa fa-eye"></i><span translate>PaymentModuleDts.View</span></span>
                                    </span>

                                    <span ng-if="field.FieldName=='GeneratePendings'"> 
                                        <button type="button" class="btnSuccess btn-md viewbtn" ng-disabled="office[field.FieldName]==0" id="btn_2" data-toggle="tooltip" ng-click="GeneratePendings(office)" title= "{{'Xmlfile.Generate' | translate}}" translate>Xmlfile.Generate</button>
                                    </span>
                                
                         
                                    <span ng-if="field.Type != 'Boolean' && field.Type != 'BigDecimal' && field.Label != 'VPHCYCLEEXTENSION.Sanction' && field.FieldName != 'UpperLimit' && field.FieldName != 'Totalamount' && field.Label !='Limits.CuentasAutorizadas' && field.Label !='Limits.MontoEspecial' && field.Label !='Limits.MontoMinimoRequerido'&& field.FieldName != 'Registry_Date'&& field.FieldName != 'GeneratePendings'&& field.FieldName != 'Returns'"> {{office[field.FieldName]}}</span>
									<span ng-if="field.FieldName == 'Registry_Date'"> {{office[field.FieldName] | dateFormatonlyfordate}}</span>

                                    <span ng-if="(field.Type == 'Boolean') || (field.Label=='CuentasAutorizadas') || (field.Label=='MontoEspecial') || (field.Label=='MontoMinimoRequerido')"> {{('BankDataDts.'+(office[field.FieldName] ? 'Yes':'No')) | translate}}</span>
                                    <span class="pull-right" ng-if="field.FieldName == 'Totalamount'">{{office[field.FieldName] | currency:'$'}}</span>
    
                                </td>
                            </tr>
                         
                        </tbody>
                    </table>
                </div>
                <div class="clearfix"></div>
            </div>
   
        </div>
      
            <div class="listView FixHead headershide mt-2 " ng-if="showtable" >
         
                <table class="table table-bordered">
                    <thead>
                        <tr  nowrap="nowrap" >  
                            <th translate style="text-align: left;">Xmlfile.EntityExists</th>
                            <th translate style="text-align: left;">Xmlfile.EntityName</th>
                            <th translate style="text-align: left;">Xmlfile.TransactionCode</th>
                            <th translate style="text-align: left;">Xmlfile.TransactionAmount</th>
                            <th translate style="text-align: left;">Xmlfile.XMLEntityNIT</th>
                            <th translate style="text-align: left;">Xmlfile.EntityAccount</th>
                            <th translate style="text-align: left;">Xmlfile.XMLPortfolio</th>
                            <th translate style="text-align: left;">Xmlfile.DescriptionOfTheReturn</th>
                            <th translate style="text-align: center;">commissions.Action</th>
                         
                        </tr>
                    </thead>

                        <tbody  ng-repeat="choice in choices" style="text-align: center;">
                       
                        <td style="text-align: right;">
                            <select id="EntityExists"  name="EntityExists" class="form-control boxHeight" ng-model="EntityExists[$index]">
                                <option value="" >{{'Placeholder.Select' | translate}}</option> 
                                <option value="SI" translate>BankDataDts.Yes</option>
                                <option value="No" translate>BankDataDts.No</option>
                            </select>
                        </td>
                        <td style="text-align: right;" ng-if="EntityExists[$index]=='SI'" >
                            <select id="EntityName" name="EntityName" class="form-control elem-width-auto boxHeight" ng-change="checkinfos(EntityName[$index],$index,EntityName)" ng-model="EntityName[$index]">
                                <option value="" >{{'Placeholder.Select' | translate}}</option> 
                                <option value="{{party.actualvalue}}" ng-repeat="party in parties" >{{party.displayvalue}}</option>
                            </select>
                        </td>
                        <td style="text-align: right;" ng-if="EntityExists[$index]=='No'" style="width: auto;">

                            <input type="text" id="EntityNames" class="elem-width-auto boxHeight"  name="EntityNames" ng-model="EntityName[$index]"  autocomplete="off">
                        </td>
                        <td style="text-align: right;">
                            <label style="display: inline-flex;">
                                <input type="text"  id="{{'TransactionCode_'+$index}}" class="boxHeight" ng-model="TransactionCode[$index]" autocomplete="off">
                                <span style="color:#e02222;font-size:0.75rem;padding-left:0.125rem" aria-required="true">*</span>
                            </label>
                         </td>
                         <td style="text-align: right;">
                             <label style="display: inline-flex;">
                                 <input type="text" id="{{'TransactionAmount_'+$index}}" class="boxHeight" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"  ng-model="TransactionAmount[$index]" ng-change="Totalamountcalculate(TransactionAmount[$index],TransactionAmount)" autocomplete="off">
                                 <span style="color:#e02222;font-size:0.75rem;padding-left:0.125rem" aria-required="true">*</span>
                            </label>
                         </td>
                         <td style="text-align: right;">
                             <label style="display: inline-flex;">
                                 <input type="text" id="{{'XMLEntityNIT_'+$index}}" class="boxHeight" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');" ng-model="XMLEntityNIT[$index]" autocomplete="off">
                                 <span style="color:#e02222;font-size:0.75rem;padding-left:0.125rem" aria-required="true">*</span>
                            </label>
                         </td>
                         <td style="text-align: right;">
                             <label style="display: inline-flex;">
                                 <input type="text" id="{{'EntityAccount_'+$index}}" class="boxHeight" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');" ng-model="EntityAccount[$index]" autocomplete="off">
                                 <span style="color:#e02222;font-size:0.75rem;padding-left:0.125rem" aria-required="true">*</span>
                            </label>
                         </td>
                         <td style="text-align: right;">
                             <label style="display: inline-flex;">
                                 <input type="text" id="{{'XMLPortfolio_'+$index}}" class="boxHeight"  oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');" ng-model="XMLPortfolio[$index]" autocomplete="off">
                                 <span style="color:#e02222;font-size:0.75rem;padding-left:0.125rem" aria-required="true">*</span>
                            </label>
                         </td>
                         <td style="text-align: right;">
                             <label style="display: inline-flex;">
                                 <input type="text" id="{{'DescriptionOfTheReturn_'+$index}}" class="boxHeight" ng-model="DescriptionOfTheReturn[$index]" maxlength="140" autocomplete="off">
                                 <span style="color:#e02222;font-size:0.75rem;padding-left:0.125rem" aria-required="true">*</span>
                            </label>
                         </td>
                        <td style="text-align: right;display: flex;float: right;">
                            <button type="button" class="btn btn-sm btn-success" ng-show="showChoice(choice)"  ng-click="addSection($index)"  style="margin-bottom:30px" ng-disabled="(!(EntityExists[$index] && TransactionCode[$index]&& XMLEntityNIT[$index]&& EntityAccount[$index]&&XMLPortfolio[$index]&&DescriptionOfTheReturn[$index])||(disablethesavebutton))">
                                <span class="fa fa-plus"></span>
                            </button> &nbsp; &nbsp;&nbsp; 
                            <button type="button" class="btn btn-sm btn-danger" ng-disabled="disablethesavebutton"  ng-show="choices.length>1" ng-click="removeSection($index,TransactionAmount[$index])" style="margin-bottom:30px" >
                                <span class="fa fa-minus"></span>
                            </button>
                        </td>

               
                    </tbody>
               
                    
                </table>
                <div style="text-align: center;">
                    <button type="button" class="btnDefault btnStyle" ng-disabled="disablethesavebutton" ng-click="loadData()" translate>BtnGroup.Cancel</button>
                    <button type="button" class="btnSuccess btnStyle" ng-disabled="disablethesavebutton" ng-click="savechanges()" translate>commissions.save</button>
                </div>
            </div>
            <div style="text-align: center;"  ng-show="showtable" >
                <span class="bold" translate>Xmlfile.Totalvaluereturned</span><span class="bold">{{ total | currency:'$' }}</span></br>
                <span class="bold" translate> Xmlfile.Numberofrecords</span><span class="bold">{{EntityExists.length}}</span>
            </div>
         

   

</div>
<script>
    $(document).ready(function() {
        $('body').tooltip({
            selector: "[data-toggle=tooltip]"
        }); 
       
        setTimeout(function() {
                $('[data-toggle-second=tooltip]').tooltip({ trigger: "hover" });
                $('.my-tooltip').tooltip({ trigger: "hover" });
            }, 1000)

        $('.input-group-text').on('click focus', function(e) {
            $(this).prev().focus().click()
        });
        var isIE = /*@cc_on!@*/ false || !!document.documentMode;

        if (isIE) {
            var _placeholder;
            $('input[name=keywordSearch]').mouseenter(function(e) {
                _placeholder = $(this).attr('placeholder');
                $(this).attr('placeholder', '')
            }).mouseleave(function() {
                $(this).attr('placeholder', _placeholder)
            })
        }

    });
</script>
