<!-- BEGIN PAGE HEADER-->
<style>
    input:required {
        box-shadow: none;
    }
    /*input:invalid {
    box-shadow:0 0 3px red;
}*/
    
    .bootstrap-datetimepicker-widget {
        display: block;
    }
    
    .bootstrap-datetimepicker-widget .datepicker-days {
        display: block;
    }
    
    .bootstrap-datetimepicker-widget .datepicker-months {
        display: block;
    }
    
    .bootstrap-datetimepicker-widget .datepicker-years {
        display: block;
    }
    
    .bootstrap-datetimepicker-widget .datepicker-decades {
        display: block;
    }
    .input-group-addon {
        padding: .295rem .75rem;
        margin-bottom: 0;
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5;
        color: #495057;
        text-align: center;
        background-color: #e9ecef;
        border: 1px solid #ced4da;
    }
    .cardMargin{
        margin-top:2.5rem;
    }

    .cardheaderAlign{
        padding:0.563rem 0.938rem;
        background-color:#f9f9f9;
        border-bottom-width: 0rem;
    }

    .statusAlighn{
        color:#666;
        padding: 0;
        text-align: right;
    }

    .statusiconAlighn{
        font-size: 1.25rem;
        line-height:1.25rem;
        margin-right: 0.625rem;
    }
    .cardbodyAlign{
        padding:0.563rem 0.938rem;
        background-color:transparent;
    }  

    .linkstatus{
        color:#666;
        /* padding: 0; */
        text-align: right;
    }

    .linkstatusAlighn{
        display: inline-block; 
        cursor: pointer;
    }

    .linkstatusCursor{
        cursor: pointer;
    }
    .cardheaderColor{
        background-color:#fff;
    }

    .cardbodyColor{
        border:0.063rem solid #ccc;
    }

    .cardcontentAlighn{
        margin:0;
        margin-top:0.625rem;
        margin-bottom:2.125rem;
        padding-left:0rem;
        line-height:1.875rem;
    }

    .cardmar{
        margin:0;
    }
    
</style>
<div class="breadCrumb row" ng-controller="activeController">
    <div class="col-md-6">
        <ul class="page-breadcrumb">
            <!--<li>
            <i class="fa fa-home"></i>
            <a href="javascript:void(0);" translate ng-click="goToHome()">Sidebar.Home</a>
            <i class="fa fa-angle-right"></i>
        </li>-->
            <li>
                <i class="fa fa-building-o"></i>
                <a href="javascript:void(0);" translate>Sidebar.BankData</a>
                <i class="fa fa-angle-right"></i>
            </li>
            <li>
                <a href="javascript:void(0);" ng-click="gotoShowAlert()" translate>Sidebar.MPITemplate</a>
                <i class="fa fa-angle-right"></i>

            </li>
            <li>
                {{fromAddNew ? 'Add New' : ViewClicked ? 'View' : 'Edit'}}
            </li>
        </ul>
    </div>
    <div class="col-md-6 headerVals">
        <div data-ng-include="'templates/header/VPheader.html'" data-ng-controller="headerCtrl"></div>
    </div>
</div>

<div class="contentContainer" style="padding: 0px 35px 35px;">

    <div class="animated bounce autoAdjustAlert bold" ng-repeat="alert in alerts" ng-style="{'top':alertStyle+'px','width':alertWidth+'px'}" ng-class="{'alert alert-success': alert.type == 'success','alert alert-danger':alert.type == 'danger'}">
        <a class="close" data-dismiss="alert" aria-label="close">&times;</a> {{alert.msg}}
    </div>


    <div class="modal fade" id="changesLostModal" role="dialog" tabindex="-1">
        <div class="modal-dialog">


            <div class="modal-content" style="border:2px solid #243250a6;width:600px;" ng-if="madeChanges">
                <div class="modal-body">
                    <h4 translate>BankDataDts.PopupMsg</h4>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btnStyle" ng-click="gotoClickedPage();" translate>BankDataDts.Yes</button>
                    <button type="button" class="btn btnStyle" data-dismiss="modal" ng-click="cancelChanges()" translate>BankDataDts.No</button>
                </div>
            </div>
            <div class="modal-content" style="border:2px solid #243250a6;" ng-if="!madeChanges">
                <div class="modal-body">
                    <h4 style="font-size:17px;">Primary key fields are missing.UUID will be autogenerated.<br>Do you wish to continue?</h4>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btnStyle clr" ng-click="SaveAsModalDraft()"><span translate>
                            Yes</span></button>

                    <button type="button" class="btn btnStyle" data-dismiss="modal" ng-click="cancelChanges()" translate>BankDataDts.No</button>
                </div>
            </div>

        </div>
    </div>

    <div class="modal fade" id="draftOverWriteModal" role="dialog" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content" style="border:2px solid #243250a6;" ng-if="!updateEntity">
                <div class="modal-body">
                    <h4>Draft Already Exists. Do you want to Overwrite?</h4>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btnStyle" ng-click="forceSaveDraft();" translate>BankDataDts.Yes</button>
                    <button type="button" class="btn btnStyle" data-dismiss="modal" translate>BankDataDts.No</button>

                </div>
            </div>
            <div class="modal-content" style="border:2px solid #243250a6;" ng-if="updateEntity">
                <div class="modal-body">
                    <h4>This will update the actual entity. Do you wish to continue?</h4>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btnStyle" ng-click="addandForseSaveMpidetails(takeuserbckup,method);" translate>BankDataDts.Yes</button>
                    <button type="button" class="btn btnStyle" data-dismiss="modal" ng-click="resetAllDrafts()" translate>BankDataDts.No</button>

                </div>
            </div>
        </div>
    </div>


    <div>


        <div class="card panel-default" style="margin: 40px 0px 21px 0px;" ng-if="ViewClicked && !fromAddNew">

            <div class="card-header row m-0 cardheaderAlign" style="background-color:transparent;">

                <div class="col-md-8 serviceHeading" ng-style="{'color':(FXRate.Status | chooseStatus)}" style="word-break: break-all;">
                    {{FXRate.TemplateName}}<br>
                </div>

                <div class="col-md-4 serviceHeading" ng-style="{'color':(FXRate.Status | chooseStatus)}" ng-if="FXRate.Status" style="padding: 0;text-align: right;">
                    <!-- <div class="col-md-12" style="padding: 0;text-align: center;"> -->
                    <i style="font-size: 20px;line-height:20px;" class="fa fa-circle ng-scope" tooltip="{{FXRate.Status}}" tooltip-placement="bottom"></i>
                    <!-- </div> -->

                    <span style="padding: 0;">{{FXRate.Status}}</span>
                </div>

                <div class="clearfix"></div>


            </div>

            <div  class="card-body row panel-default cardbodyAlign" style="padding:0.563rem 0.938rem;background-color:transparent;">
                <div class="col-md-10 pl-3">
                    Effective Date :
                    <span class="ng-binding">{{FXRate.EffectiveFromDate}}</span>
                </div>
                <div class="col-md-2 linkstatus">
                <!-- <div class="col-md-4" style="padding: 0;text-align: right;"> -->
                    <a style="display:inline-block" class="actionIcons linkstatusAlighn" ng-style="(permission.U && FXRate.Status != 'DELETED' && FXRate.Status != 'ACTIVE-WAITFORAPPROVAL' && FXRate.Status != 'REACTIVATED-WAITFORAPPROVAL')? {'opacity':'','cursor': 'pointer'}:{'opacity':'0.2','cursor': 'not-allowed'}"
                        ng-click="(permission.U && FXRate.Status != 'DELETED' && FXRate.Status != 'ACTIVE-WAITFORAPPROVAL' && FXRate.Status != 'REACTIVATED-WAITFORAPPROVAL' )?gotoEdit():''" tooltip="{{(permission.U && FXRate.Status != 'DELETED' && FXRate.Status != 'ACTIVE-WAITFORAPPROVAL' && FXRate.Status != 'REACTIVATED-WAITFORAPPROVAL'  )?'ToolTips.Edit':'ToolTips.DontPermission' | translate}}"><i class="fa fa-pencil-square-o Iclr1"></i></a>

                    <a style="display:inline-block" class="actionIcons linkstatusAlighn" data-toggle="modal" data-target="{{(permission.D && FXRate.Status != 'DELETED' && FXRate.Status != 'ACTIVE-WAITFORAPPROVAL' && FXRate.Status != 'REACTIVATED-WAITFORAPPROVAL')?'#delPopup':''}}" ng-style="(permission.D && FXRate.Status != 'DELETED' && FXRate.Status != 'ACTIVE-WAITFORAPPROVAL' && FXRate.Status != 'REACTIVATED-WAITFORAPPROVAL')? {'opacity':'','cursor': 'pointer'}:{'opacity':'0.2','cursor': 'not-allowed'}"
                        ng-click="(permission.D && FXRate.Status != 'DELETED' && FXRate.Status != 'ACTIVE-WAITFORAPPROVAL' && FXRate.Status != 'REACTIVATED-WAITFORAPPROVAL')?takeDeldata(FXRate):''" tooltip="{{(permission.D && FXRate.Status != 'DELETED' && FXRate.Status != 'ACTIVE-WAITFORAPPROVAL' && FXRate.Status != 'REACTIVATED-WAITFORAPPROVAL')?'ToolTips.Delete':'ToolTips.DontPermission' | translate}}"><i class="fa fa-trash-o Iclr1"></i></a>

                    <a class="actionIcons" ng-if="((permission.ReActivate) && FXRate.Status == 'DELETED' )" ng-click="(permission.ReActivate)?gotoReactivate(FXRate):''" tooltip="{{(permission.ReActivate)?'ToolTips.ReActivate':'ToolTips.DontPermission' | translate}}"><i
                            class="fa fa-repeat Iclr1"></i></a>
                </div>
            </div>
        </div>

        <div class="panel-group" style="border:1px solid #ccc;" ng-if="ViewClicked && !fromAddNew">

            <div class="row" style="margin:0;line-height:30px;">
                <div class="row" style="margin:0;margin-top:10px;margin-bottom:34px;padding-left:0px;">
                    <div class="row col-md-12 col-sm-12 col-xs-12" ng-repeat="field in strData" style="margin:0;" ng-style="($index%2 == 0)?{'background-color': 'rgb(245, 245, 245)'}:{'background-color': '#fff'}" ng-if="(field.label != 'Template') && (field.label != 'MPITemplate_PK')">
                        <label class="control-label bold  col-md-4 col-sm-4 ">
                            <span class="col-md-10 col-sm-10 col-xs-10 ng-binding" style="padding-left: 0rem;">{{field.label
                                | camelCaseFormatter}}</span> <span class="col-md-4 col-sm-1 float-md-right float-sm-center">:</span>  </label>
   
                        <div class="control-label control-label col-md-8 col-sm-8 col-xs-6 ng-binding subserviceInfo">
                            <span class="ng-binding">{{field.value}}</span>
                        </div>

                    </div>
                </div>
            </div>
                      
            <div class="row" style="margin:0;margin-top:65px;" ng-if="editedLog.length">
                <div class="col-md-12 bold control-label" style="margin:0;font-size:16px;" translate>ToolTips.EditLog</div>
                <ul style="line-height:35px;margin-top:30px">
                    <li ng-repeat="log in editedLog" style="padding: 0px 15px;">
                        <div style="display:block;word-break: break-all;">
                            <span style="float: left; width: 100%; padding: 0px 15px;"> <i class="fa fa-circle"
                                    aria-hidden="true"
                                    style="margin-right: 12px; font-size: 12px;line-height: 12px;"></i>
                                {{log.action}} on {{log.userAuditTimeStamp | dateFormat}} by {{log.UserId}}
                            </span>
                        </div>

                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Delete popup Window Start-->
    <div class="modal fade" tabindex="-1" id="delPopup" role="dialog">
        <div class="modal-dialog modal-md" style="top: 200px;">
            <div class="modal-content modalbdy animated tada">
                <div class="modal-header" style="padding: 0px !important; border: 0px !important">
                    <div class="iconBox"><i class="exclaLine"></i><i class="exclaDot"></i></div>
                </div>
                <div class="modal-body" style="padding: 0px !important; border: 0px !important">
                     <h1 translate>BankDataDts.Areyousure</h1>
                    <!-- <h4 translate>BankDataDts.PopupRecoverMsg</h4 -->>
                </div>
                <div class="modal-footer modalftr">
                    <button tabindex="0" type="button" class="buton cancl" data-dismiss="modal" translate >BtnGroup.Cancel</button>
                    <button tabindex="0" type="button" class="buton yess" ng-click="deleteData();">Yes, delete
                        it!</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Delete popup Window End-->   
    <div class="pageTitle alertWidthonResize" ng-if="!ViewClicked && !fromAddNew">
        <div class="row">
            <div class="col-sm-12 ng-binding" ng-style="{'color':(parentInput.fieldData | chooseColor)}" style="color: rgb(65, 85, 195);">
                <div class="col title__container">
                    <h2 translate>MPITemplates.Edit</h2>
                    <p translate> Branch.ForMandatory</p>
                </div>
            </div>
        </div>
    </div>

    <div class="pageTitle alertWidthonResize" ng-if="(!ViewClicked && fromAddNew)">
        <div class="row">
            <div class="col-sm-12 ng-binding" ng-style="{'color':(parentInput.fieldData | chooseColor)}" style="color: rgb(65, 85, 195);">
                <div class="title__container">
                    <div class="row col-md-12">
                        <div style="width:8%;float:left;">
                            <h2 translate>BtnGroup.AddNew</h2>
                        </div>
                        <div style="width:84%;float:left;">
                            <h2 translate>MPITemplates.PageTitle</h2>
                        </div>
                        <div class="clearfix"></div>
                        <p translate>Branch.ForMandatory</p>
                    </div>
                </div>

            </div>
        </div>

    </div>

    <div class="" ng-if="(!ViewClicked)">

    <form class="form-horizontal" id="MPIForm" role="form" name="benelistForm" ng-submit="createData(PaymentDetails,OrderingCustomer,BeneficiaryBank,Beneficiary,RemittanceInformation,refferdDocInfoData, discountAppliedAmountGrp, UltimateDebtor,UltimateCreditor,psaCode11,PaymentBranch,party,service11,IntermediaryBankDetails123,OrderingCustomerAccountNumber,ProductsSupported123,SaveTemplate,TemplateDetails,psaCode11,EndToEndId,saveAsDraft);">
        <!-- <div class="row" style="margin: 15px !important;"> -->
                <div class="form-group row col-md-10 col-sm-6">
                
                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                    <label class="control-label">Templates
                        </label>
                </div>   
            
                <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.party.$invalid]">
                    <select class="form-control appendselect212" select2-model-append id="templates" name="templates" ng-model="templates" ng-change="loadTemplateData(templates)">
                        <option value="">--Select--</option>
                        <option ng-repeat="party in TemplatesOptions" value="{{party}}">
                            {{party.displayvalue | underscoreRemove}}</option>
                    </select>
                </div>
            </div>
        <!-- </div> -->
        <!-- new accordion - PaymentDetails-->
        <div class="accordion">
            <div class="card">
                <div class="card-header cardColor"> 
                    <div class="fileListStyle"  data-toggle="collapse" data-target="isPaymentDetailsCollapsed" aria-expanded="true" ng-click="isPaymentDetailsCollapsed = !isPaymentDetailsCollapsed">
                        <span class="bold">Payment Details </span>
                        <div class="pull-right">
                            &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="float-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isPaymentDetailsCollapsed, 'fa-angle-right': isPaymentDetailsCollapsed}"></i>
                        </div>
                    </div>
                </div>
                <div collapse="isPaymentDetailsCollapsed" class="customClass collapse show">
                    <!-- <div class="row" style="margin: 15px !important;"> -->
                    <div class="card-body ">
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">       
                                <label class="control-label">Party
                                    <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label>
                            </div>

                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.party.$invalid]">
                                <select class="form-control appendselect2" select2-model-append id="PartyCode" name="party" ng-model="party" ng-change="getServiceList(party,PartySelectedFlag)">
                                    <option value="">--Select--</option>
                                    <option ng-repeat="party in partyOptions" value="{{party}}">{{party.PartyName |
                                        underscoreRemove}} {{}}</option>
                                </select>
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.party.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>

                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">                                   
                            <label class="control-label">Service
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label>    
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.service11.$invalid]">
                                <!--  <select class="form-control" name="service11" ng-model="service11" ng-required="true" ng-change="getMSGTypebyPartyService(party,service11)" ng-if="((serviceOptions.length==1)||(serviceIsNotSingle))">
                                    <option value="">--Select--</option>
                                    <option ng-repeat="service in serviceOptions" value="{{service.ServiceCode}}">{{service.ServiceName | underscoreRemove}}</option>
                                </select> -->
                                <select class="form-control" name="service11" ng-model="service11" ng-change="getMSGTypebyPartyService(party,service11)">
                                    <option value="" selected>--Select--</option>
                                    <option ng-repeat="service in serviceOptions" value="{{service}}">{{service.ServiceName
                                        | underscoreRemove}}</option>
                                </select>
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.service11.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>

                            <div class="form-group row col-md-10 col-sm-6">            
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Messages Type
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label> 
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.MessageType.$invalid]">
                                <select class="form-control" name="MessageType" id="MessageTypeID" ng-model="PaymentDetails.MessageType" ng-change="getPSAList(PaymentDetails.MessageType,service11,party);getPaymentType(PaymentDetails.MessageType)">
                                    <option value="" selected>--Select--</option>
                                    <option value="{{MT.actualValue}}"
                                        ng-repeat="MT in forUSRTP.MessageType track by $index">{{MT.displayValue}}
                                    </option>
                                </select>
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.MessageType.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>

                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Party Service Association Code
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label>
                            </div>

                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.psaCode.$invalid]">
                                <select class="form-control" id="psaCode" name="psaCode" ng-model="psaCode11" ng-change="getBranchList(psaCode11);getOrderingCustomer(party)">
                                    <option value="" selected>--Select--</option>
                                    <option ng-repeat="psaCode in selectOptions" ng-if="PaymentDetails.MessageType"
                                        value="{{psaCode}}">{{psaCode.PartyServiceAssociationCode |
                                        underscoreRemove}} ({{psaCode.PartyCode}})</option>
                                </select>

                            </div>
                            <span ng-show="updatesubmitted && benelistForm.psaCode.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Branch
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.Branch.$invalid]">
                                <select class="form-control" id="Branch" name="Branch" ng-model="PaymentBranch">
                                    <option value="" disabled>--Select--</option>
                                    <option ng-repeat="option1 in branchList" value="{{option1.BranchCode}}">{{option1.BranchName
                                        | underscoreRemove}}</option>
                                </select>
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.Branch.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Products Supported
                                <span style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.PaymentType.$invalid]">
                                <select class="form-control" name="PaymentType" ng-model="ProductsSupported123" ng-change="getPaymentTypeDetails(ProductsSupported123,party,service11)">
                                    <option value="" disabled>--Select--</option>
                                    <option ng-repeat="PT in ProductsSupported" value="{{PT}}">{{PT}}</option>
                                </select>
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.PaymentType.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>
                           <!-- <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Value Date
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true"
                                    ng-if="PaymentDetails.MessageType != 'Request for Payment'">*</span>
                                </label>
                            </div>
                            <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && benelistForm.ValueDate.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                                <input class="form-control DatePicker dateTypeKey" type="text" name="ValueDate" ng-model="PaymentDetails.ValueDate" placeholder="Please Select Date" ng-focus="activatePicker($event)" ng-required="PaymentDetails.MessageType != 'Request for Payment'" ng-disabled="false">
                                <span class="input-group-addon cursorPointer"><span
                                        class="fa fa-calendar"></span></span>
                            </div>
                            <span class="help-inline" ng-show="updatesubmitted && benelistForm.ValueDate.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                        </div>-->

                        <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Customer Credit Transfer'">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Value Date
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true"
                                    ng-if="PaymentDetails.MessageType != 'Request for Payment'">*</span>
                                </label>
                            </div>
                            <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && benelistForm.ValueDate.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                                <input class="form-control DatePicker" type="text" name="ValueDate" ng-model="PaymentDetails.ValueDate" placeholder="Please Select Date" ng-required="true" onkeypress='return tabOrder(event)' ng-blur="multipleEmptySpace($event)"
                                    ng-focus="activatePicker($event)" ng-disabled="false" autocomplete="off">
                                <span class="input-group-text cursorPointer"><span
                                        class="fa fa-calendar" aria-hidden="true"></span></span>                              
                                       
                            </div>
                            <span class="help-inline" ng-show="updatesubmitted && benelistForm.ValueDate.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                        </div>

                        <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Requested Execution Date
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label>
                            </div>
                            <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && benelistForm.RequestedExecutionDate.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                                <input class="form-control DatePicker dateTypeKey" type="text" name="RequestedExecutionDate" ng-model="PaymentDetails.RequestedExecutionDate" placeholder="Please Select Date" ng-focus="activatePicker($event)" ng-required="true" ng-disabled="false">
                                <span class="input-group-addon cursorPointer"><span
                                        class="fa fa-calendar"></span></span>
                            </div>
                            <span class="help-inline" ng-show="updatesubmitted && benelistForm.RequestedExecutionDate.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                        </div>
                        <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Requested Execution Time
                                <!-- <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span> -->
                                </label>
                            </div>
                            <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && benelistForm.RequestedExecutionTime.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                                <input class="form-control TimePicker" type="text" name="RequestedExecutionTime" ng-model="PaymentDetails.RequestedExecutionTime" placeholder="Please Select Time" onkeypress='return tabOrder(event)' ng-blur="multipleEmptySpace($event)" ng-focus="activatePicker($event)"
                                    ng-disabled="false">
                                <span class="input-group-addon cursorPointer">
                                    <span class="fa fa-clock-o"></span>
                                </span>
                            </div>
                            <!-- <span class="help-inline" ng-show="updatesubmitted && benelistForm.RequestedExecutionTime.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span> -->
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">
                                Debtor Customer Proprietary Code
                                <!-- <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true" ng-if="ServiceCodeForConditions=='RPX'">*</span> -->
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.DebtorCustomerProprietaryCode.$invalid]">
                                <select class="form-control checkSelectEntry" name="DebtorCustomerProprietaryCode" ng-model="PaymentDetails.DebtorCustomerProprietaryCode" ng-change="getBeneficiaryCountry(PaymentDetails.DebtorCustomerProprietaryCode)">
                                    <option value="" disabled>--Select--</option>
                                    <option value="{{MT.actualValue}}"
                                        ng-repeat="MT in forUSRTP.DebtorCustomerProprietaryCode track by $index">
                                        {{MT.displayValue}}</option>
                                </select>
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.DebtorCustomerProprietaryCode.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Local Instrument
                                <span ng-if="!CXCFlag" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label> </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.LocalInstrument.$invalid]">

                                <select class="form-control checkSelectEntry" name="LocalInstrument" select2-model-append ng-model="PaymentDetails.LocalInstrument" ng-disabled="CXCFlag" ng-required="!CXCFlag">
                                    <option value="">--Select--</option>
                                    <option value="{{LI.actualValue}}" ng-repeat="LI in LocalInstrument">
                                        {{LI.displayValue}}
                                    </option>
                                </select>

                            </div>
                            <span ng-show="updatesubmitted && benelistForm.LocalInstrument.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Payment Currency
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.PaymentCurrency.$invalid]">

                                <select class="form-control checkSelectEntry" name="PaymentCurrency" ng-model="PaymentDetails.PaymentCurrency">
                                    <option value="" disabled>--Select--</option>
                                    <option value="{{MT}}"
                                        ng-repeat="MT in forUSRTP.PaymentCurrency track by $index">{{MT}}</option>
                                </select>

                            </div>
                            <span ng-show="updatesubmitted && benelistForm.PaymentCurrency.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Amount
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.Amount.$invalid]">
                                <input type="text" class="form-control allownumericwithdecimal" maxAllowDigit="{{CurrencyDecimalDigits}}" name="Amount" placeholder="Please Enter Amount" ng-model="PaymentDetails.Amount" maxlength="12" valid-number />
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.Amount.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">End To End ID
                                <span style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.Amount.$invalid]">
                                <input type="text" id="EndToEndId" class="form-control" name="EndToEndId" ng-blur="multipleEmptySpace($event)" placeholder="Please Enter End To End ID" ng-model="EndToEndId" maxlength="35" ng-trim="true" />
                            </div>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6" ng-if="CXCFlag">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Number Of Hold Days
                                <span style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label>
                            </div>

                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.Amount.$invalid]">
                                <input type="text" id="NumberOfHoldDays" name="NumberOfHoldDays" class="form-control" ng-blur="multipleEmptySpace($event)" placeholder="Please Enter Number Of Hold Days" My-Directive3 ng-model="PaymentDetails.NumberOfHoldDays" maxlength="2" onkeydown='return allowOnlyNumbersAlone(event)'
                                    ng-trim="true" />
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.NumberOfHoldDays.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                            </div>
                            <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Charge Code
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8">
                                <!--  <input type="text" class="form-control" placeholder="Please Enter Charge Code" name="ChargeCode" ng-model="PaymentDetails.ChargeCode" value="" ng-if="ChargeCodelength<=1"/>  -->
                                <select class="form-control checkSelectEntry" placeholder="Please Enter Charge Code" name="ChargeCode" ng-if='ServiceCodeForConditions=="RPX"' ng-disabled='true' ng-model="PaymentDetails.ChargeCode">
                                    <option value="" disabled>--Select--</option>
                                    <option value="{{MT.SupportedChargeCodes}}"
                                        ng-repeat="MT in forUSRTP.ChargeCode track by $index">
                                        {{MT.SupportedChargeCodes}}</option>
                                </select>
                                <select class="form-control checkSelectEntry" placeholder="Please Enter Charge Code" name="ChargeCode" ng-if='ServiceCodeForConditions!="RPX"' ng-model="PaymentDetails.ChargeCode">
                                    <option value="" disabled>--Select--</option>
                                    <option value="{{MT.SupportedChargeCodes}}"
                                        ng-repeat="MT in forUSRTP.ChargeCode track by $index">
                                        {{MT.SupportedChargeCodes}}</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType != 'Request for Payment'">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Transaction ID
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8">

                                <input type="text" class="form-control" name="TransactionID" ng-model="PaymentDetails.TransactionID" placeholder="Please Enter Transaction ID" maxlength="35" />

                            </div>
                        </div>

                        <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Amount Modification Allowed
                                <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true"
                                    ng-show="condition.AmountModificationAllowed">*</span>
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.AmountModificationAllowed.$invalid]">
                                <select class="form-control checkSelectEntry" name="AmountModificationAllowed" ng-model="PaymentDetails.AmountModificationAllowed" ng-change="checkPaymentMandatory(PaymentDetails)" ng-required="condition.AmountModificationAllowed">
                                    <option value="" disabled>--Select--</option>
                                    <option value="{{AMA.actualValue}}"
                                        ng-repeat="AMA in AmountModificationAllowed track by $index">
                                        {{AMA.displayValue}}
                                    </option>
                                </select>
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.AmountModificationAllowed.$error.required && condition.AmountModificationAllowed" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>

                        <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Early Payment Allowed
                                <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true"
                                    ng-show="condition.EarlyPaymentAllowed">*</span>
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.EarlyPaymentAllowed.$invalid]">
                                <select class="form-control checkSelectEntry" name="EarlyPaymentAllowed" ng-model="PaymentDetails.EarlyPaymentAllowed" ng-change="checkPaymentMandatory(PaymentDetails)" ng-required="condition.EarlyPaymentAllowed">
                                    <option value="" disabled>--Select--</option>
                                    <option value="{{EPA.actualValue}}"
                                        ng-repeat="EPA in EarlyPaymentAllowed track by $index">
                                        {{EPA.displayValue}}</option>
                                </select>
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.EarlyPaymentAllowed.$error.required && condition.EarlyPaymentAllowed" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>

                        <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Guaranteed Payment Requested
                                <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true"
                                    ng-show="condition.GuaranteedPaymentRequested">*</span>
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.GuaranteedPaymentRequested.$invalid]">
                                <select class="form-control checkSelectEntry" name="GuaranteedPaymentRequested" ng-model="PaymentDetails.GuaranteedPaymentRequested" ng-change="checkPaymentMandatory(PaymentDetails)" ng-required="condition.GuaranteedPaymentRequested">
                                    <option value="" disabled>--Select--</option>
                                    <option value="{{GPR.actualValue}}" ng-repeat="GPR in
                                                            GuaranteedPaymentRequested track
                                                            by $index">{{GPR.displayValue}}</option>
                                </select>
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.GuaranteedPaymentRequested.$error.required && condition.GuaranteedPaymentRequested" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>

                        <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">RFP Expiry Date
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label>
                            </div>
                            <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && benelistForm.RFPExpiryDate.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                                <input class="form-control DatePicker dateTypeKey" type="text" name="RFPExpiryDate" ng-model="PaymentDetails.RFPExpiryDate" placeholder="Please Select RFP Expiry Date" ng-required="true" onkeypress='return tabOrder(event)' ng-blur="multipleEmptySpace($event)"
                                    ng-focus="activatePicker($event)" ng-disabled="false">
                                <span class="input-group-addon cursorPointer"><span
                                        class="fa fa-calendar"></span></span>
                            </div>
                            <span class="help-inline" ng-show="updatesubmitted && benelistForm.RFPExpiryDate.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                        </div>

                        <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">RFP Expiry Time
                                <!-- <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span> -->
                                </label>
                            </div>
                            <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && benelistForm.RFPExpiryTime.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                                <input class="form-control TimePicker" type="text" name="RFPExpiryTime" ng-model="PaymentDetails.RFPExpiryTime" placeholder="Please Select Time" onkeypress='return tabOrder(event)' ng-blur="multipleEmptySpace($event)" ng-focus="activatePicker($event)"
                                    ng-disabled="false">
                                <span class="input-group-addon cursorPointer"><span
                                        class="fa fa-clock-o"></span></span>
                            </div>
                            <!-- <span class="help-inline" ng-show="updatesubmitted && benelistForm.RFPExpiryTime.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span> -->
                        </div>

                    <!-- </div> -->
                    </div>
                </div>
            </div>
        </div>
        </br>
        <!-- new accordion - OrderingCustomer-->
        <div class="accordion">
            <div class="card">
                <div class="card-header cardColor">
                    <div class="fileListStyle"  data-toggle="collapse"  data-target="isOrderingCustomerCollapsed" aria-expanded="true" ng-click="isOrderingCustomerCollapsed = !isOrderingCustomerCollapsed">
                        <span class="bold"></span>
                        <span class="bold" ng-if="PaymentTypePushPull.actualValue!='PULL MESSAGE'">Ordering
                            Customer</span>
                        <span class="bold" ng-if="PaymentTypePushPull.actualValue=='PULL MESSAGE'">Beneficiary
                            Customer</span>
                        <div class="pull-right">
                            &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isOrderingCustomerCollapsed, 'fa-angle-right': isOrderingCustomerCollapsed}"></i>
                        </div>
                    </div>
                </div>
                <div collapse="isOrderingCustomerCollapsed" class="addCollapse collapse show">
                <div class="card-body ">
                        <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Client ID
                            <!-- <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span> -->
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.ClientID.$invalid]">
                            <select class="form-control checkSelectEntry" name="ClientID" ng-model="OrderingCustomer.ClientID" ng-change="changeClientNameValue(OrderingCustomer.ClientID)">
                                <option value="" selected>--Select--</option>
                                <option value="{{MT.actualvalue}}"
                                    ng-repeat="MT in ClientID123 track by $index">{{MT.displayvalue}}</option>
                            </select>
                            <!--  <input type="text" class="form-control" name="ClientID" ng-model="OrderingCustomer.ClientID" /> -->
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.ClientID.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                        <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Name
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientName" ng-if="(OrderingCustomer.ClientID!='' && getPartySubtype != 'TPS' )" ng-model="OrderingCustomer.ClientName" placeholder="Please Enter Name" ng-disabled="party123.PartyName" />

                            <input type="text" class="form-control" name="ClientName" ng-if="(OrderingCustomer.ClientID=='' || getPartySubtype == 'TPS')" ng-model="OrderingCustomer.ClientName" placeholder="Please Enter Name" />
                        </div>
                    </div>
                        <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Address Line 1
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientAddressLine1" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.ClientAddressLine1" placeholder="Please Enter Address Line 1" ng-disabled="party123.AddressLine1" />
                            <input type="text" class="form-control" name="ClientAddressLine1" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.ClientAddressLine1=''" ng-model="OrderingCustomer.ClientAddressLine1" placeholder="Please Enter Address Line 1" ng-disabled="party123.AddressLine1"
                            />
                        </div>
                    </div>
                        <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Address Line 2
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientAddressLine2" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.ClientAddressLine2" placeholder="Please Enter Address Line 2" ng-disabled="party123.AddressLine2" />
                            <input type="text" class="form-control" name="ClientAddressLine2" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.ClientAddressLine2=''" ng-model="OrderingCustomer.ClientAddressLine2" placeholder="Please Enter Address Line 2" ng-disabled="party123.AddressLine2"
                            />
                        </div>
                    </div>
                        <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">City
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientCountryCity" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.City" placeholder="Please Enter City" ng-disabled="party123.City" />
                            <input type="text" class="form-control" name="ClientCountryCity" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.City=''" ng-model="OrderingCustomer.City" placeholder="Please Enter City" ng-disabled="party123.City" />
                        </div>
                    </div>
                        <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">State
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientCountryState" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.State" placeholder="Please Enter State" ng-disabled="party123.State" />
                            <input type="text" class="form-control" name="ClientCountryState" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.State=''" ng-model="OrderingCustomer.State" placeholder="Please Enter State" ng-disabled="party123.State" />
                        </div>
                    </div>
                        <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Post Code
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientCountryPostCode" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.PostCode" placeholder="Please Enter PostCode" ng-disabled="party123.PostCode" />
                            <input type="text" class="form-control" name="ClientCountryPostCode" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.PostCode=''" ng-model="OrderingCustomer.PostCode" placeholder="Please Enter PostCode" ng-disabled="party123.PostCode"
                            />
                        </div>
                    </div>
                        <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Country
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientCountryCode" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.Country" placeholder="Please Enter Country" ng-disabled="party123.CountryCode" />
                            <input type="text" class="form-control" name="ClientCountryCode" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.Country=''" ng-model="OrderingCustomer.Country" placeholder="Please Enter Country Code" ng-disabled="party123.CountryCode"
                            />
                        </div>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Account Number
                            <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                aria-required="true">*</span>
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.AccountNumber.$invalid]">

                            <input type="text" class="form-control" placeholder="Select the Account Number" name="AccountNumber" ng-model="OrderingCustomer_AccountNumber" ng-if="OrderingCustomer.ClientID==''" />

                            <select class="form-control" ng-if="OrderingCustomer.ClientID!=''" name="OrderingCustomer_AccountNumber" placeholder="Select the Account Number" ng-model="OrderingCustomerAccountNumber" ng-change="getAccountNumberCurrency(OrderingCustomerAccountNumber)">
                                <option value="" selected>--Select Account Number--</option>
                                <option value="{{Acc}}" ng-repeat="Acc in AccountNumber11 track by $index"
                                    ng-if="Acc.AccountType=='DDA'">{{Acc.AccountNo}}</option>
                            </select>
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.AccountNumber.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Account Currency
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <!-- <input type="text" class="form-control" name="AccountCurrency" ng-model="OrderingCustomer.AccountCurrency"   placeholder="Please Enter Account Currency" /> -->
                            <input type="text" class="form-control" name="AccountCurrency" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.AccountCurrency=''" ng-model="OrderingCustomer.AccountCurrency" placeholder="Please Enter Account Currency" />
                            <select class="form-control" ng-if="OrderingCustomer.ClientID!=''" name="AccountCurrency" ng-model="OrderingCustomer.AccountCurrency">
                                <option value="" selected>--Select--</option>
                                <option ng-repeat="PT in OrderingCustomer_AccountCurrency" value="{{PT}}">{{PT}}
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Account Name
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="AccountName" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.AccountName" placeholder="Please Enter Account Name " />
                            <input type="text" class="form-control" name="AccountName" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.AccountName=''" ng-model="OrderingCustomer.AccountName" placeholder="Please Enter Account Name " />
                        </div>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Account Domiciled Country
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <!-- <input type="text" class="form-control" name="AccountDomiciledCountry" ng-model="OrderingCustomer.AccountDomiciledCountry" /> -->
                            <select class="form-control" name="AccountDomiciledCountry" placeholder="Select the Account Domiciled Country" ng-model="OrderingCustomer.AccountDomiciledCountry">
                                <option value="" selected>Select the Account Domiciled Country</option>
                                <option value="{{ADC.CountryCode}}"
                                    ng-repeat="ADC in AccountDomiciledCountry track by $index">
                                    {{ADC.CountryCode}}</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
        </br>
        <!-- new accordion - BenenficiaryBankDetails-->
        <div class="accordion">
            <div class="card" ng-if="!CXCFlag">
                <div class="card-header cardColor">
                <div class="panel-heading fileListStyle" data-toggle="collapse" data-target="isBenenficiaryBankDetailsCollapsed" aria-expanded="true" ng-click="isBenenficiaryBankDetailsCollapsed = !isBenenficiaryBankDetailsCollapsed">
                    <span class="bold" ng-if="PaymentTypePushPull.actualValue!='PULL MESSAGE'">Beneficiary Bank
                        Details</span>
                    <span class="bold" ng-if="PaymentTypePushPull.actualValue=='PULL MESSAGE'">Debtor Bank
                        Details</span>
                    <div class="pull-right">
                        &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isBenenficiaryBankDetailsCollapsed, 'fa-angle-right': isBenenficiaryBankDetailsCollapsed}"></i>
                    </div>
                </div>
            </div>
            <div collapse="isBenenficiaryBankDetailsCollapsed" class="addCollapse collapse show">
                <div class="card-body">
                        <!-- <div class="form-group "> -->

                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Bank Identifier Type
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BankIdentifierType1.$invalid]">
                                <select class="form-control checkSelectEntry" name="BankIdentifierType1" ng-model="BeneficiaryBank.BankIdentifierType" ng-change="getBankIdentifierCode(BeneficiaryBank.BankIdentifierType)">
                                    <option value="">Select the Bank Identifier Type</option>
                                    <option value="{{MT.ClearingSchemeCode}}"
                                        ng-repeat="MT in forUSRTP.BICCode track by $index">
                                        {{MT.ClearingSchemeCode}}</option>
                                </select>
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.BankIdentifierType1.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Bank Identifier Code
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BIC1.$invalid]">

                                <input type="text" ng-if="BeneficiaryBank.BankIdentifierType =='BIC'" class="form-control" name="BIC" ng-model="BeneficiaryBank.BankIdentifierCode" placeholder="Please Enter BIC" ng-blur="getBIC_Address(BeneficiaryBank.BIC)" />
                                <select class="form-control" ng-if="BeneficiaryBank.BankIdentifierType!='BIC'" name="BIC1" ng-model="BeneficiaryBank.BankIdentifierCode" ng-change="getBankDetails(BeneficiaryBank)">
                                    <option value="" selected disabled>Select the Bank Identifier Code</option>
                                    <option value="{{BIC123.SchemeParticipantIdentifer}}"
                                        ng-repeat="BIC123 in BankIdentifierCode123 track by $index">
                                        {{BIC123.SchemeParticipantIdentifer}}</option>
                                </select>
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.BIC1.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Address Line 1
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankAddressLine1" ng-model="BeneficiaryBank.BankAddressLine1" placeholder="Please Enter Address Line 1" />
                            </div>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Address Line 2
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankAddressLine2" ng-model="BeneficiaryBank.BankAddressLine2" placeholder="Please Enter Address Line 2" />
                            </div>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">City
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="BeneficiaryBank.City" placeholder="Please Enter City" />
                            </div>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">State
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="BeneficiaryBank.State" placeholder="Please Enter State" />
                            </div>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Post Code
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="BeneficiaryBank.PostCode" placeholder="Please Enter PostCode" />
                            </div>
                        </div>
                            <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Country
                                </label>
                            </div>
                            <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="BeneficiaryBank.Country" placeholder="Please Enter  Country" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </br>    
        <!-- new accordion - BenenficiaryDetails-->    
        <div class="accordion">
            <div class="card">
                <div class="card-header cardColor"> 
                    <div class="fileListStyle"  data-toggle="collapse" data-target="isBenenficiaryDetailsCollapsed" aria-expanded="true"  ng-click="isBenenficiaryDetailsCollapsed = !isBenenficiaryDetailsCollapsed">
                        <span class="bold" ng-if="PaymentTypePushPull.actualValue!='PULL MESSAGE'">Beneficiary
                            Details</span>
                        <span class="bold" ng-if="PaymentTypePushPull.actualValue=='PULL MESSAGE'">Debtor Details</span>
                        <div class="pull-right">
                            &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isBenenficiaryDetailsCollapsed, 'fa-angle-right': isBenenficiaryDetailsCollapsed}"></i>
                        </div>
                    </div>
                </div>
                    <div collapse="isBenenficiaryDetailsCollapsed" class="addCollapse collapse show">
                        <div class="card-body">
                            <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">  
                                    <label class="control-label">Account Number
                                        <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                            aria-required="true">*</span>
                                    </label>
                                </div>
                                <!-- <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">   -->
                                <label class="control-label" ng-if="(PaymentType =='USA Real Time')||(PaymentType == '')">Account
                                    Number

                                 </label>
                                <!-- </div> -->
                                <!-- <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">   -->
                                <label class="control-label" ng-if="(PaymentType =='SEPA')">IBAN

                                 </label>
                                <!-- </div> -->
                                <div class="col-md-2" style="text-align:right;" ng-if="PaymentType=='SWIFT'">
                                    <div class="btn-group">
                                        <label class="btn btn-md togBtn toggleOn" ng-click="toggleSwitch($event)" data-toggle="tooltip" title="" data-original-title="{{'ToolTips.ListView' | translate}}"><span><i
                                                    class="fa fa-check-circle checkIcon" aria-hidden="true"></i></span>
                                            <span>IBAN</span>

                                         </label>
   
                                        <!-- <label class="btn btn-md togBtn toggleOff" ng-click="toggleSwitch($event)" data-toggle="tooltip" title="" data-original-title="{{'ToolTips.GridView' | translate}}"><span></span> -->
                                            <span>Account Number</span>

                                         <!-- </label> -->
  
                                    </div>
                                </div>

                                <div class="col-md-6 col-sm-8 fieldArea" ng-class="{true: 'error'}[updatesubmitted && benelistForm.AccountNumber1.$invalid]" ng-if="BeneficiaryBank.BankIdentifierType.length">

                                    <input type="text" class="form-control" name="AccountNumber1" ng-model="Beneficiary.AccountNumber" placeholder="Please Enter Account Number" onkeydown="return allowOnlyNumbersAlone(event)" ng-if="BeneficiaryBank.BankIdentifierType.length" />
                                </div>

                                <span ng-show="updatesubmitted &&(benelistForm.AccountNumber1.$error.required || benelistForm.AccountNumber1.$error.required)" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>

                                <div class="col-md-6 col-sm-8 fieldArea" ng-class="{true: 'error'}[updatesubmitted && benelistForm.AccountNumber.$invalid]" ng-if="!BeneficiaryBank.BankIdentifierType.length">

                                    <select class="form-control appendselect21" select2-model-append id="AllAccountNumber" name="AccountNumber" ng-model="Beneficiary.AccountNumber" ng-if="!BeneficiaryBank.BankIdentifierType.length" ng-change="getAccountDetails(Beneficiary.AccountNumber)">
                                        <option value="" disabled>--Select--</option>
                                        <option ng-repeat="party in AccountNumberDrop" value="{{party}}">{{party.AccountNo
                                            | underscoreRemove}}</option>
                                    </select>
                                </div>
                                <span ng-show="updatesubmitted &&(benelistForm.AccountNumber1.$error.required || benelistForm.AccountNumber.$error.required)" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                            </div>

                            <div class="form-group row col-md-10 col-sm-6" ng-if="CXCFlag">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">  
                                <label class="control-label"> Payee First Name

                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BeneficiaryPayeeFirstName.$invalid]">
                                    <input type="text" My-Directive21 class="form-control" name="BeneficiaryPayeeFirstName" ng-model="Beneficiary.PayeeFirstName" placeholder="Please Enter Payee First Name" />
                                </div>
                                <span ng-show="updatesubmitted && benelistForm.BeneficiaryPayeeFirstName.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                            </div>
                            <div class="form-group row col-md-10 col-sm-6" ng-if="CXCFlag">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">  
                                <label class="control-label"> Payee Last Name
                                    <span style="color:#e02222;font-size:12px;padding-left:2px"
                                        aria-required="true">*</span>
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BeneficiaryPayeeLastName.$invalid]">
                                    <input type="text" My-Directive21 class="form-control" name="BeneficiaryPayeeLastName" ng-model="Beneficiary.PayeeLastName" placeholder="Please Enter Payee Last Name" />
                                </div>
                                <span ng-show="updatesubmitted && benelistForm.BeneficiaryPayeeLastName.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                            </div>

                            <div class="form-group row col-md-10 col-sm-6" ng-if="CXCFlag">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">  
                                <label class="control-label"> Payee Id Type
                                    <span style="color:#e02222;font-size:12px;padding-left:2px"
                                        aria-required="true">*</span>
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BeneficiaryName.$invalid]">
                                    <input type="radio" name="PayeeIdType" ng-model="Beneficiary.PayeeIdType" value="E" ng-change="payidtype()" required> Email &nbsp; &nbsp;
                                    <input type="radio" name="PayeeIdType" ng-model="Beneficiary.PayeeIdType" value="P" ng-change="payidtype()" required> Phone<br>
                                </div>
                                <span ng-show="updatesubmitted && benelistForm.PayeeIdType.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                            </div>
                            <div class="form-group row col-md-10 col-sm-6" ng-if="CXCFlag">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">  
                                <label class="control-label"> Token
                                    <span style="color:#e02222;font-size:12px;padding-left:2px"
                                        aria-required="true">*</span>
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BeneficiaryName.$invalid]">

                                    <input ng-if="(!Beneficiary.PayeeIdType)" type="text" class="form-control" name="BeneficiaryToken" placeholder="Please Enter Token" disabled="true" />

                                    <input ng-if="Beneficiary.PayeeIdType=='E'" type="text" class="form-control" name="BeneficiaryToken" ng-model="Beneficiary.Token" placeholder="Please Enter Token" check-email-on-blur />


                                    <input ng-if="Beneficiary.PayeeIdType=='P'" type="text" class="form-control" name="BeneficiaryToken1" ng-model="Beneficiary.Token" placeholder="Please Enter Token" maxlength="10" onkeydown='return allowOnlyNumbersAlone(event)' />
                                </div>
                                <!-- <span ng-show="updatesubmitted && benelistForm.BeneficiaryToken.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span> -->
                                <span ng-show="benelistForm.BeneficiaryToken.$error.emails" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Invalid
                                    email</span>
                            </div>

                            <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">  
                                <label class="control-label"> Name
                                    <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                        aria-required="true">*</span>
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BeneficiaryName.$invalid]">
                                    <input type="text" class="form-control" name="BeneficiaryName" ng-model="Beneficiary.Name" placeholder="Please Enter Name" />
                                </div>
                                <span ng-show="updatesubmitted && benelistForm.BeneficiaryName.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Beneficiary Address Line1
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="StreetName" ng-model="Beneficiary.BankAddressLine1" placeholder="Please Enter Address Line 1" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Beneficiary Address Line2
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="BuildingNo" ng-model="Beneficiary.BankAddressLine2" placeholder="Please Enter Address Line 2" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label"> City
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="PostalCode" ng-model="Beneficiary.City" placeholder="Please Enter City" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label"> State
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="PostalCode" ng-model="Beneficiary.State" placeholder="Please Enter State" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label"> Post Code
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="PostalCode" ng-model="Beneficiary.PostCode" placeholder="Please Enter Post Code" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label"> Country
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="Country" ng-model="Beneficiary.Country" placeholder="Please Enter Country" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        </div>
        </br>
        <!-- new accordion - RemittanceInformation-->
        <div class="accordion">
            <div class="card">
                <div class="card-header cardColor"> 
                    <div class="fileListStyle" data-toggle="collapse" data-target="isRemittanceInformationCollapsed" aria-expanded="true" ng-click="isRemittanceInformationCollapsed = !isRemittanceInformationCollapsed">
                        <span class="bold">Remittance Information</span>
                        <div class="pull-right">
                            &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isRemittanceInformationCollapsed, 'fa-angle-right': isRemittanceInformationCollapsed}"></i>
                        </div>
                    </div>
                </div>
                    <div collapse="isRemittanceInformationCollapsed" class="addCollapse collapse show">
                        <div class="card-body">
                            <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Remittance ID
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="RemittanceID" maxlength="35" ng-model="RemittanceInformation.RemittanceID" placeholder="Please Enter RemittanceID" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Remittance Information
                                 </label>
                                </div>
                                <div class="col-md-9">
                                    <textarea class="form-control" style=" resize: none; " maxlength="{{RemitInfoMaxLength}}" cols="70" rows="4" placeholder="Please Enter Remittance Information" ng-model="RemittanceInformation.RemittanceInformation" id="idforNotes1" ng-trim="false"></textarea>
                                    <span id="lCnt" ng-if="service11">{{RemitInfoMaxLength-RemittanceInformation.RemittanceInformation.length}}
                                        Characters Left</span>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
        
         <!-- new accordion - RefferdDocInfo-->
        <div class="accordion">
            <div class="card" ng-if="PaymentDetails.MessageType === 'Customer Credit Transfer'">
                <div class="card-header cardColor">
                    <div class="fileListStyle" data-toggle="collapse" data-target="isRefferdDocInfoCollapsed" aria-expanded="true"  ng-click="isRefferdDocInfoCollapsed = !isRefferdDocInfoCollapsed">
                        <span class="bold">Reffered Document Information</span>
                        <div class="pull-right">
                            &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isRefferdDocInfoCollapsed, 'fa-angle-right': isRefferdDocInfoCollapsed }"></i>
                        </div>
                    </div>
                    </div>
                    <div collapse="isRefferdDocInfoCollapsed">
                        <div class="card-body ">

                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Original Credit Transfer
                                <span ng-if="refferdDocInfoData.originalCreditTransfer.isMandate" style="color:#e02222;font-size:12px;padding-left:2px"
                                aria-required="true">*</span>
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" maxlength="35" name="originalCreditTransfer" ng-model="refferdDocInfoData.originalCreditTransfer.value" ng-required="refferdDocInfoData.originalCreditTransfer.isMandate" placeholder="Please Enter Original Credit Transfer" ng-blur="makeManadateRDI(refferdDocInfoData.originalCreditTransfer);" valid-alpha-num />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Related Date
                                <span ng-if="refferdDocInfoData.date.isMandate" style="color:#e02222;font-size:12px;padding-left:2px"
                                aria-required="true">*</span>
                                 </label>
                                </div>
                                <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && updateFXRateform.EffectiveFromDate.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                                    <input class="form-control DatePicker" type="text" name="relatedDate" ng-model="refferdDocInfoData.date.value" ng-blur="makeManadateRDI(refferdDocInfoData.date);" placeholder="Please Select Effective From Date" ng-required="refferdDocInfoData.date.isMandate" placeholder="Please Enter Original Credit Transfer" onkeypress='return tabOrder(event)'
                                        ng-blur="multipleEmptySpace($event)" ng-focus="activatePicker($event)" ng-disabled="false">
                                    <span class="input-group-addon cursorPointer"><span
                                            class="fa fa-calendar"></span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        </div>
        <!-- new accordion - DiscountAppliedAmount-->
        </br>
        <div class="accordion">
            <div class="card">
                <div class="card-header cardColor"> 
                    <div class="fileListStyle" data-toggle="collapse" data-target="isDiscountAppliedAmountCollapsed" aria-expanded="true"  ng-click="isDiscountAppliedAmountCollapsed = !isDiscountAppliedAmountCollapsed">
                        <span class="bold">Discount Amount Applied</span>
                        <div class="pull-right">
                            &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isDiscountAppliedAmountCollapsed, 'fa-angle-right': isDiscountAppliedAmountCollapsed}"></i>
                        </div>
                    </div>
                </div>
                    <div collapse="isDiscountAppliedAmountCollapsed" class="addCollapse collapse show">
                        <div ng-repeat="grp in discountAppliedAmountGrp track by $index">
                            <div class="card-body ">
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">Code
                                        <!-- <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span> -->
                                    <span ng-if="grp.isCodeMandate" style="color:#e02222;font-size:12px;padding-left:2px"
                                        aria-required="true">*</span>
                                     </label>
                                    </div>

                                    <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.Daacode.$invalid]">
                                        <select class="form-control" ng-required="grp.isCodeMandate" name="Daacode{{$index}}" ng-model="grp.code" ng-disabled="grp.isDisabled" ng-change="onChangeDAASelect(grp)">
                                            <option value="-1" selected>--Select--</option>
                                            <option value="{{daaCode.actualvalue}}" ng-disabled="daaCode.isDisabled" ng-repeat="daaCode in grp.daaCodes track by $index">
                                                {{daaCode.displayvalue}}</option>
                                        </select>
                                        <!--  <input type="text" class="form-control" name="ClientID" ng-model="OrderingCustomer.ClientID" ng-required = "true"/> -->
                                    </div>
                                    <div class="col-md-2 col-sm-2 col-xs-2">
                                        <span style="display: inline-block;padding: 0px 20px; width: 80%;margin: 0;font-size: 0;" class="ng-scope">
                                            <a ng-if="grp.isAdded === false" id="AddSection_{{$index}}" ng-click="addOptionalItem(grp)" tooltip="Add New Section" tooltip-placement="bottom" style="line-height: 24px; cursor: pointer; text-decoration: none; color: rgb(130, 127, 127); font-size: 24px !important;" class="fa fa-plus-circle ng-scope" aria-hidden="true" ></a>
                                            <a ng-if="grp.isAdded === true" id="RemoveSection_{{$index}}" ng-click="removeOptionalItem(grp)" tooltip="Remove Section" tooltip-placement="bottom" style="line-height: 24px; cursor: pointer; text-decoration: none; color: rgb(130, 127, 127); margin-left: 10px; font-size: 24px !important; opacity: 1;" class="fa fa-minus-circle" aria-hidden="true" ></a>
                                        </span>
                                    </div>                            
                                    <span ng-show="updatesubmitted && (benelistForm.{{'Daacode'+$index}}.$error.required)" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                                </div>
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <!-- <pre> {{ benelistForm | json }}</pre> -->
                                    <label name ="codevalue{{$index}}" id="codevalue{{$index}}" class="control-label">Value
                                        <span ng-if="grp.isValueMandate" style="color:#e02222;font-size:12px;padding-left:2px"
                                        aria-required="true">*</span>
                                     </label>
                                    </div>  
                                    <div class="col-md-6 col-sm-8">
                                        <input type="text" id="Daacodevalue{{$index}}" ng-blur="makeMandate(grp, $index);" ng-required="grp.isValueMandate" ng-keypress="allowNumberWithDecimal($event)" class="form-control" name="Daacodevalue{{$index}}" ng-model="grp.value" placeholder="Please Enter value" />
                                    </div>
                                    <span ng-show="updatesubmitted && (benelistForm.{{'Daacodevalue'+$index}}.$error.required)" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
        </br>
        <!-- new accordion - Intermediary Bank Details-->
        <div class="accordion">
            <div class="card" ng-if='((service123.ServiceCode!="RPX")&&(!CXCFlag))'>
                <div class="card-header cardColor">               
                    <div class="fileListStyle" data-toggle="collapse" data-target="isPaymentInfoCollapsed"  aria-expanded="true" ng-click="isPaymentInfoCollapsed = !isPaymentInfoCollapsed">
                        <span class="bold">Intermediary Bank Details</span>
                        <div class="pull-right">
                            &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isPaymentInfoCollapsed, 'fa-angle-right': isPaymentInfoCollapsed}"></i>
                        </div>
                    </div>
                </div>
                    <div collapse="isPaymentInfoCollapsed" class="addCollapse collapse show">
                        <div class="card-body ">

                            <div class="form-group row col-md-10 col-sm-6" ng-repeat="IntermediaryBankDetails in IntermediaryBankDetails123">

                                <div class="form-group row col-md-10 col-sm-6" ng-if="$index>=1">
                                    <div class="col-md-7">
                                        <input class="btn btnStyle pull-right" type="button" value="Remove" ng-click="removeIntermediaryBankDetails($index);">
                                    </div>
                                </div>

                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">Bank Identifier Type
                                     </label>
                                    </div>
                                    <div class="col-md-6 col-sm-8">
                                        <select class="form-control checkSelectEntry" name="BankIdentifierType" ng-model="IntermediaryBankDetails.BankIdentifierType" ng-change="getBankIdentifierCode1(IntermediaryBankDetails.BankIdentifierType)">
                                            <option value="">Select the Bank Identifier Code</option>
                                            <option value="{{MT.ClearingSchemeCode}}"
                                                ng-repeat="MT in forUSRTP.BICCode track by $index">
                                                {{MT.ClearingSchemeCode}}</option>
                                        </select>
                                    </div>
                                </div>
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">Bank Identifier Code
                                     </label>
                                    </div>
                                    <div class="col-md-6 col-sm-8">

                                        <input type="text" ng-if="IntermediaryBankDetails.BankIdentifierType =='BIC'" class="form-control" name="BIC" ng-model="IntermediaryBankDetails.BankIdentifierCode" placeholder="Please Enter BIC" ng-blur="getBIC_Address(IntermediaryBankDetails.BIC)" />

                                        <select class="form-control" ng-if="IntermediaryBankDetails.BankIdentifierType!='BIC'" name="BIC" ng-model="IntermediaryBankDetails.BankIdentifierCode" ng-change="getBankDetails1(IntermediaryBankDetails)">
                                            <option value="" selected disabled>Select the Bank Identifier Code</option>
                                            <option value="{{BIC1234.SchemeParticipantIdentifer}}"
                                                ng-repeat="BIC1234 in BankIdentifierCode1234 track by $index">
                                                {{BIC1234.SchemeParticipantIdentifer}}</option>
                                        </select>
                                    </div>
                                </div>
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">Address Line 1
                                     </label>
                                    </div>
                                    <div class="col-md-6 col-sm-8">
                                        <input type="text" class="form-control" name="BeneficiaryBankAddressLine1" ng-model="IntermediaryBankDetails.BankAddressLine1" placeholder="Please Enter Address Line 1" />
                                    </div>
                                </div>
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">Address Line 2
                                     </label>
                                    </div>
                                    <div class="col-md-6 col-sm-8">
                                        <input type="text" class="form-control" name="BeneficiaryBankAddressLine2" ng-model="IntermediaryBankDetails.BankAddressLine2" placeholder="Please Enter Address Line 2" />
                                    </div>
                                </div>
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">City
                                     </label>
                                    </div>
                                    <div class="col-md-6 col-sm-8">
                                        <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="IntermediaryBankDetails.City" placeholder="Please Enter City" />
                                    </div>
                                </div>
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">State
                                     </label>
                                    </div>
                                    <div class="col-md-6 col-sm-8">
                                        <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="IntermediaryBankDetails.State" placeholder="Please Enter State" />
                                    </div>
                                </div>
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">Post Code
                                     </label>
                                    </div>
                                    <div class="col-md-6 col-sm-8">
                                        <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="IntermediaryBankDetails.PostCode" placeholder="Please Enter PostCode" />
                                    </div>
                                </div>
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">Country
                                     </label>
                                    </div>
                                    <div class="col-md-6 col-sm-8">
                                        <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="IntermediaryBankDetails.Country" placeholder="Please Enter  Country" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin: 30px !important;" ng-if="IntermediaryBankDetails123.length<=2" ng-if='service11!="RPX"'>
                             <div class="form-group row col-md-10 col-sm-6">                               
                                <div class="col-md-7">
                                    <input class="btn btnStyle pull-right" type="button" value="Add Intermediary Bank Details" ng-click="addIntermediaryBankDetails();">
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
        </br>
        <!-- new accordion - Ultimate Debtor -->
        <div class="accordion">
            <div class="card">
                <div class="card-header cardColor"> 
                    <div class="fileListStyle"  data-toggle="collapse" data-target="isUltimateDebtorCollapsed"  aria-expanded="true"  ng-click="isUltimateDebtorCollapsed = !isUltimateDebtorCollapsed">
                        <span class="bold">Ultimate Debtor</span>
                        <div class="pull-right">
                            &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isUltimateDebtorCollapsed, 'fa-angle-right': isUltimateDebtorCollapsed}"></i>
                        </div>
                    </div>
                </div>
                    <div collapse="isUltimateDebtorCollapsed" class="collapse show">
                        <div class="card-body ">

                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Name
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltDebtorName" ng-model="UltimateDebtor.Name" placeholder="Please Enter Name" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Address Line 1
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltDebtorAddressLine1" ng-model="UltimateDebtor.AddressLine1" placeholder="Please Enter Address Line 1" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Address Line 2
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltDebtorAddressLine2" ng-model="UltimateDebtor.AddressLine2" placeholder="Please Enter Address Line 2" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">City
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltDebtorCity" ng-model="UltimateDebtor.City" placeholder="Please Enter City" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">State
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltDebtorState" ng-model="UltimateDebtor.State" placeholder="Please Enter State" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Post Code
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltDebtorPostCode" ng-model="UltimateDebtor.PostCode" placeholder="Please Enter PostCode" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Country
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltDebtorCountry" ng-model="UltimateDebtor.Country" placeholder="Please Enter Country" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Street Name
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltDebtorStreetName" ng-model="UltimateDebtor.StreetName" placeholder="Please Enter Street Name" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Building Number
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltDebtorBuildingNumber" ng-model="UltimateDebtor.BuildingNumber" placeholder="Please Enter Building Number" />
                                </div>
                            </div>

                        </div>
                    </div>
            </div>
        </div>
        </br>
        <!--new accordion - Ultimate creditor -->
        <div class="accordion">
            <div class="card">
                <div class="card-header cardColor">
                    <div class="fileListStyle" data-toggle="collapse" data-target="isUltimateCreditorCollapsed"  aria-expanded="true"  ng-click="isUltimateCreditorCollapsed = !isUltimateCreditorCollapsed">
                        <span class="bold">Ultimate creditor</span>
                        <div class="pull-right">
                            &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isUltimateCreditorCollapsed, 'fa-angle-right': isUltimateCreditorCollapsed}"></i>
                        </div>
                    </div>
                </div>
                    <div collapse="isUltimateCreditorCollapsed" class="collapse show">
                        <div class="card-body ">

                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Name
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltCreditorName" ng-model="UltimateCreditor.Name" placeholder="Please Enter Name" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Address Line 1
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltCreditorAddressLine1" ng-model="UltimateCreditor.AddressLine1" placeholder="Please Enter Address Line 1" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Address Line 2
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltCreditorAddressLine2" ng-model="UltimateCreditor.AddressLine2" placeholder="Please Enter Address Line 2" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">City
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltCreditorCity" ng-model="UltimateCreditor.City" placeholder="Please Enter City" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">State
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltCreditorState" ng-model="UltimateCreditor.State" placeholder="Please Enter State" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Post Code
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltDebtorPostCode" ng-model="UltimateCreditor.PostCode" placeholder="Please Enter PostCode" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Country
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltDebtorCountry" ng-model="UltimateCreditor.Country" placeholder="Please Enter Country" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Street Name
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltDebtorStreetName" ng-model="UltimateCreditor.StreetName" placeholder="Please Enter Street Name" />
                                </div>
                            </div>
                             <div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Building Number
                                 </label>
                                </div>
                                <div class="col-md-6 col-sm-8">
                                    <input type="text" class="form-control" name="UltDebtorBuildingNumber" ng-model="UltimateCreditor.BuildingNumber" placeholder="Please Enter Building Number" />
                                </div>
                            </div>

                        </div>
                    </div>
            </div>
        </div>
        </br>
    <!--new accordion - SaveTemplate -->
    <div class="accordion">
        <div class="card">
                <div class="card-header cardColor" >              
                    <div class="fileListStyle" data-toggle="collapse" data-target="SaveTemplateCollapsed"  aria-expanded="true"  ng-click="SaveTemplateCollapsed = !SaveTemplateCollapsed">
                        <span class="bold">Template Details</span>

                        <div class="pull-right">
                            &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-down" ng-class="{'fa-angle-down': SaveTemplateCollapsed, 'fa-angle-right': !SaveTemplateCollapsed}"></i>
                        </div>
                    </div>
                </div>
                    <div collapse="!SaveTemplateCollapsed" class="collapse show addCollapse">
                        <div class="card-body ">
                             <!-- <div class="form-group"> -->
         
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">Template Name
                                        <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                            aria-required="true">*</span>
                                     </label>
                                    </div>
                                    <div class="col-md-6 col-sm-8">
                                        <input type="text" class="form-control" ng-model="TemplateDetails.TemplateName" placeholder="Please Enter Template Name" ng-blur="checkTemplateName(TemplateDetails.TemplateName)" maxlength="140" ng-required="true" />
                                        <input type="hidden" class="form-control" ng-init="TemplateDetails.MPITemplate_PK=MPITemplate_PK" ng-model="TemplateDetails.MPITemplate_PK" />
                                        <span class="help-inline alert-warning" ng-show="templateOverride" style="display:block;margin:0;"><strong>Warning!
                                            </strong> Template with same name exists. By saving with the same name,
                                            template could be <strong>overwritten</strong>.</span>
                                        <span class="animated bounce bold help-inline alert-danger" ng-show="alreadyExists" style="margin: 2px; padding: 5px; display: block;">{{alertMessage}}
                                        </span>

                                    </div>
                                </div>
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">
                                        Roles Accessible
                                        <!-- <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span> -->
                                     </label>
                                    </div>
                                    <div class="col-md-6 col-sm-8">
                                        <!-- <select class="form-control" name="RolesAccessible" ng-model="TemplateDetails.RolesAccessible">
				                           <option value="">--Select--</option>
				                           <option value="Approver">Approver</option>
				                           <option value="Operator">Operator</option>
				                        </select> -->

                                        <select class="form-control appendselect21211" select2-model-append data-placeholder="--Select--" multiple name="RolesAccessible" id="RolesAccessible" ng-model="TemplateDetails.RolesAccessible">
                                            <option ng-repeat="role in ROLESOptions123" value="{{role.RoleID}}">{{role.RoleName
                                                | underscoreRemove}} </option>
                                        </select>

                                        <span class="help-inline" ng-show="updatesubmitted && updateBusinessRuleform.Status.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                                    </div>
                                </div>
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">Status
                                        <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                            aria-required="true">*</span>
                                     </label>
                                    </div>
                                    <div class="col-md-6 col-sm-8">

                                        <!-- <input type="text" class="form-control" ng-model="TemplateDetails.Status" value="ACTIVE"   placeholder="Please Enter Status"/> -->
                                        <select class="form-control" name="RolesAccessible" ng-model="TemplateDetails.Status" ng-required="true">
                                            <option value="">--Select Status--</option>
                                            <option value="ACTIVE">ACTIVE</option>
                                            <option value="SUSPENDED">SUSPENDED</option>
                                            <option value="INACTIVE">INACTIVE</option>
                                        </select>
                                    </div>
                                </div>
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">Effective From Date
                                        <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                            aria-required="true">*</span>
                                     </label>
                                    </div>
                                    <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && updateFXRateform.EffectiveFromDate.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                                        <input class="form-control DatePicker dateTypeKey" type="text" name="EffectiveFromDate" id="EffectiveFromDate" ng-model="TemplateDetails.EffectiveFromDate" ng-init="(TemplateDetails.EffectiveFromDate = date)" placeholder="Please Select Effective From Date"
                                            ng-focus="customDateRangePicker('EffectiveFromDate', 'EffectiveTillDate')" ng-disabled="false">
                                        <span class="input-group-addon cursorPointer"><span
                                                class="fa fa-calendar"></span></span>
                                    </div>
                                    <span class="help-inline" ng-show="updatesubmitted && updateFXRateform.EffectiveFromDate.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                                </div>
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">Effective Till Date
                                     </label>
                                    </div>
                                    <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && updateFXRateform.EffectiveTillDate.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                                        <input class="form-control DatePicker dateTypeKey" type="text" name="EffectiveTillDate" id="EffectiveTillDate" ng-model="TemplateDetails.EffectiveTillDate" placeholder="Please Select Effective Till Date" ng-focus="customDateRangePicker('EffectiveFromDate', 'EffectiveTillDate')"
                                            ng-disabled="false">
                                        <span class="input-group-addon cursorPointer"><span
                                                class="fa fa-calendar"></span></span>
                                    </div>
                                    <span class="help-inline" ng-show="updatesubmitted && updateFXRateform.EffectiveTillDate.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                                </div>
                                 <div class="form-group row col-md-10 col-sm-6">
                                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                    <label class="control-label">Description
                                     </label>
                                    </div>
                                    <div class="col-md-9">
                                        <textarea class="form-control" style=" resize: none; " maxlength="{{DescriptionMaxLength}}" cols="70" rows="4" placeholder="Please Enter Template Description" ng-model="TemplateDetails.Description" id="idforNotes2" ng-trim="false"></textarea>
                                        <span id="lCnt">{{DescriptionMaxLength-TemplateDetails.Description.length}}
                                            Characters Left</span>
                                    </div>
                                </div>


                        </div>
                    </div>
            </div>
    </div>
    </br>

                <input class="btn btnStyle" type="button" value="Save as Draft" ng-click="SaveTemplate=false;updatesubmitted=false;createDraftData(PaymentDetails,OrderingCustomer,BeneficiaryBank,Beneficiary,RemittanceInformation,refferdDocInfoData, discountAppliedAmountGrp,UltimateDebtor, UltimateCreditor, psaCode11,PaymentBranch,party,service11,IntermediaryBankDetails123,OrderingCustomerAccountNumber,ProductsSupported123,SaveTemplate,TemplateDetails,psaCode11,EndToEndId);takeBackupData(PaymentDetails,OrderingCustomer,BeneficiaryBank,Beneficiary,RemittanceInformation,refferdDocInfoData, discountAppliedAmountGrp,UltimateDebtor, UltimateCreditor,psaCode11,PaymentBranch,party,service11,IntermediaryBankDetails123,OrderingCustomerAccountNumber,ProductsSupported123,SaveTemplate,TemplateDetails,psaCode11,EndToEndId);">
                <input class="btn btnStyle" type="submit" value="Save as Template" ng-click="SaveTemplate=false;updatesubmitted=true;SaveTemplateCollapsed = true;expandAllManually();">
                <input class="btn btnStyle" type="reset" value="Reset" ng-click="SaveTemplate=false;Reload();">
                <input class="btn btnStyle" type="button" value="Cancel" data-toggle="modal" data-target="{{madeChanges ?'#changesLostModal':''}}" ng-click="cancel()">
                <!-- <input class="btn btnStyle" type="submit" value="Submit" ng-click="updatesubmitted = true;SaveTemplate=false;"> -->
    </form>
    </div>
    </div>

    <script>
        function isNumberKey(evt, element) {

            var charCode = (evt.which) ? evt.which : event.keyCode
            if (charCode > 31 && (charCode < 48 || charCode > 57) && !(charCode == 46 || charCode == 8))
                return false;
            else {
                var len = $(element).val().length;
                var index = $(element).val().indexOf('.');
                if (index > 0 && charCode == 46) {
                    return false;
                }
                if (index > 0) {
                    var CharAfterdot = (len + 1) - index;
                    if (CharAfterdot > element.getAttribute("maxAllowDigit")) {
                        return false;
                    }
                }

            }
            return true;
        }

        $(document).ready(function() {

        // $('.DatePicker').datepicker({
        //     format: "yyyy-mm-dd",
        //     showClear: true,
        //     autoclose: true,
        //     startDate: new Date(),

        // })

        // $('.TimePicker').datetimepicker({
        //     format: 'HH:mm:ss',
        //     useCurrent: true,

        // });

            $('.input-group-addon').on('click focus', function(e) {

                $(this).prev().focus().click()
            });


            $(".VPDisabledCopyPaste").on('input paste', function(e) {
                e.preventDefault();
            });

            $('#EndToEndId').bind('DOMAttrModified textInput input keyup paste', function() {
                var sspace = $(this).val().replace(/ +/g, ' ');
                if ($(this).val() != sspace)
                    $(this).val(sspace);
            });

            $('.notallowspecialchar').on('keypress', function(e) {
                var regex = /^[a-zA-Z0-9 ]$/;
                var key = String.fromCharCode(e.which);
                if (regex.test(key) || e.which == 8 || e.which == 13 || e.which == 0) {
                    return true;
                } else {
                    return false;
                }
            });
        })
    </script>
