<style>
	/*.select2-container .select2-search__field {
	    width: 100% !important;
	}*/
    
    .info-row {
        padding: 0.938rem 0;
        background: #e8e9eb;
        margin-bottom: 0.625rem;
        box-shadow: 0.188rem 0.188rem 0.125rem lightgrey;
        border-left: 0.25rem solid #2d4063;
    }
    
    .field-info {
        padding: 0.313rem 0rem;
    }

    .dropdowncustm{
      transform: translate3d(0.313rem, 2.188rem, 0rem)!important;
      }

      .searchContainer {
       background-color: #e7e9eb;
       height: auto;
     }
    /* .input-group .form-control{
          //  z-index: 0 !important;
    } */

    .iconSearch{
        cursor:pointer;
        background-color:#fff;
        border:none;
    }

    .width100{
        width: 100%;
    }

    .btnSavedAlighn{
        margin:0;
        margin-top:0.313rem;
        margin-bottom:0.313rem;
    }

    .btnSavedData{
        margin-left:0.625rem;
        display:inline-block;
        margin-top:0.188rem;
    }

    .btnSavedCancel{
        border:0.063rem solid #DE2F2B;
        background-color:#D05450;
        border-radius:0.625rem;
        color:#F5E6E6;
        font-size:0.813rem;
    }

    .btnAdvsearch{
        width:100%;
        padding-left: 0.188rem;
    }

    .btnAdvshowhide{
        color:#fff !important;
    }

    .btnAdvCircle{
        padding-top:0.125rem;
    }

    .modalAlertbox{
        top: 12.5rem;
    }

    .modalAlertalighn{
        padding: 0rem !important; 
        border: 0rem !important
    }

    .modalWidth{
        width: 37.5rem;
    }

    .modalSavedsearch{
        line-height:0.5 !important;
    }

    .modalSearchname{
        padding:0.625rem;
        margin:0
    }

    .asterisk{
        color:#e02222;
        font-size:0.75rem;
        padding-left:0.125rem
    }

    .modalRequired{
        color:red;
        margin-left:0.625rem;
    }

    .modalBtnalighn{
        float:right;
        padding:0.625rem;
        margin:0
    }

    .clearBoth{
        clear:both
    }

    .btnAdvBody{
        margin:0;
        margin-bottom:0.5rem;
        padding:1.25rem;
    }

    .btnAdvsearchAlighn{
        padding: 0.625rem 0.25rem 0.625rem 0.25rem;
        margin-bottom:1.25rem;
    }

    .btnAdvFont{
        font-size:1.375rem;
    }

    .btnAddRemove{
        min-width:13.563rem !important;
    }

    .btnAddRemoveBody{
        margin:0;
        margin-top:0.313rem;
        margin-right: 0.313rem;
    }

    .addRemoveLabel{
        display:inline-block;
        margin-top:0.188rem;
    }

    .addremoveSwitch{
        width:2.125rem !important; 
        height:0.875rem !important; 
        border-radius:1.25rem !important;
        margin-top:0.313rem;
    }

    .addremoveSmall{
        width:0.75rem !important;
        height:0.75rem !important;
    }

    .addremoveOpacity{
        opacity:0;
        display:none;
    }

    .advBtnalighn{
        margin-right:0.313rem;
    }

    .dateTo{
        border:none;
        background-color:transparent;
    }

    .textStart{
        text-align:start;
    }

    .advBtnsearch{
        margin-right:0.938rem;
    }

    .advBtnborder{
        border-color:#ccc;
    }

    .countbarAlighn{
        padding: 0.313rem;
        background: #fff;
    }

    .countbarDisp{
        margin-bottom: 0.625rem;
        width: 100%;
    }

    .countbarBtn{
        float:right;
        box-sizing: border-box;
    }

    .listBtn{
        border: 0.063rem solid #fff;
        box-sizing: border-box;
        border-right:0rem;
        margin-left:0.313rem
    }

    .gridBtn{
        border: 0.063rem solid #fff;
        box-sizing: border-box;
        border-left:0rem
    }

    .dwnBtnalighn{
        border: 0.063rem solid #fff;
        box-sizing: border-box;
    }

    .dwnIndex{
        z-index: 10000;
    }

    .excelIcon{
        margin-left:2.5rem !important;
    }

    .refreshIcon{
        float:right;
        border: 0.063rem solid #fff;
        box-sizing: border-box;
        margin-left: 0.313rem;
    }

    .btnAll{
        float:right;
        box-sizing: border-box;
        margin-left:0.625rem;
    }

    .btnAllalighn{
        float:right;
        border: 0.063rem solid #fff;
        box-sizing: border-box;
        margin-left:0.625rem;
    }

    .btnAllfont{
        font-size:0.938rem;
    }

    .btnAlldrop{
        font-size:0.813rem !important
    }

    .btnAllpointer{
        pointer-events:none
    }

    .btnAllCstm{
        text-align:center;
        color:#000;
    }

    .modalCstm{
        padding:0.938rem;
    }

    .searchCriteria{
        margin:0;
        word-wrap:break-word;
    }

    .dsearchAlighn{
        font-size:0.813rem;
        word-wrap:break-word;
    }

    .btnWrapper{
        vertical-align:middle;
    }

    .wrapperDisp{
        display:block;
        float:right;
    }

    .noRecord{
        margin:0;
        text-align:center;
    }

    .cursorPoint{
        cursor:pointer
    }

    .iconDownload{
        text-decoration:underline;
    }

    .acitiondisp{
        padding:0.25rem;
    } 

    .dwndisp{
        padding: 0 0.813rem;
    }

    .listviewAlighn{
        margin:0rem;
        overflow-x:auto !important;
        margin-bottom:1.25rem;
        max-height:32.813rem !important;
    }

</style>
<div class="page-bar breadCrumb" ng-controller="activeController">
    <div class="row">
        <div class="col-md-6 ">
            <ul class="page-breadcrumb">
                <li>
                    <i class="fa fa-exchange"></i>
                    <a href="javascript:void(0);" translate class="removeCursor">Sidebar.PaymentModule</a>
                    <i class="fa fa-angle-right"></i>
                </li>
                <li class="cursorPointer">
                    <span class="removeCursor" translate>Sidebar.DistributedInstructions</span>
                </li>
            </ul>
        </div>

        <div class="col-md-6 headerVals">
            <div data-ng-include="'templates/header/VPheader.html'" data-ng-controller="headerCtrl"></div>
        </div>
    </div>
</div>

<div>
    <div class="contentContainer mb-2">
        <div class="pageTitle alertWidthonResize">
            <div class="row">
                <div class="col-sm-12">
                    <div class="title__container">
                        <h2 translate>DistributedInstructions.PageTitle</h2>
                        <p translate>DistributedInstructions.SubTitle</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- ng-style="{'top':alertStyle+'px','width':alertWidth+'px'}" -->
        <div class="animated bounce autoAdjustAlert bold" ng-class="{'alert alert-success': alert.type == 'success','alert alert-danger':alert.type == 'danger'}" ng-repeat="alert in alerts" ng-if="alert.msg != 'Payment not found'">
            <a class="close" data-dismiss="alert" aria-label="close">&times;</a> {{alert.msg}}
        </div>

        <div class="searchholder">
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-12 showadv-md-7">
                <!-- <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12"> -->
                    <form>
                        <div class="form-group">
                            <div class="input-group-prepend">
                                <input type="text" ng-model="uorVal" placeholder="{{'PaymentModuleDts.UniqueRefID' | translate}}" class="searchBox ng-pristine ng-valid ng-touched" ng-keyup="getExistVal($event)">

                                <span class="input-group-text search-addon iconSearch" ng-click="uorSearch()" data-toggle-second="tooltip" data-placement="top"  data-original-title="{{'BtnGroup.Search'| translate}}">
                                    <i class="fa fa-search"></i>
                            </span>
                            </div>
                        </div>

                    </form>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 showadv-md-2">
                    <div class="dropdown width100">
                        <button class="btnDefault btn-block btnStyle dropdown-toggle mega-dropdown1" type="button" id="DropId" data-toggle="dropdown" translate>BtnGroup.SavedSearch
    					</button>

                        <ul class="dropdown-menu mega-dropdown-menu1 customDropDown1 savedScroll" role="menu" aria-labelledby="menu1">
                            <li class="dropdown-item" ng-repeat="data in lskey">
                                <div class="row btnSavedAlighn">
                                    <div class="col-md-10" ng-click="selectSearch(data,$event,$index)">
                                        <span class="btnSavedData" translate>{{data =="New Search" ? "DistributedInstructions.NewSearch" : data}}</span>
                                    </div>
                                    <div class="col-md-2" ng-if="data != 'New Search'">
                                        <div class="cancel"><i class="fa fa-times cursorPointer btnSavedCancel" ng-click="confirmationAlert($index)" data-toggle="modal" data-target="#alertBox"></i></div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 showadv-md-3">
                    <!-- ng-click="distSearch=!distSearch;setDateRange();" -->
                    <button type="button" class="btnSuccess btnStyle btnAdvsearch" ng-init="distSearch=true;"  data-toggle="collapse" data-target="#distSearch" ng-click="advanceSearchCollaspe(); setDateRange();forplaceholder()">
                            <span ng-if="distSearch" class="btnAdvshowhide"><span translate>BtnGroup.ShowAdvancedSearch</span> &nbsp;<i class="bold fa fa-angle-right circle-o btnAdvCircle"></i>{{aaa()}}</span>
                            <span ng-if="!distSearch" class="btnAdvshowhide"><span translate>BtnGroup.HideAdvancedSearch</span> &nbsp;<i class="bold fa fa-angle-down circle-o btnAdvCircle"></i></span>
                  </button>
                </div>
            </div>
        </div>

        <div class="modal fade" tabindex="-1" id="alertBox" role="dialog">
            <div class="modal-dialog modal-md modalAlertbox">
                <div class="modal-content modalbdy animated tada">
                    <div class="modal-header modalAlertalighn">
                        <div class="iconBox"><i class="exclaLine"></i><i class="exclaDot"></i></div>
                    </div>
                    <div class="modal-body modalAlertalighn">
                         <h1 translate>BankDataDts.Areyousure</h1>
                        <h4 translate>BankDataDts.PopupRecoverMsg</h4>
                    </div>
                    <div class="modal-footer modalftr">
                        <button tabindex="0" type="button" class="buton cancl" data-dismiss="modal" translate >BtnGroup.Cancel</button>
                        <button tabindex="0" type="button" class="buton yess" ng-click="deleteSelectedSearch($event)" translate >BankDataDts.Confirm</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="myModal1" class="modal fade" role="dialog" tabindex="-1" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog">
                <div class="modal-content modalWidth">
                    <div class="modal-header modalHeaderColor">
                        
                        <h5 class="modal-title modalSavedsearch" translate>ReceivedInstructions.SelectTheDates</h5>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <form ng-submit="saveSearch()">
                            <div class="form-group modalSearchname">
                                <label><span translate>ReceivedInstructions.SearchName </span><span ng-hide="false" class="asterisk" aria-required="true">*</span></label>
                                <input class="form-control" type="text" name="searchname" required ng-model="searchname" placeholder="{{'ReceivedInstructions.EnterTheSearchName' | translate}}"/>
                            </div>
                            <p ng-show="isSearchNameFilled" class="modalRequired">*{{BankDataDts.SearchNameFilled | translate}}</p>

                            <div ng-show="searchNameDuplicated" class="alert alert-warning form-group fade-in-up text-center">
                                <b translate> BankDataDts.SearchNameAlreadyExists </b><br/><br/>

                                <button type="submit" class="btn btn-warning btn-sm" ng-click="saveSearch1()" translate>BankDataDts.Yes</button>
                                <button type="button" class="btn btn-warning btn-sm" data-dismiss="modal" translate>BankDataDts.No</button>
                            </div>

                            <div ng-show="isAnyFieldFilled" class="alert alert-warning form-group fade-in-up text-center">
                                <b translate> BankDataDts.SelectFieldsToSaveSearch </b><br/><br/>
                                <button type="button" class="btn btn-warning btn-sm" data-dismiss="modal">OK</button>
                            </div>
                            <div class="form-group modalBtnalighn">

                                <button type="submit" class="btnSuccess btnStyle btn-sm"translate>BtnGroup.Save</button>
                                <button type="button" class="btnDefault btnStyle btn-sm" data-dismiss="modal" translate >BtnGroup.Cancel</button>
                            </div>
                            <div class="clearBoth"></div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
        <!-- collapse="distSearch" -->
        <div  class="searchContainer collapse btnAdvBody" id="distSearch">
            <div class="row btnAdvsearchAlighn">
                <div class="col-md-5 btnAdvFont" translate>PaymentModuleDts.SearchFilters</div>
                <div class="col-md-7 col-sm-6 col-xs-12 float-right">
                    <button style="margin-left: 5px;" value="SaveSearch" class="btnSuccess pull-right btnStyle advBtnalighn"  id="saveSearchBtn" data-keyboard="true" data-toggle="modal" data-target="#myModal1" ng-click="ClearAlert()"><i class="fa fa-floppy-o"></i> <span translate>BtnGroup.SaveSearch</span>  </button>
                    <ul class="float-right">
                        <li class="dropdown mega-dropdown" data-toggle="dropdown">
                            <a href="javascript:void(0);" class="">
                                <button class="btnDefaultColor btnStyle" type="button" id="menu1"><i class="fa fa-filter"></i></button>
                            </a>

                            <ul class="dropdown-menu mega-dropdown-menu dropdowncustm btnAddRemove" ng-click="$event.stopPropagation()">
                                <li ng-repeat="data in sortMenu" ng-if="data.fieldName != 'OutputMessage' && data.label != 'Action'&& data.fieldName != 'Select'">

                                    <div class="row btnAddRemoveBody">
                                        <div class="col-md-9">
                                            <span class="addRemoveLabel" translate>{{data.label}}</span>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="checkbox m-0">
                                                <span class="green switch green ng-valid ng-pristine ng-untouched addremoveSwitch" ng-init="active = data.searchVisible" ng-click="active=!active;SelectValue($index);"
                                                    ng-class="{checked:active}" ng-model="active" ng-keydown="toggleFocus($event, $index, true)">
			                                    <small class="addremoveSmall" tabindex="0" ></small>
			                                    <input type="checkbox" ng-model="UIRSelect" class="ng-pristine ng-untouched ng-valid addremoveOpacity"/>
			                                    <span class="switch-text"> </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <button class="btnDefaultColor pull-right btnStyle advBtnalighn" id="ResetFilter" value="Reset Filter" ng-click="resetFilter();forplaceholder()"  ng-focus="focusOutfn()"><i class="fa fa-refresh"></i></button>
                </div>
            </div>

            <div class="row m-0" ng-if="showSearchWarning && !buildSearchClicked">
                <div class="col-md-8 offset-md-2">
                    <div class="alert alert-info  bold text-center">
                        <a class="close" aria-label="close" data-dismiss="alert" ng-click="retainAlert($event)">&times;</a> {{'PaymentModuleDts.SelectfieldSearch' | translate}}
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">

                    <form class="form-horizontal">
                        <div class="row">
                            <div class="col-md-6 fade-in-up" ng-repeat="fields in sortMenu" ng-if="fields.searchVisible">
                                <div class="form-group row" >
                                    <div class="col-md-4">
                                        <label class="control-label text-left" translate>{{fields.label}}</label>
                                    </div>
                                    <div class="col-md-6" ng-if="fields.type == 'text'">
                                        <input type="text" class="form-control" name="{{fields.fieldName}}" ng-model="search[fields.fieldName]" placeholder="{{fields.label | translate}}" ng-keypress="(fields.allow == 'number') ? allowOnlyNumbersAlone($event,fields.label) : ''" />
                                    </div>
                                    <div class="col-md-6" ng-if="fields.type == 'dropdown'">
                                        <select class="form-control"  name="{{fields.fieldName}}" ng-if="fields.fieldName=='PartyCode'||fields.fieldName=='PartyName'" ng-model="search[fields.fieldName]" data-placeholder="{{'Placeholder.Select' | translate}}" style="width: 100%;">
                                            <option value="">Select</option>   
                                          <option  ng-if="fields.fieldName=='PartyCode'" value="{{val.PartyCode}}" ng-repeat="val in OfficeCode">{{val.PartyCode}}</option> 
                                          <option  ng-if="fields.fieldName=='PartyName'" value="{{val.PartyName}}" ng-repeat="val in OfficeCode">{{val.PartyName}}</option> 
                                         
                                     </select>
                                    
                                     <select class="form-control" multiple="multiple" name="{{fields.fieldName}}" ng-if="fields.fieldName!='PartyCode'&&fields.fieldName!='PartyName'" ng-model="search[fields.fieldName]" data-placeholder="{{'Placeholder.Select' | translate}}" style="width: 100%;">
			                                   <!-- <option value="">Select</option>    -->
			                                 <!-- <option  ng-if="fields.fieldName=='OfficeCode'" value="{{val.actualvalue}}" ng-repeat="val in OfficeCode">{{val.displayvalue}}</option>  -->
                                             <option ng-if="fields.fieldName=='CycleID'" ng-repeat="option in uniquecycles['Cycles']" value="{{option.value}}">{{option.value}}</option>
                                             <option ng-if="fields.fieldName=='Status'" ng-repeat="option in uniquestatus['Statuses']" value="{{option.status}}">{{option.status}}</option>
			                            </select>
                                    </div>

                                    <div class="col-md-8" ng-if="fields.type=='dateRange'">
                                        <div class="row">
                                            <div class="col-md-12 col-sm-9">
                                                <div class="input-group-prepend date" data-date-format="yyyy-mm-dd" data-date-viewmode="years" data-date-minviewmode="months">
                                                    <input type="text" class="form-control DatePicker dateTypeKey" placeholder="{{'DistributedInstructions.FromDate' | translate}}" id="{{fields.fieldName+'Start'}}" ng-model="search[fields.fieldName].Start" onpaste="return false">
                                                    <span class="input-group-text" ng-click="focusInfn(fields.fieldName+'Start')"><span class="fa fa-calendar"></span></span>

                                                    <span class="input-group-text dateTo">{{'BankDataDts.To' | translate}}</span>
                                                    <input type="text" class="form-control DatePicker dateTypeKey textStart" placeholder="{{'DistributedInstructions.ToDate' | translate}}" id="{{fields.fieldName+'End'}}" ng-model="search[fields.fieldName].End" onpaste="return false">
                                                    <span class="input-group-text" ng-click="focusInfn(fields.fieldName+'End')"><span class="fa fa-calendar"></span></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr class="advBtnborder"/>
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="float-right advBtnsearch">
                                    <button value="Cancel" class="btnDefault btnStyle" ng-click="rstAdvancedSearchFlag();showSearchWarning =false;"><i class="fa fa-times"></i> <span translate>BtnGroup.Cancel</span> </button>
                                    <button value="Search" id="AdSearchBtn" class="btnSuccess btnStyle" ng-click="buildSearchClicked = false;buildSearch();"> <i class="fa fa-search"></i> <span translate>BtnGroup.Search</span> </button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="countbarAlighn">
            <div class="tobeFixed">
                <div class="row m-0">
                    <div class="countbar-title row m-0 countbarDisp">
                        <!-- <div class="col-md-8 col-sm-4 col-xs-4 ng-binding caption">
                            <span class="highlight">{{datas.length}}</span>{{'BankDataDts.recordsshown' | translate}}
                        </div> -->
                        <div class="col-md-8 col-sm-4 col-xs-4 ng-binding caption">
                            <span ng-if="datas.length"><span class="highlight" ng-if="datas.length && totalData">{{(totalData && datas.length)? datas.length +  ('BankDataDts.Outof' | translate ) +totalData : (datas.length)?datas.length:'' }} </span>&nbsp;
                            <span class="highlight">{{(!totalData && datas.length)? datas.length:'' }}</span>

                            <span translate>BankDataDts.recordsshown</span></span>
                            <span ng-if="!datas.length"> <span  class="highlight">0 </span> <span translate>BankDataDts.recordsshown</span></span>
                        </div>
                        <div class="col-md-4 col-sm-8 col-xs-8 p-0">
                            <div class="btn-group countbarBtn">

                                <button class="btn-trans listBtn" id="btn_1" ng-class="changeViewFlag?'disabledBtnColor':'cmmonBtnColors'" ng-click="changeViewFlag = !changeViewFlag" data-toggle-second="tooltip" data-placement="top" data-original-title="{{'ToolTips.ListView' | translate}}"><i class="fa fa-list fa-fs14"></i></button>
                                <button class="btn-trans gridBtn" id="btn_2" ng-class="!changeViewFlag?'disabledBtnColor':'cmmonBtnColors'" ng-click="changeViewFlag = !changeViewFlag" data-toggle-second="tooltip" data-placement="top" data-original-title="{{'ToolTips.GridView' | translate}}"><i class="fa fa-table fa-fs14"></i></button>
                            </div>
                            <div class="dwnBtn float-right" >
                                <a id='dwnldLnk' style="display:none;"></a>
                                <!-- <button style="border: 1px solid #fff;box-sizing: border-box;" class="btn-trans dropdown-toggle" type="button" data-toggle="dropdown" ng-click="setHeight($event)" aria-expanded="true" tooltip="{{'Export'}}"> <i class="fa fa-download" aria-hidden="true"></i></button> -->

                                <button ng-if="newPermission.Export"  class="btn-trans dwnBtnalighn" type="button" data-toggle="{{(datas.length)?'dropdown':''}}" ng-click="setHeight($event)" data-toggle-second="tooltip" data-placement="top" data-original-title="{{(datas.length)?'ToolTips.Export':'ToolTips.Norecordstoexport' | translate}}" ng-style="{'opacity':(datas.length)?'1':'0.5'}"> <i class="fa fa-download" aria-hidden="true"></i></button>

                                <ul class="download-window dropdown-menu dropdown-menu-excel float-right dropdown-menu-right dwnIndex">
                                    <li>
                                        <span><input type="radio" name="excelVal" value="Current" checked class="radiobtns" ng-model="downloadOptions">{{'BankDataDts.CurrentScreen' | translate}} </span>
                                        <span style="word-break: break-all;text-align: initial;"><input type="radio" name="excelVal" value="All" class="radiobtns" ng-model="downloadOptions">{{'BankDataDts.AllMatchingFilter' | translate}}</span>
                                    </li>

                               
                                    <li data-toggle-second="tooltip" data-placement="top" title="{{'SanctionModule.Reporttxt' | translate}}"  class="excelprint" ng-click="exportToExcel('txt')" ng-show="enableDownloadBtns('TXT')"><i class="fa fa-file-text-o" aria-hidden="true"></i>
                                    </li>
                                    <li data-toggle-second="tooltip" data-placement="top" title="{{'SanctionModule.ExportCSV' | translate}}"  class="excelprint" ng-click="exportToExcel('csv')" ng-show="enableDownloadBtns('CSV')"><i class="fa fa-file-excel-o fa-fs14" aria-hidden="true"></i>
                                    </li>
                                    <li data-toggle-second="tooltip" data-placement="top" title="{{'commissions.PDF' | translate}}"  class="excelprint"  ng-click="exportToExcel('pdf')" ng-show="enableDownloadBtns('PDF')"><i class="fa fa-file-pdf-o" aria-hidden="true"></i>
                                    </li>
                                    <li data-toggle-second="tooltip" data-placement="top" title="{{'commissions.XLS' | translate}}"  class="excelprint"  ng-click="exportToExcel('xls')" ng-show="enableDownloadBtns('XLS')"><i class="fa fa-file-excel-o fa-fs14" aria-hidden="true"></i>
                                    </li>
                                    <!-- <li data-toggle-second="tooltip" data-placement="top" data-original-title="{{'BankDataDts.Excel' | translate}}"  class="excelprint excelIcon" ng-click="exportToExcel($event)"><i class="fa fa-file-excel-o fa-fs14" aria-hidden="true"></i>
                                    </li> -->
                                    <!-- <li data-toggle="tooltip" data-placement="top" title="{{'BankDataDts.Print' | translate}}" class="excelprint" ng-click="printFn()"><i class="fa fa-print fa-fs14" aria-hidden="true"></i>
                                    </li> -->

                                    <li data-toggle="tooltip" data-placement="top" data-original-title="{{'BankDataDts.Print' | translate}}" class="excelprint" ng-click="printFLpage()" ng-show="enableDownloadBtns('PRINT')"><i class="fa fa-print fa-fs14" aria-hidden="true"></i>
                                    </li>
                                </ul>
                            </div>

                            <!--  <div class="btn-group" style="float:right;border: 1px solid #fff;box-sizing: border-box;margin-left: 5px;" tooltip="Print">
			                    <button class="btn-trans" ng-click="printFLpage()"><i class="fa fa-print fa-fs14"></i></button>
			                </div>

			                <div class="btn-group" style="float:right;border: 1px solid #fff;box-sizing: border-box;margin-left: 5px;" tooltip="Export to Excel">
			                    <button class="btn-trans"  ng-click="exportToExcel()"><i class="fa fa-file-excel-o fa-fs14"></i></button>
			                </div> -->

                            <div class="btn-group refreshIcon" data-toggle-second="tooltip" data-placement="top"  data-original-title="{{'ToolTips.Refresh' |translate}}">
                                <button class="btn-trans" ng-click="refresh()"><i class="fa fa-refresh fa-fs14"></i></button>
                            </div>

                            <div class="btn-group btnAll">
                                <div class="dropdown customDropdown btnAllalighn">
                                    <button class="btn-trans dropdown-toggle" type="button" data-toggle="dropdown" data-toggle-second="tooltip" data-placement="top"  data-original-title="{{'SelectDates.SelectDates' | translate}}"><span id="dropTxt" class="btnAllfont">{{'SelectDates.Today' | translate}}</span>
                    					<span class="caret"></span>
									</button>
                                    <ul class="dropdown-menu dropdown-menu-default float-right dropdown-menu-right btnAlldrop">
                                        <li class="menuClass" ng-click="FilterByDate('all',$event)"><a translate>SelectDates.All</a></li>
                                        <li class="menuClass" ng-click="FilterByDate('today',$event)"><a translate>SelectDates.Today</a></li>
                                        <li class="menuClass" ng-click="FilterByDate('week',$event)"><a translate>SelectDates.Week</a></li>
                                        <li class="menuClass" ng-click="FilterByDate('month',$event)"><a translate>SelectDates.Month</a></li>
                                        <li class="menuClass" data-toggle="modal" data-target="#customDate" data-keyboard="true"><a translate>SelectDates.Custom</a>
                                        </li>
                                        <li class="btnAllpointer" ng-if="customDate.startDate && customDate.endDate">
                                            <P class="btnAllCstm">From - <b>{{customDate.startDate}}</b> <br/>to - <b>{{customDate.endDate}}</b></P>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="btn-group" style="float:right;box-sizing: border-box;" ng-if="!changeViewFlag">
                            
                                <button ng-if="newPermission.Release" type="button" class="btnSuccess btn-md viewbtn" id="btn_2" data-toggle="tooltip" ng-disabled="!uniqPayments.length" title= "{{'DistributedInstructions.Release' | translate}}" ng-click="Release(datas)"  translate>DistributedInstructions.Release</button>
                            </div>
                            <!-- <div class="btn-group" style="float:right;box-sizing: border-box;" ng-if="!changeViewFlag">
                                <form name="actionForm" ng-submit="resendDistBulk()">
                                    <select style="padding: 5px; float: left;color:#000;" ng-model="actions" required class="mr-1 mt-1">
                                        <option value="" selected>ACTION</option>
                                        <option value="{{actions}}" ng-repeat="actions in ActionVal">{{actions}}</option>
                                    </select>
                                    <button type="submit" class="btn btn-md viewbtn" id="btn_2" data-toggle="tooltip" title="Go" ng-disabled="alertTxt"><i class="fa fa-arrow-circle-right" aria-hidden="true" ></i></button>
                                </form>
                            </div> -->
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="customDate" role="dialog" tabindex="-1" data-backdrop="static" ng-keydown="dummy($event)">
                <div class="modal-dialog">
                    <div class="modal-content modalWidth">
                        <div class="modal-header modalHeaderColor">                        
                            <h5 class="modal-title">{{"DistributedInstructions.ModalTitleFilterDates" | translate}}</h5>
                            <button type="button" class="close" data-dismiss="modal" ng-click="filterCancel()">&times;</button>
                        </div>
                        <div class="modal-body">
                            <form ng-submit="FilterByDate('custom')">
                                <div class="col-md-12 modalCstm">
                                    <div class="input-group-prepend date" data-date-format="yyyy-mm-dd" data-date-viewmode="years" data-date-minviewmode="months">
                                        <input type="text" class="form-control DatePicker dateTypeKey width100" ng-model="customDate.startDate" id="CstartDate"  placeholder="From (TimeZone - {{profileName}})" ng-blur="removeFn()" onpaste="return false" required>
                                        <span class="input-group-text"><span class="fa fa-calendar"></span></span>

                                        <span class="input-group-text dateTo">{{'BankDataDts.To' | translate}}</span>
                                        <input type="text" class="form-control DatePicker dateTypeKey width100" ng-model="customDate.endDate" id="CendDate"  placeholder="To  ( TimeZone - {{profileName}} )" ng-blur="removeFn()" onkeypress="return tabOrder(event)" onpaste="return false"
                                            required>
                                        <span class="input-group-text"><span class="fa fa-calendar"></span></span>
                                    </div>
                                </div>
                                <div class="col-md-12 txtCenter modalCstm">
                                    <button type="reset" class="btnDeny btnStyle" data-dismiss="modal" ng-click="CustomDatesReset()" translate>BtnGroup.Cancel</button>
                                    <button type="reset" class="btnDefault btnStyle" ng-click="CustomDatesReset()" translate>BtnGroup.Reset</button>
                                    <button type="submit" id="okBtn" class="btnSuccess btnStyle" ng-disabled="!(customDate.startDate&&customDate.endDate)">OK</button>
                                </div>
                                <div class="clearBoth"></div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="alert alert-info alert-dismissable" ng-if="fieldArr.params.length">
                <p ng-if="uorFound"><strong>{{"DistributedInstructions.SearchByUniqueOutputReference" |translate}}</strong> - {{uorFound}}</p>

                <p ng-repeat="(x,y) in dateFilter" class="searchCriteria" ng-if="y && x != 'all'">
                    <b>{{"DistributedInstructions.SelectCriteria" | translate}}</b> - <span class="leftAlign">{{("SelectDates."+(x | ucwords)) | translate}}</span>
                    <span ng-repeat="date in dateArr">
                        <span ng-if="!$first" class="leftAlign"> {{"ReportGenerate.To" | translate}} </span>
                    <span class="leftAlign"> ({{date.ColumnValue}}) </span>
                    </span>
                </p>

                <span class="dsearchAlighn" ng-repeat="(x,y) in dSearch">

            <span class="searchValContainer" ng-if="x != 'GeneratedDate'"><strong>
                {{("UserManagement."+(x | camelCaseFormatter | removeSpace)) | translate}}</strong> - {{y | cleanItem}}
               

                <span class="bold closeIcon cursorPointer" ng-click="spliceSearchArr(x)">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </span>
                </span>
                <span class="searchValContainer" ng-if="x == 'GeneratedDate' && y.Start && y.End">
                    <strong>{{("DistributedInstructions."+(x | camelCaseFormatter | removeSpace)) | translate}}</strong>  - {{y.Start}} &nbsp;{{"ReportGenerate.To" | translate}}&nbsp; {{y.End}}

                <span class="bold closeIcon cursorPointer" ng-click="spliceSearchArr(x)">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </span>

                </span>
                </span>

                <div class='button-wrapper btnWrapper'>
                    <input type="button" id="searchBtn" class="btnSuccess btn-sm btnStyle wrapperDisp" value="{{'BtnGroup.Clear' | translate}}" ng-click="clearSearch()" />
                </div>
                <div class="clearfix"></div>

            </div>


            <div class="alert alert-warning mt-2" ng-show="!datas.length">
                <strong><h5 class="noRecord"><i class="fa fa-warning"></i> {{'BankDataDts.NoRecordsFound'|translate}}</h5></strong>
            </div>

            <div class="listView mt-2 m-0" ng-show="changeViewFlag">
                <div ng-repeat="data in datas">
                    <div class="info-row">
                        <div class="col-md-12 row m-0" ng-click="details(data,$event)">
                          

                            <div class="col-md-4" ng-repeat="val in sortMenu" ng-if="val.visible && data[val.fieldName]">
                                <div class="field-info" ng-if="data[val.fieldName]">

                                    <span class="bold" translate>{{val.label}} :</span>
                                    <span ng-if="(val.fieldName != 'OutputMessage') && (val.fieldName != 'GeneratedDate')">{{data[val.fieldName]}}</span>

                                    <span ng-if="val.fieldName == 'GeneratedDate'">{{data[val.fieldName] | dateFormat}}</span>

                                    <span ng-if="val.fieldName == 'OutputMessage'"><span class="bold cursorPointer iconDownload" ng-style="(data['Status'] =='RELEASED' || data['Status'] =='DOWNLOADED')? {'opacity':'','cursor': 'pointer'}:{'opacity':'0.2','cursor': 'not-allowed'}" data-toggle-second="tooltip" data-placement="top" data-original-title="Download" ng-click="textDocDownload(data,$event)"><i class="fa fa-download dwndisp" aria-hidden="true"></i></span></span>

                                </div>

                            </div>

                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>

            <div class="listView FixHead dataGroupsScroll mt-2 listviewAlighn" ng-show="!changeViewFlag">

                <!--  <div class="table-responsive" ng-show="datas.length"> -->
                <table class="table table-striped table-bordered table-hover" ng-show="datas.length">
                    <thead>
                        <tr>
                            <th ng-if="(val.fieldName == 'OutputMessage') ? newPermission.Download : (val.visible && val.fieldName != 'Select')" ng-class="{'cursorPointer':(val.fieldName != 'OutputMessage' || val.fieldName != 'Action')}" ng-repeat="val in sortMenu" ng-click="(val.fieldName != 'OutputMessage' && val.fieldName != 'Action')?gotoSorting(val,$index,$event):''"
                                ng-style="(val.fieldName == 'Action')?{'text-align':'center'} : '' " translate> {{val.label}}

                                <span id="{{val.fieldName}}_Icon" class=""></span>
                            </th>
                            <th  ng-if="newPermission.Release" nowrap>

                                <span translate>DistributedInstructions.SelectAll</span>
                                <span style="margin-left: 13px;">
                                    <input type="checkbox" name="action" ng-model="allpaymentss.Selected" class="checkBoxClass txtCenter selectall cursorPointer" uir="{{allpayments.PaymentID}}" ng-click="checkStatusForBulk1(datas,payments,$index)">
                                </span>
                         
                            </th>
                            <th  ng-if="newPermission.Release" nowrap>
                                <span translate>DistributedInstructions.Regenerate</span>
                            </th>
                           
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="data in datas">
                            <td ng-repeat="val in sortMenu" ng-if="(val.fieldName == 'OutputMessage')? newPermission.Download : (val.visible && val.fieldName !='Select')" ng-click="(val.fieldName != 'OutputMessage' && val.fieldName != 'Action' &&val.fieldName !='Select')?details(data,$event):''" ng-style="(val.fieldName == 'Action')?{'text-align':'center'} : '' " nowrap> 
                                <span ng-if="val.fieldName == 'GeneratedDate'"> {{data[val.fieldName] | dateFormat}} </span>
                                <span ng-if="(val.fieldName != 'OutputMessage') && (val.fieldName != 'GeneratedDate')"> {{data[val.fieldName]}}</span>
                                <span ng-if="val.fieldName == 'OutputMessage'">
                                     <span class="bold cursorPointer iconDownload" ng-style="(data['Status'] =='RELEASED' || data['Status'] =='DOWNLOADED')? {'opacity':'','cursor': 'pointer'}:{'opacity':'0.2','cursor': 'not-allowed'}" ng-click="textDocDownload(data,$event)"><i class="fa fa-download" aria-hidden="true"></i><span translate>ReportGenerate.TableDownload</span></span>
                                </span>
                                <input ng-if="val.fieldName == 'Action'" type="button" value="Resend" class="btn btnStyle" ng-click="resendDist(data.UniqueOutputReference)" style="padding:4px;" />
                            </td>
                           
                            <td  ng-if="newPermission.Release" class="txtCenter">
                                <div class="checkbox checkbox-primary" ng-if="data.Status=='READY'">
                                    <input type="checkbox" name="action" ng-model="allpayments.Selected" class="checkBoxClass selectall_ cursorPointer" ng-click="checkStatusForBulk($event,datas,data,$index)" id="check_{{$index}}" uir="{{payments.PaymentID}}">
                                    <label for="check_{{$index}}" style="margin-left:25px;"></label>
                                </div>
                             
                            </td>

                            <td  ng-if="newPermission.Release" class="txtCenter">
                                <button class="btn btn-sm float-right" ng-if="data['Status'] =='ERROR'" data-toggle="modal" data-target="#myModal"  style="margin-top:5px;display:inline-block;margin-right:6px;"   ng-click="regenerateFile(data)" translate>
                                    Regenerar</button>
                             
                            </td>
                           
                        </tr>
                    </tbody>
                </table>
                <!--  </div> -->
            </div>
            <div class="clearBoth"></div>
        </div>
    </div>

</div>

<script>
    $(document).ready(function() {
        var showFlag = false;
        customDateRangePicker('CstartDate', 'CendDate')
        customDateRangePicker("GeneratedDateStart", "GeneratedDateEnd")
            //customDateRangePicker

        $('.input-group-text').on('click focus', function(e) {
            $(this).prev().focus().click()

        })

        setTimeout(function() {
                $('[data-toggle-second=tooltip]').tooltip({ trigger: "hover" });
            }, 1000)


        $('li.dropdown.mega-dropdown a').on('click', function(event) {
            $(this).parent().addClass("open");
        });

        $('li.dropdown.mega-dropdown1 a').on('click', function(event) {
            $(this).parent().toggleClass("open");
        });

        $('li.dropdown.mega-dropdown a').focus(function(event) {
            $(this).parent().addClass("open");
        });

        $('body').click(function(e) {

            // if ($(e.target).attr('id') == 'DropId') {
            //     if (!showFlag) {
            //         $('.customDropDown1').show()
            //     } else {
            //         $('.customDropDown1').hide()
            //     }
            // } else {
            //     if ($(e.target).parent().hasClass('cancel')) {
            //         $('.customDropDown1').show()
            //     } else {
            //         $('.customDropDown1').hide()
            //     }
            // }

            if (!$('li.dropdown.mega-dropdown').is(e.target) && $('li.dropdown.mega-dropdown').has(e.target).length === 0 && $('.open').has(e.target).length === 0) {
                $('li.dropdown.mega-dropdown').removeClass('open');
            }
        })
    })
</script>
