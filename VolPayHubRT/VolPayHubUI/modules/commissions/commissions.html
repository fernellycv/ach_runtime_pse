<style>
  /*.select2-container .select2-search__field {
	    width: 100% !important;
	}*/

  .info-row {
    padding: 0.938rem 0;
    background: #e8e9eb;
    margin-bottom: 0.625rem;
    box-shadow: 0.188rem 0.188rem 0.125rem lightgrey;
    border-left: 0.25rem solid #2d4063;
  }

  .field-info {
    padding: 0.313rem 0rem;
  }

  .dropdowncustm {
    transform: translate3d(0.313rem, 2.188rem, 0rem) !important;
  }

  .searchContainer {
    background-color: #e7e9eb;
    height: auto;
  }
  /* .input-group .form-control{
          //  z-index: 0 !important;
    } */

  .iconSearch {
    cursor: pointer;
    background-color: #fff;
    border: none;
  }

  .width100 {
    width: 100%;
  }

  .btnSavedAlighn {
    margin: 0;
    margin-top: 0.313rem;
    margin-bottom: 0.313rem;
  }

  .btnSavedData {
    margin-left: 0.625rem;
    display: inline-block;
    margin-top: 0.188rem;
  }

  .btnSavedCancel {
    border: 0.063rem solid #de2f2b;
    background-color: #d05450;
    border-radius: 0.625rem;
    color: #f5e6e6;
    font-size: 0.813rem;
  }

  .btnAdvsearch {
    width: 100%;
    padding-left: 0.188rem;
  }

  .btnAdvshowhide {
    color: #fff !important;
  }

  .btnAdvCircle {
    padding-top: 0.125rem;
  }

  .modalAlertbox {
    top: 12.5rem;
  }

  .modalAlertalighn {
    padding: 0rem !important;
    border: 0rem !important;
  }

  .modalWidth {
    width: 37.5rem;
  }

  .modalSavedsearch {
    line-height: 0.5 !important;
  }

  .modalSearchname {
    padding: 0.625rem;
    margin: 0;
  }

  .asterisk {
    color: #e02222;
    font-size: 0.75rem;
    padding-left: 0.125rem;
  }

  .modalRequired {
    color: red;
    margin-left: 0.625rem;
  }

  .modalBtnalighn {
    float: right;
    padding: 0.625rem;
    margin: 0;
  }

  .clearBoth {
    clear: both;
  }

  .btnAdvBody {
    margin: 0;
    margin-bottom: 0.5rem;
    padding: 1.25rem;
  }

  .btnAdvsearchAlighn {
    padding: 0.625rem 0.25rem 0.625rem 0.25rem;
    margin-bottom: 1.25rem;
  }

  .btnAdvFont {
    font-size: 1.375rem;
  }

  .btnAddRemove {
    min-width: 13.563rem !important;
  }

  .btnAddRemoveBody {
    margin: 0;
    margin-top: 0.313rem;
    margin-right: 0.313rem;
  }

  .addRemoveLabel {
    display: inline-block;
    margin-top: 0.188rem;
  }

  .addremoveSwitch {
    width: 2.125rem !important;
    height: 0.875rem !important;
    border-radius: 1.25rem !important;
    margin-top: 0.313rem;
  }

  .addremoveSmall {
    width: 0.75rem !important;
    height: 0.75rem !important;
  }

  .addremoveOpacity {
    opacity: 0;
    display: none;
  }

  .advBtnalighn {
    margin-right: 0.313rem;
  }

  .dateTo {
    border: none;
    background-color: transparent;
  }

  .textStart {
    text-align: start;
  }

  .advBtnsearch {
    margin-right: 0.938rem;
  }

  .advBtnborder {
    border-color: #ccc;
  }

  .countbarAlighn {
    padding: 0.313rem;
    background: #fff;
  }

  .countbarDisp {
    margin-bottom: 0.625rem;
    width: 100%;
  }

  .countbarBtn {
    float: right;
    box-sizing: border-box;
  }

  .listBtn {
    border: 0.063rem solid #fff;
    box-sizing: border-box;
    border-right: 0rem;
    margin-left: 0.313rem;
  }

  .gridBtn {
    border: 0.063rem solid #fff;
    box-sizing: border-box;
    border-left: 0rem;
  }

  .dwnBtnalighn {
    border: 0.063rem solid #fff;
    box-sizing: border-box;
  }

  .dwnIndex {
    z-index: 10000;
    left: 5.313rem !important;
  }

  .excelIcon {
    margin-left: 2.5rem !important;
  }

  .refreshIcon {
    float: right;
    border: 0.063rem solid #fff;
    box-sizing: border-box;
    margin-left: 0.313rem;
  }

  .btnAll {
    float: right;
    box-sizing: border-box;
    margin-left: 0.625rem;
  }

  .btnAllalighn {
    float: right;
    border: 0.063rem solid #fff;
    box-sizing: border-box;
    margin-left: 0.625rem;
  }

  .btnAllfont {
    font-size: 0.938rem;
  }

  .btnAlldrop {
    font-size: 0.813rem !important;
  }

  .btnAllpointer {
    pointer-events: none;
  }

  .btnAllCstm {
    text-align: center;
    color: #000;
  }

  .modalCstm {
    padding: 0.938rem;
  }

  .searchCriteria {
    margin: 0;
    word-wrap: break-word;
  }

  .dsearchAlighn {
    font-size: 0.813rem;
    word-wrap: break-word;
  }

  .btnWrapper {
    vertical-align: middle;
  }

  .wrapperDisp {
    display: block;
    float: right;
  }

  .noRecord {
    margin: 0;
    text-align: center;
  }

  .cursorPoint {
    cursor: pointer;
  }

  .iconDownload {
    text-decoration: underline;
  }

  .acitiondisp {
    padding: 0.25rem;
  }

  .dwndisp {
    padding: 0 0.813rem;
  }

  .listviewAlighn {
    margin: 0rem;
    overflow-x: auto !important;
    margin-bottom: 1.25rem;
    max-height: 32.813rem !important;
  }

  .textright {
    text-align: right;
  }

  .ui-datepicker {
    z-index: 99 !important;
  }
</style>
<div class="page-bar breadCrumb" ng-controller="activeController">
  <div class="row">
    <div class="col-md-6">
      <ul class="page-breadcrumb">
        <li>
          <i class="fa fa-percent"></i>
          <a href="javascript:void(0);" translate class="removeCursor"
            >Sidebar.CommissionModule</a
          >
          <i class="fa fa-angle-right"></i>
        </li>
        <li class="cursorPointer">
          <span class="removeCursor" translate>Sidebar.commissions</span>
        </li>
      </ul>
    </div>

    <div class="col-md-6 headerVals">
      <div
        data-ng-include="'templates/header/VPheader.html'"
        data-ng-controller="headerCtrl"></div>
    </div>
  </div>
</div>

<div class="contentContainer mb-2">
  <div class="pageTitle alertWidthonResize">
    <div class="row">
      <div class="col-sm-10">
        <div class="title__container">
          <h2 translate>Sidebar.commissions</h2>
          <p>
            <span style="font-weight: bold"
              >{{'commissions.Date' | translate}}:</span
            >
            {{todayDate}} -
            <span style="font-weight: bold"
              >{{'commissions.MaximumAmount' | translate }}:</span
            >
            {{maximumamount | currency:'$'}}
          </p>
        </div>
      </div>
      <div></div>
    </div>
  </div>

  <div
    class="animated bounce autoAdjustAlert bold"
    ng-repeat="alert in alerts"
    ng-style="{'top':alertStyle+'px','width':alertWidth+'px'}"
    ng-class="{'alert alert-success': alert.type == 'success','alert alert-danger':alert.type == 'danger'}"
  >
    <a class="close" data-dismiss="alert" aria-label="close">&times;</a>
    {{alert.msg}}
  </div>
  <div class="animated bounce bold alert alert-danger" ng-if="sucessMsg">
    <a class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <span translate>{{sucessMsg}}</span>
  </div>

  <div
    id="requestApprovals"
    class="modal fade"
    role="dialog"
    tabindex="-1"
    data-backdrop="static"
  >
    <div class="modal-dialog" style="width: 40%">
      <div class="modal-content">
        <div class="modal-header modalHeaderColor">
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            ng-click="Reset()"
          >
            &times;
          </button>
        </div>
        <div class="modal-body">
          <div class="portlet-body">
            <div class="row">
              <div class="col-md-12">
                <h3>
                  <span translate>commissions.requestApprovalmsg</span>
                  <span style="color: red">{{checkedobj.ProcessDate}}</span
                  >&nbsp<span translate>commissions.requestApprovalmsg1</span
                  >&nbsp<span style="color: red">{{checkedobj.Cycle}}</span>?
                </h3>

                <div
                  class="form-group modalBtnalighn"
                  style="text-align: center"
                >
                  <button
                    type="submit"
                    class="btnSuccess btnStyle btn-sm"
                    ng-click="AcceptApproval()"
                    translate
                  >
                    BankDataDts.Yes
                  </button>
                  <button
                    type="button"
                    class="btnDeny btnStyle btn-sm"
                    data-dismiss="modal"
                    translate
                  >
                    BankDataDts.No
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div
    id="AcceptApprovals"
    class="modal fade"
    role="dialog"
    tabindex="-1"
    data-backdrop="static"
  >
    <div class="modal-dialog" style="width: 40%">
      <div class="modal-content">
        <div class="modal-header modalHeaderColor">
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            ng-click="Reset()"
          >
            &times;
          </button>
        </div>
        <div class="modal-body">
          <div class="portlet-body">
            <div class="row">
              <div class="col-md-12">
                <h3>
                  <span translate>commissions.AcceptApprovalmsg</span>
                  <span style="color: red">{{checkedobj.ProcessDate}}</span
                  >&nbsp<span translate>commissions.requestApprovalmsg1</span
                  >&nbsp<span style="color: red">{{checkedobj.Cycle}}</span>?
                </h3>

                <div
                  class="form-group modalBtnalighn"
                  style="text-align: center"
                >
                  <button
                  type="button"
                  class="btnDeny btnStyle btn-sm"
                  data-dismiss="modal"
                  translate
                >
                  BankDataDts.No
                </button>
                  <button
                    type="submit"
                    class="btnSuccess btnStyle btn-sm"
                    ng-click="approver()"
                    translate
                  >
                    BankDataDts.Yes
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div
    id="RejectApprovals"
    class="modal fade"
    role="dialog"
    tabindex="-1"
    data-backdrop="static"
  >
    <div class="modal-dialog" style="width: 40%">
      <div class="modal-content">
        <div class="modal-header modalHeaderColor">
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            ng-click="Reset()"
          >
            &times;
          </button>
        </div>
        <div class="modal-body">
          <div class="portlet-body">
            <div class="row">
              <div class="col-md-12">
                <h3>
                  <span translate>commissions.RejectApprovalmsg</span>
                  <span style="color: red">{{checkedobj.ProcessDate}}</span
                  >&nbsp<span translate>commissions.RejectApprovalmsg1</span
                  >&nbsp<span style="color: red">{{checkedobj.Cycle}}</span>?
                </h3>

                <div
                  class="form-group modalBtnalighn"
                  style="text-align: center"
                >
                  <button
                  type="button"
                  class="btnDeny btnStyle btn-sm"
                  data-dismiss="modal"
                  translate
                >
                  BankDataDts.No
                </button>
                  <button
                    type="submit"
                    class="btnSuccess btnStyle btn-sm"
                    ng-click="reject()"
                    translate
                  >
                    BankDataDts.Yes
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="searchholder">
    <div class="row">
      <div class="col-md-12">
        <form
          class="form-horizontal"
          role="form"
          ng-submit="getcommisionsInfo()"
        >
          <div class="row m-0">
            <div class="col-md-12 mt-2">
              <div class="form-group row">
                <div class="col-md-3">
                  <div class="row">
                    <label
                      class="control-label col-md-3 text-left mt-1"
                      translate
                      >commissions.InitialDate</label
                    >
                    <div class="col-md-9 col-sm-9">
                      <div
                        class="input-group-prepend date"
                        data-date-format="yyyy-mm-dd"
                        data-date-viewmode="years"
                        data-date-minviewmode="months"
                      >
                        <input
                          type="text"
                          class="form-control DatePicker dateTypeKey"
                          placeholder="{{'Placeholder.format' | translate}}"
                          id="FromDate"
                          onpaste="return false"
                          ng-model="constructObj.InitialDate"
                        />
                        <span
                          class="input-group-text"
                          ng-click="activatePicker($event)"
                          ><span class="fa fa-calendar"></span
                        ></span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-md-3">
                  <div class="row">
                    <label
                      class="control-label col-md-3 text-left mt-1"
                      translate
                      >commissions.FianlDate</label
                    >
                    <div class="col-md-9 col-sm-9">
                      <div
                        class="input-group-prepend date"
                        data-date-format="yyyy-mm-dd"
                        data-date-viewmode="years"
                        data-date-minviewmode="months"
                      >
                        <input
                          type="text"
                          class="form-control DatePicker dateTypeKey"
                          placeholder="{{'Placeholder.format' | translate}}"
                          id="FromDate"
                          onpaste="return false"
                          ng-model="constructObj.FinalDate"
                        />
                        <span
                          class="input-group-text"
                          ng-click="activatePicker($event)"
                          ><span class="fa fa-calendar"></span
                        ></span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-md-4">
                  <button
                    style="margin: 0 !important"
                    type="submit"
                    id="okBtn"
                    class="btnSuccess btnStyle ml-5"
                    translate
                  >
                    commissions.Search
                  </button>
                  <button
                    id="refresh"
                    type="button"
                    ng-click="refresh()"
                    class="btnDefault btnStyle"
                    translate
                  >
                    ToolTips.Refresh
                  </button>
                </div>

                <div class="col-md-2">
                  <button
                    type="button"
                    ng-if="permission.C"
                    class="btnSuccess btnStyle"
                    ng-click="Createrecord()"
                    translate
                  >
                  commissions.create
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="clearBoth"></div>
        </form>
      </div>
    </div>
  </div>

  <div class="countbarAlighn">
    <div
      class="alert alert-warning mt-2"
      ng-show="!getCommisionsData.length"
      ng-hide="hideView"
    >
      <strong
        ><h5 class="noRecord">
          <i class="fa fa-warning"></i>
          {{'BankDataDts.NoRecordsFound'|translate}}
        </h5></strong
      >
    </div>

    <div
      class="listView FixHead dataGroupsScroll mt-2 listviewAlighn row"
      ng-show="showtable"
    >
      <table class="table table-bordered col-md-10" id="cntrlID">
        <thead style="text-align: center">
          <tr>
            <th translate>commissions.ProcessDate</th>
            <th translate>commissions.status</th>
            <th translate>commissions.cycle</th>
            <th translate>commissions.Select</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="items in getCommisionsData" style="text-align: center">
            <td>{{items.ProcessDate}}</td>
            <td>{{items.Status}}</td>
            <td>{{items.Cycle}}</td>
            <td>
              <input
                id="checkbox"
                type="checkbox"
                name="action"
                class="checkBoxClass checkbox checkbox-primary cursorPointer"
                ng-click="checkStatus(items)"
                id="check_{{$index}}"
              />
            </td>
          </tr>
        </tbody>
      </table>
      <div class="col-md-2">
        <button
          type="button"
          class="btnSuccess btnStyle"
          ng-if="!enableViewcommisions"
          ng-model="checkedobj"
          ng-click="viewCommisions()"
          translate
        >
          commissions.viewcommisions
        </button>
      </div>
    </div>

    <div class="row m-0" ng-show="showtable && enableView">
      <div class="col-md-5">
        <div class="row">
          <label class="control-label col-md-6 text-right mt-1" translate
            >commissions.cycleinfo</label
          >
          <div class="col-md-6 col-sm-6">
            <div
              class="input-group-prepend date"
              data-date-format="yyyy-mm-dd"
              data-date-viewmode="years"
              data-date-minviewmode="months"
            >
              <input
                type="text"
                class="form-control DatePicker2 dateTypeKey"
                placeholder="{{'Placeholder.format' | translate}}"
                id="FromDate"
                ng-model="cycleDate"
              />
              <span class="input-group-text" ng-click="activatePicker($event)"
                ><span class="fa fa-calendar"></span
              ></span>
            </div>
            <select
              id="EntitySelect"
              name="EntitySelect"
              class="form-control"
              ng-model="selectedCycle"
              ng-disabled="getCommisionsData.Cycle"
              ng-click="GetCycles()"
              style="margin-top: 5px"
            >
              <option value="" disabled>
                {{'Placeholder.Select' | translate}}
              </option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </div>
        </div>
      </div>

      <div class="col-md-7">
        <div class="row">
          <div ng-show="!EnableBtns">
            <button
              type="button"
              class="btnSuccess btnStyle ml-5"
              ng-if="(checkedobj.Status != 'WAITING_FOR_APPROVAL' && checkedobj.Status != 'ACCEPTED' && checkedobj.Status !='REJECTED' && checkedobj.Status !='COLLECTED') && newPermission.U"
              ng-class="{'disableButton': enableAction}"
              ng-disabled="enableAction"
              ng-click="enableEdit()"
              translate
            >
              commissions.Edit
            </button>

            <button
              type="button"
              class="btnSuccess btnStyle ml-2"
              ng-if="(checkedobj.Status != 'WAITING_FOR_APPROVAL' && checkedobj.Status != 'ACCEPTED' && checkedobj.Status !='REJECTED' && checkedobj.Status !='COLLECTED') && (newPermission.U || newPermission.C )"
              ng-click="savechanges()"
              translate
            >
              commissions.save
            </button>

            <button
              type="button"
              class="btnSuccess btnStyle ml-2"
              ng-if="((checkedobj.ProcessDate>=constructdate) && (checkedobj.Status == 'REJECTED' || checkedobj.Status == 'WAITING_FOR_APPROVAL')) && newPermission.Reverse"
              ng-click="withdrawRequest()"
              translate
            >
              commissions.withdrawrequest
            </button>
          </div>
          <div class="dwnBtn ml-3">
            <button
              ng-if="newPermission.Export"
              class="btn-trans downloadBtn"
              ng-disabled="!getCommisionsData"
              type="button"
              data-toggle="dropdown"
              ng-style="{'opacity':(!getCommisionsData)?'0.5':'1'}"
              data-toggle-second="tooltip"
              data-placement="top"
              data-original-title="{{'ToolTips.Export' | translate}}"
            >
              <i class="fa fa-download" aria-hidden="true"></i>
            </button>
            <a id="dwnldLnk" style="display: none"></a>
            <ul
              class="download-window dropdown-menu dropdown-menu-excel float-right dropdown-menu-right dwnIndex"
            >
              <li>
                <span style="word-break: break-all; text-align: initial"
                  ><input
                    type="radio"
                    name="excelVal"
                    value="txt"
                    class="radiobtns radioBtnAlighn"
                  />{{'SanctionModule.Reporttxts' | translate}}</span
                >
                <span style="word-break: break-all; text-align: initial"
                  ><input
                    type="radio"
                    name="excelVal"
                    value="csv"
                    class="radiobtns radioBtnAlighn"
                  />{{'SanctionModule.ExportCSV' | translate}}</span
                >
                <span style="word-break: break-all; text-align: initial"
                  ><input
                    type="radio"
                    name="excelVal"
                    value="pdf"
                    class="radiobtns radioBtnAlighn"
                  />{{'commissions.PDF' | translate}}</span
                >
                <span style="word-break: break-all; text-align: initial"
                  ><input
                    type="radio"
                    name="excelVal"
                    value="xls"
                    class="radiobtns radioBtnAlighn"
                  />{{'commissions.XLS' | translate}}</span
                >
              </li>

              <li
                data-toggle-second="tooltip"
                data-placement="top"
                data-original-title="{{'ReportGenerate.TableDownload' | translate}}"
                class="excelprint excelIcon"
                ng-click="exportToExcelFlist($event)"
              >
                <i class="fa fa-file-excel-o fa-fs14" aria-hidden="true"></i>
              </li>
            </ul>
          </div>

          <div
            ng-show="((checkedobj.Status == 'WAITING_FOR_APPROVAL')||(checkedobj.Status == 'WAITING_FOR_APPROVAL'))"
          >
            <button
              ng-if="newPermission.Reject"
              type="button"
              class="btnDeny btnStyle ml-3"
              data-toggle="modal"
              data-target="#RejectApprovals"
              translate
            >
              commissions.Reject
            </button>
            <button
              ng-if="newPermission.Authorize"
              type="button"
              class="btnSuccess btnStyle ml-3"
              data-toggle="modal"
              data-target="#AcceptApprovals"
              translate
            >
              commissions.Approver
            </button>
          </div>

          <button
            class="button btnDefault"
            ng-show="!EnableBtns && newPermission.AskForApproval "
            ng-disabled="!checkedobj"
            ng-class="{'disableButton': !checkedobj}"
            type="button"
            ng-if="checkedobj.Status !='COLLECTED' && checkedobj.Status != 'ACCEPTED'&& checkedobj.Status != 'WAITING_FOR_APPROVAL' && checkedobj.Status !='REJECTED'"
            data-toggle="modal"
            data-target="#requestApprovals"
            ng-click="requestApproval()"
            class="btnDefault btnStyle ml-3"
            translate
          >
            commissions.requestApproval
          </button>
        </div>
      </div>
    </div>

    <div
      class="listView FixHead dataGroupsScroll mt-2 listviewAlighn"
      ng-show="showtable && enableView"
    >
      <table class="table table-bordered">
        <thead>
          <tr>
            <th translate style="text-align: left">
              commissions.FinancialEntity
            </th>
            <th translate style="text-align: right">
              commissions.Valueinfavor
            </th>
            <th translate style="text-align: right">
              commissions.Valueagainst
            </th>
            <th translate style="text-align: center" ng-if="enableAction">
              commissions.Action
            </th>
          </tr>
        </thead>

        <tbody
          ng-if="enableAction"
          ng-repeat="choice in choices"
          style="text-align: center"
        >
          <td>
            <select
              id="EntitySelect"
              name="EntitySelect"
              class="form-control"
              ng-model="entity[$index]"
            >
              <option value="" disabled>
                {{'Placeholder.Select' | translate}}
              </option>

              <option
                ng-repeat="party in parties.PartyColl"
                ng-show="!party.isdisabled"
                value="{{party.PartyCode}}"
              >
                {{party.PartyName}}
              </option>
            </select>
          </td>
          <td style="text-align: right">
            $
            <input
              type="text"
              oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"
              ng-change="checkinfo($event,$index,Infavor)"
              id="{{'ValueInfavor_'
                           +$index}}"
              ng-model="Infavor[$index]"
              autocomplete="off"
            />
          </td>
          <td style="text-align: right">
            $
            <input
              type="text"
              oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"
              ng-change="checkinfos($event,$index,Against)"
              id="{{'ValueAgainst_'
                            +$index}}"
              ng-model="Against[$index]"
              autocomplete="off"
            />
          </td>
          <td>
            <button
              type="button"
              class="btnSuccessColor btn-sm"
              ng-class="{'disableButton': !(entity[$index] && Infavor[$index] && Against[$index])}"
              ng-show="showChoice(choice)"
              ng-click="addSection($index)"
              style="margin-bottom: 30px"
              ng-disabled="!(entity[$index] && Infavor[$index] && Against[$index])"
            >
              <span class="fa fa-plus"></span>
            </button>
            &nbsp; &nbsp;&nbsp;
            <button
              type="button"
              class="btnSuccessColor btn-sm"
              ng-click="removeSection($index)"
              style="margin-bottom: 30px"
              ng-show="choices.length>1"
            >
              <span class="fa fa-minus"></span>
            </button>
          </td>
        </tbody>

        <tbody ng-if="!enableAction">
          <tr ng-repeat="getcommisions in getCommisionscycle">
            <td style="text-align: left">{{getcommisions.FinancialEntity}}</td>
            <td style="text-align: right">
              <span ng-if="isEditable"
                ><input
                  style="text-align: right"
                  type="text"
                  oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"
                  ng-model="getcommisions.ValueInFavor"
              /></span>
              <span ng-if="!isEditable"
                >{{getcommisions.ValueInFavor | currency:'$'}}
              </span>
            </td>
            <td style="text-align: right">
              <span ng-if="isEditable"
                ><input
                  style="text-align: right"
                  type="text"
                  oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"
                  ng-model="getcommisions.ValueAgainst"
              /></span>
              <span ng-if="!isEditable"
                >{{getcommisions.ValueAgainst | currency:'$'}}</span
              >
            </td>
          </tr>
          <tr>
            <td translate class="bold">commissions.TOTAL</td>
            <td
              style="text-align: right"
              class="bold"
              ng-bind="sumOfValueinfavor() | currency:'$'"
            ></td>
            <td
              style="text-align: right"
              class="bold"
              ng-bind="sumOfValueagainst() | currency:'$'"
            ></td>
          </tr>
          <tr>
            <td translate class="bold">commissions.DIFERENCIA</td>
            <td style="text-align: right">
              {{sumInFavor - sumAgainst >=0 ? sumInFavor - sumAgainst : '' |
              currency:'$'}}
            </td>
            <td style="text-align: right">
              {{sumInFavor - sumAgainst <= 0 ? (sumInFavor - sumAgainst) * -1 :
              '' | currency:'$'}}
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- <div id="reqApproval" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header modalHeaderColor">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <div class="modal-body" style="overflow:auto;max-height:550px;">
                                    <h6 style="margin:0;text-align:center;" translate>commissions.message</h6>
                                    <button type="button"  class="btn btnStyle mt-4" ng-click="AcceptApproval()" style="margin-left: 11.75rem;" translate>commissions.Accept</button>
                            </div>
                    </div>

                </div>
            </div> -->

    <div class="clearBoth"></div>
  </div>
</div>

<script>
  $(document).ready(function () {
    var showFlag = false;
    customDateRangePicker("CstartDate", "CendDate");
    customDateRangePicker("GeneratedDateStart", "GeneratedDateEnd");
    //customDateRangePicker

    $(".input-group-text").on("click focus", function (e) {
      $(this).prev().focus().click();
    });

    setTimeout(function () {
      $("[data-toggle-second=tooltip]").tooltip({ trigger: "hover" });
    }, 1000);

    $("li.dropdown.mega-dropdown a").on("click", function (event) {
      $(this).parent().addClass("open");
    });

    $("li.dropdown.mega-dropdown1 a").on("click", function (event) {
      $(this).parent().toggleClass("open");
    });

    $("li.dropdown.mega-dropdown a").focus(function (event) {
      $(this).parent().addClass("open");
    });

    $("body").click(function (e) {
      // if ($(e.target).attr('id') == 'DropId') {
      //     if (!showFlag) {
      //         $('.customDropDown1').show()
      //     } else {
      //         $('.customDropDown1').hide()
      //     }
      // } else {
      //     if ($(e.target).parent().hasClass('cancel')) {
      //         $('.customDropDown1').show()
      //     } else {
      //         $('.customDropDown1').hide()
      //     }
      // }

      if (
        !$("li.dropdown.mega-dropdown").is(e.target) &&
        $("li.dropdown.mega-dropdown").has(e.target).length === 0 &&
        $(".open").has(e.target).length === 0
      ) {
        $("li.dropdown.mega-dropdown").removeClass("open");
      }
    });
  });
</script>
