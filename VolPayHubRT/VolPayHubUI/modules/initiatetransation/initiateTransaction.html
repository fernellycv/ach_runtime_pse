<style>
    .alertMsg {
        display: inline-block;
    }
    
    .control-label {
        color: #333 !important;
        font-style: bold !important;
    }
    
    .select2-container--default .select2-selection--single .select2-selection__rendered {
        color: #333;
        line-height: 34px;
        font-size: 14px;
        padding: 0px 15px;
    }
    
    .select2-container .select2-selection--single .select2-selection__rendered {
        display: block;
        padding-left: 16px;
        padding-right: 20px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    
    .select2-container--default .select2-selection--single .select2-selection__placeholder {
        color: #999;
    }
    
    .select2-container--default .select2-selection--single {
        background-color: #fff;
        border: 1px solid #e5e5e5;
        border-radius: 4px;
        height: 34px;
    }
    
    .select2-container .select2-selection--single {
        box-sizing: border-box;
        cursor: pointer;
        display: block;
        height: 34px;
        user-select: none;
        -webkit-user-select: none;
    }
    
    .select2-container--default .select2-selection--single .select2-selection__clear {
        cursor: pointer;
        float: right;
        font-weight: bold;
        padding-right: 12px;
        line-height: 33px;
    }
    
    .select2-container--default .select2-selection--single .select2-selection__arrow {
        height: 33px;
        position: absolute;
        top: 1px;
        right: 1px;
        width: 20px;
        line-height: 33px;
    }
    
    input:required {
        box-shadow: none;
    }
    /*input:invalid {
   box-shadow:0 0 3px red;
   }*/
    
    .bootstrap-datetimepicker-widget {
        display: block;
    }
    
    .bootstrap-datetimepicker-widget .datepicker-days {
        display: block;
    }
    
    .bootstrap-datetimepicker-widget .datepicker-months {
        display: block;
    }
    
    .bootstrap-datetimepicker-widget .datepicker-years {
        display: block;
    }
    
    .bootstrap-datetimepicker-widget .datepicker-decades {
        display: block;
    }
    
    .control-label {
        color: #a2a0a0 !important;
    }
    
    .DatePicker,
    .TimePicker {
        z-index: 0 !important
    }
    /* .formLabel {
        margin-left:6rem;
    }
    .formFieldVal {
        min-width: -webkit-fill-available;
    }
   
        .form-inline .form-control {
    display: inline-block;
    width: auto !important;
    vertical-align: middle;
}
     */
     .input-group-addon {
    padding: .305rem  .75rem;
    margin-bottom: 0;
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.5;
    color: #495057;
    text-align: center;
    background-color: #e9ecef;
    border: 1px solid #ced4da;
}
</style>
<div class="page-bar breadCrumb" ng-controller="activeController">
    <div class="row">
        <div class="col-md-6 ">
            <ul class="page-breadcrumb">
                <li>
                    <i class="fa fa-cog"></i>
                    <a href="javascript:void(0);" translate class="removeCursor">Sidebar.PaymentModule</a>
                    <i class="fa fa-angle-right"></i>
                </li>
                <li class="">
                    <span onclick="sidebarMenuControl('PaymentModule', 'InitiateTransaction')" translate>
                        Sidebar.InitiateTransaction</span>
                </li>
            </ul>
        </div>
        <!--<div style="clear:both">    </div>-->
        <div class="col-md-6 headerVals">
            <div data-ng-include="'templates/header/VPheader.html'" data-ng-controller="headerCtrl"></div>
        </div>
    </div>
</div>
<div class="contentContainer">
    <div class="pageTitle alertWidthonResize">
        <div class="row">
            
            <!-- <div class="title__container"> -->
                <div class="col title__container">
                    <h2 translate>InitiateTransaction.PageTitle</h2>
                    <!--<span translate>InitiateTransaction.PageTitle</span> -->
                    <span style="font-size:14px;"><small translate></small></span>
                </div>
                <div class="col">
                    <button class="btn btnStyle pull-right" style="margin-right:10px;" ng-click="Reload()"><i
                            class="fa fa-retweet" aria-hidden="true"></i> &nbsp;<span translate>ToolTips.Refresh</span></button>
                    <button class="btn btnStyle pull-right" style="margin-right:10px;" ng-click="expandAll()"><i
                            class="fa fa-expand" aria-hidden="true"></i> &nbsp;<span translate>BtnGroup.Expand</span></button>
                    <button class="btn btnStyle pull-right" style="margin-right:10px;" ng-click="collapseAll()"><i
                            class="fa fa-compress" aria-hidden="true"></i> &nbsp;<span
                            translate>BtnGroup.Collapse</span></button>
                </div>
            <!-- </div> -->
        </div>
    </div>
    <!--  <alert ng-repeat="alert in alerts" type="{{alert.type}}" class="bold" close="closeAlert($index)">{{alert.msg}}</alert> -->
    <div class="animated bounce autoAdjustAlert bold" ng-style="{'top':alertStyle+'px','width':alertWidth+'px'}" ng-repeat="alert in alerts" ng-class="{'alert alert-success': alert.type == 'success','alert alert-danger':alert.type == 'danger'}">
        <a class="close" data-dismiss="alert" aria-label="close">&times;</a> {{alert.msg}}
    </div>

    <!--Alert Pop-up Window-->
    <div class="modal fade" id="changesLostModal" role="dialog" tabindex="-1">
        <div class="modal-dialog">


            <div class="modal-content" style="border:2px solid #243250a6;">
                <div class="modal-body">
                    <h4 translate>BankDataDts.PopupMsg</h4>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btnStyle" ng-click="gotoClickedPage();" translate>BankDataDts.Yes</button>
                    <button type="button" class="btn btnStyle" data-dismiss="modal" ng-click="cancelChanges()" translate>BankDataDts.No</button>
                </div>
            </div>

        </div>

    </div>
    <!--  </div> -->
   <form class="form-horizontal" id="MPIForm" role="form" name="benelistForm" ng-submit="createData(PaymentDetails,OrderingCustomer,BeneficiaryBank,Beneficiary,RemittanceInformation,refferdDocInfoData,discountAppliedAmountGrp,UltimateDebtor,UltimateCreditor,IntermediaryBankDetails123,party,service11,ProductsSupported123,psaCode11,PaymentBranch,EndToEndId,TemplateDetails,SaveTemplate);">
        <!-- <div class="row" style="margin: 15px !important;"> -->
            <div class="form-group row col-md-10 col-sm-6">
                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                      <label class="control-label">Templates
                </label>
                </div>

                <div class="col-md-6 col-sm-8 " ng-class="{true: 'error'}[updatesubmitted && benelistForm.party.$invalid]">
                    <select class="form-control appendselect212" select2-model-append id="templates" name="templates" ng-model="templates" ng-change="loadTemplateData(templates)">
                        <option value="">--Select--</option>
                        <option ng-repeat="party in TemplatesOptions" value="{{party}}">{{party | underscoreRemove}}
                        </option>
                    </select>
                </div>
            </div>

        <!-- </div> -->
    <!-- new accordion - PaymentDetails-->
    <div class="accordion">
        <div class="card">
            <div class="card-header cardColor"> 
                <div class="fileListStyle"  data-toggle="collapse" data-target="isPaymentDetailsCollapsed" aria-expanded="true" ng-click="isPaymentDetailsCollapsed = !isPaymentDetailsCollapsed">
                    <span class="bold">Payment Details</span>
                    <div class="pull-right">
                        &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isPaymentDetailsCollapsed, 'fa-angle-right': isPaymentDetailsCollapsed}"></i>
                    </div>
                </div>
            </div>
            <div collapse="isPaymentDetailsCollapsed" class="collapse show">
                <!-- <div class="row" style="margin: 15px !important;"> -->
                <div class="card-body ">
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Party
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <select class="form-control appendselect2" select2-model-append id="PartyCode" name="party" ng-model="party" ng-required="true" ng-change="getServiceList(party,PartySelectedFlag)">
                                <option value="">--Select--</option>
                                <option ng-repeat="party in partyOptions" value="{{party}}">{{party.PartyName |
                                    underscoreRemove}} </option>
                            </select>
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.party.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Service
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.service11.$invalid]">
                            <select class="form-control" name="service11" ng-model="service11" ng-required="true" ng-change="getMessageType(party,service11)">
                                <option value="" selected>--Select--</option>
                                <option ng-repeat="service in serviceOptions" value="{{service}}">
                                    {{service.ServiceName | underscoreRemove}}-{{service.ServiceCode}}</option>
                            </select>
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.service11.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        <span ng-if="ServiceNotAvailable!=''" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">There is no Service available for this<b>
                                "{{ServiceNotAvailable}}"</b></span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Messages Type
                            <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                aria-required="true">*</span>
                            </label>
                        </div>
                      
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.MessageType.$invalid]">
                            <select class="form-control" name="MessageType" ng-required="true" ng-model="PaymentDetails.MessageType" ng-change="getPaymentType11(PaymentDetails.MessageType,service11,party);">
                                <option value="" selected>--Select--</option>
                                <option value="{{MT.actualValue}}" ng-repeat="MT in MessageType track by $index">
                                    {{MT.displayValue}}</option>
                            </select>
                        </div>
                        <!-- <div class="col-md-4" ng-if="Templateloading" ng-class="{true: 'error'}[updatesubmitted && benelistForm.MessageType.$invalid]">
						 <select class="form-control" name="MessageType" ng-required = "true" ng-model="PaymentDetails.MessageType" ng-change="getPaymentType11(PaymentDetails.MessageType,service11,party);">
							<option value="" selected>--Select--</option>
							<option value="{{MT}}" ng-repeat="MT in MessageType track by $index">{{MT}}</option>
						 </select>
					  </div> -->
                        <span ng-show="updatesubmitted && benelistForm.MessageType.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Party Service Association Code
                            <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                aria-required="true">*</span>
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.psaCode.$invalid]">

                            <select class="form-control" id="psaCode" name="psaCode" ng-model="psaCode11" ng-required="true" ng-change="getPaymentDetailsByPSA(psaCode11)">
                                <option value="" selected>--Select--</option>
                                <option ng-repeat="psaCode in selectOptions" ng-if="PaymentDetails.MessageType"
                                    value="{{psaCode}}">{{psaCode.PartyServiceAssociationCode
                                    | underscoreRemove}} ({{psaCode.PartyCode}})</option>
                            </select>
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.psaCode.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        <span ng-if="PSANotAvailable!=''" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">{{PSANotAvailable}}</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Branch
                            <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                aria-required="true">*</span>
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.Branch.$invalid]">
                            <select class="form-control" data-placeholder="--Select--" id="Branch" name="Branch" ng-model="PaymentBranch" ng-required="true">
                                <option value="">--Select--</option>
                                <option ng-repeat="option1 in branchList" value="{{option1}}">{{option1.BranchName |
                                    underscoreRemove}}</option>
                            </select>
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.Branch.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>

                    </div>

                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Products Supported
                            <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.productsupported.$invalid]">
                            <select class="form-control" name="productsupported" ng-model="ProductsSupported123" ng-change="getPaymentTypeDetails(ProductsSupported123,party,service11)" ng-required="true">
                                <option value="">--Select--</option>
                                <option ng-repeat="PT in ProductsSupported" value="{{PT}}">{{PT | underscoreRemove }}
                                </option>
                            </select>
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.productsupported.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>                   
                    <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Customer Credit Transfer'">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Value Date
                            <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                aria-required="true"
                                ng-if="PaymentDetails.MessageType != 'Request for Payment'">*</span>
                            </label>
                        </div>
                        <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && benelistForm.ValueDate.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                            <input class="form-control DatePicker" type="text" name="ValueDate" ng-model="PaymentDetails.ValueDate" placeholder="Please Select Date" ng-required="true" onkeypress='return tabOrder(event)' ng-blur="multipleEmptySpace($event)"
                                ng-focus="activatePicker($event)" ng-disabled="false" autocomplete="off">
                            <span class="input-group-text cursorPointer"><span
                                    class="fa fa-calendar" aria-hidden="true"></span></span>                              
                                   
                        </div>
                        <span class="help-inline" ng-show="updatesubmitted && benelistForm.ValueDate.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                    </div>

                    <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">                           
                            <label class="control-label">Requested Execution Date
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                            </label>
                        </div>
                        <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && benelistForm.RequestedExecutionDate.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                            <input class="form-control DatePicker" type="text" name="RequestedExecutionDate" ng-model="PaymentDetails.RequestedExecutionDate" placeholder="Please Select Date" ng-required="true" onkeypress='return tabOrder(event)' ng-blur="multipleEmptySpace($event)"
                                ng-focus="activatePicker($event)" ng-disabled="false" autocomplete="off">
                            <span class="input-group-text cursorPointer"><span
                                    class="fa fa-calendar"></span></span>
                        </div>
                        <span class="help-inline" ng-show="updatesubmitted && benelistForm.RequestedExecutionDate.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                    </div>
                    
                    <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Requested Execution Time
                            <!-- <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span> -->
                            </label>
                        </div>
                        <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && benelistForm.RequestedExecutionTime.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                            <input class="form-control TimePicker" type="text" name="RequestedExecutionTime" ng-model="PaymentDetails.RequestedExecutionTime" placeholder="Please Select Time" onkeypress='return tabOrder(event)' ng-blur="multipleEmptySpace($event)" ng-focus="activatePicker($event)"
                                ng-disabled="false">
                            <span class="input-group-text cursorPointer">
                                <span class="fa fa-clock-o"></span>
                            </span>
                        </div>
                        <!-- <span class="help-inline" ng-show="updatesubmitted && benelistForm.RequestedExecutionTime.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span> -->
                    </div>

                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Debtor Customer Proprietary Code
                            <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:0px"
                                aria-required="true" ng-if="service123.ServiceCode=='RPX'">*</span>
                            </label>
                        </div>
                        <!-- {{DebtorCustomerProprietaryCode}}  ng-required="service11=='RPX' ? true:false" ng-disabled="service11 !='RPX' ? true:false" -->

                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.DebtorCustomerProprietaryCode.$invalid]">
                            <select class="form-control checkSelectEntry" name="DebtorCustomerProprietaryCode" ng-model="PaymentDetails.DebtorCustomerProprietaryCode" ng-change="getBeneficiaryCountry(PaymentDetails.DebtorCustomerProprietaryCode)" ng-required="service123.ServiceCode=='RPX' ? true:false">
                                <option value="">--Select--</option>
                                <option value="{{MT.actualValue}}"
                                    ng-repeat="MT in DebtorCustomerProprietaryCode track by $index">{{MT.displayValue}}
                                </option>
                            </select>
                        </div>
                        <!-- <div class="col-md-3" ng-if="Templateloading" ng-class="{true: 'error'}[updatesubmitted && benelistForm.DebtorCustomerProprietaryCode.$invalid]">
                            <select class="form-control checkSelectEntry" name="DebtorCustomerProprietaryCode" ng-model="PaymentDetails.DebtorCustomerProprietaryCode" ng-change="getBeneficiaryCountry(PaymentDetails.DebtorCustomerProprietaryCode)"ng-required="service123.ServiceCode=='RPX' ? true:false" ng-disabled="service123.ServiceCode !='RPX' ? true:false">
                                <option value="">--Select--</option>
                                <option value="{{MT}}" ng-repeat="MT in DebtorCustomerProprietaryCode track by $index">{{MT}}</option>
                            </select>
                        </div> -->
                        <span ng-show="updatesubmitted && benelistForm.DebtorCustomerProprietaryCode.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Local Instrument
                            <span ng-if="!CXCFlag" style="color:#e02222;font-size:12px;padding-left:2px"
                                aria-required="true">*</span>
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.LocalInstrument.$invalid]">

                            <select class="form-control checkSelectEntry" name="LocalInstrument" select2-model-append ng-model="PaymentDetails.LocalInstrument" ng-disabled="CXCFlag" ng-required="!CXCFlag">
                                <option value="">--Select--</option>
                                <option value="{{LI.actualValue}}" ng-repeat="LI in LocalInstrument">
                                    {{LI.displayValue}}</option>
                            </select>

                        </div>
                        <span ng-show="updatesubmitted && benelistForm.LocalInstrument.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Payment Currency
                            <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.PaymentCurrency.$invalid]">

                            <select class="form-control checkSelectEntry" name="PaymentCurrency" ng-model="PaymentDetails.PaymentCurrency" ng-required="true">
                                <option value="" disabled>--Select--</option>
                                <option value="{{MT}}" ng-repeat="MT in PaymentCurrency track by $index">{{MT}}</option>
                            </select>

                        </div>
                        <span ng-show="updatesubmitted && benelistForm.PaymentCurrency.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Amount
                            <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                        </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.Amount.$invalid]">
                            <input type="text" class="form-control allownumericwithdecimal" maxAllowDigit="{{CurrencyDecimalDigits}}" maxlength="12" name="Amount" placeholder="Please Enter Amount" ng-model="PaymentDetails.Amount" ng-required="true" valid-number />
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.Amount.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">End To End ID
                            <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true"
                                ng-if="((service123.ServiceCode=='RPX')||(CXCFlag))">*</span>
                        </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.Amount.$invalid]">
                            <input type="text" id="EndToEndId" class="form-control" name="EndToEndId" ng-blur="multipleEmptySpace($event)" placeholder="Please Enter End To End ID" ng-model="EndToEndId" maxlength="35" ng-required="((service123.ServiceCode=='RPX')||(CXCFlag)) ? true:false"
                                ng-trim="true" />
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.EndToEndId.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Number Of Hold Days
                            <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true"
                                ng-if="CXCFlag">*</span>
                        </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.Amount.$invalid]">
                            <input type="text" id="NumberOfHoldDays" My-Directive3 name="NumberOfHoldDays" class="form-control" ng-blur="multipleEmptySpace($event)" placeholder="Please Enter Number Of Hold Days" ng-model="PaymentDetails.NumberOfHoldDays" maxlength="2" onkeydown='return allowOnlyNumbersAlone(event)'
                                ng-required="CXCFlag" ng-trim="true" />
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.NumberOfHoldDays.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label"> Charge Code
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <!--  <input type="text" class="form-control" placeholder="Please Enter Charge Code" name="ChargeCode" ng-model="PaymentDetails.ChargeCode" value="" ng-if="ChargeCodelength<=1"/>  -->
                            <select class="form-control checkSelectEntry" placeholder="Please Enter Charge Code" name="ChargeCode" ng-if='service11.ServiceCode=="RPX"' ng-disabled='true' ng-model="PaymentDetails.ChargeCode">
                                <option value="" disabled>--Select--</option>
                                <option value="{{MT.SupportedChargeCodes}}"
                                    ng-repeat="MT in ChargeCode track by $index">{{MT.SupportedChargeCodes}}</option>
                            </select>
                            <select class="form-control checkSelectEntry" placeholder="Please Enter Charge Code" name="ChargeCode" ng-if='service11.ServiceCode!="RPX"' ng-model="PaymentDetails.ChargeCode">
                                <option value="" disabled>--Select--</option>
                                <option value="{{MT.SupportedChargeCodes}}"
                                    ng-repeat="MT in ChargeCode track by $index">{{MT.SupportedChargeCodes}}</option>
                            </select>
                        </div>
                        <!--   <span class="alertMsg" ng-if="(fieldMandatory)&&(!PaymentDetails.ChargeCode)" style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">Required</span> -->
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType != 'Request for Payment'">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Transaction ID
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="TransactionID" ng-model="PaymentDetails.TransactionID" placeholder="Please Enter Transaction ID" maxlength="{{TrasactionIDLength}}" />

                        </div>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Amount Modification Allowed
                            <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true"
                                ng-show="condition.AmountModificationAllowed">*</span>
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.AmountModificationAllowed.$invalid]">
                            <select class="form-control checkSelectEntry" name="AmountModificationAllowed" ng-model="PaymentDetails.AmountModificationAllowed" ng-change="checkPaymentMandatory(PaymentDetails)" ng-required="condition.AmountModificationAllowed">
                                <option value="" disabled>--Select--</option>
                                <option value="{{AMA.actualValue}}"
                                    ng-repeat="AMA in AmountModificationAllowed track by $index">
                                    {{AMA.displayValue}}
                                </option>
                            </select>
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.AmountModificationAllowed.$error.required && condition.AmountModificationAllowed" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Early Payment Allowed
                            <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true"
                                ng-show="condition.EarlyPaymentAllowed">*</span>
                            </label>
                            </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.EarlyPaymentAllowed.$invalid]">
                            <select class="form-control checkSelectEntry" name="EarlyPaymentAllowed" ng-model="PaymentDetails.EarlyPaymentAllowed" ng-change="checkPaymentMandatory(PaymentDetails)" ng-required="condition.EarlyPaymentAllowed">
                                <option value="" disabled>--Select--</option>
                                <option value="{{EPA.actualValue}}"
                                    ng-repeat="EPA in EarlyPaymentAllowed track by $index">{{EPA.displayValue}}</option>
                            </select>
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.EarlyPaymentAllowed.$error.required && condition.EarlyPaymentAllowed" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Guaranteed Payment Requested
                            <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true"
                                ng-show="condition.GuaranteedPaymentRequested">*</span>
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.GuaranteedPaymentRequested.$invalid]">
                            <select class="form-control checkSelectEntry" name="GuaranteedPaymentRequested" ng-model="PaymentDetails.GuaranteedPaymentRequested" ng-change="checkPaymentMandatory(PaymentDetails)" ng-required="condition.GuaranteedPaymentRequested">
                                <option value="" disabled>--Select--</option>
                                <option value="{{GPR.actualValue}}" ng-repeat="GPR in
                                    GuaranteedPaymentRequested track
                                    by $index">{{GPR.displayValue}}</option>
                            </select>
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.GuaranteedPaymentRequested.$error.required && condition.GuaranteedPaymentRequested" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">RFP Expiry Date
                            <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                aria-required="true">*</span>
                            </label>
                        </div>
                        <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && benelistForm.RFPExpiryDate.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                            <input class="form-control DatePicker" type="text" name="RFPExpiryDate" ng-model="PaymentDetails.RFPExpiryDate" placeholder="Please Select Date" ng-required="true" onkeypress='return tabOrder(event)' ng-blur="multipleEmptySpace($event)" ng-focus="activatePicker($event)"
                                ng-disabled="false">
                            <span class="input-group-text cursorPointer"><span
                                    class="fa fa-calendar"></span></span>
                        </div>
                        <span class="help-inline" ng-show="updatesubmitted && benelistForm.RFPExpiryDate.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="PaymentDetails.MessageType == 'Request for Payment'">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">RFP Expiry Time
                            <!-- <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span> -->
                        </label>
                        </div>
                        <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && benelistForm.RFPExpiryTime.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                            <input class="form-control TimePicker" type="text" name="RFPExpiryTime" ng-model="PaymentDetails.RFPExpiryTime" placeholder="Please Select Time" onkeypress='return tabOrder(event)' ng-blur="multipleEmptySpace($event)" ng-focus="activatePicker($event)"
                                ng-disabled="false">
                            <span class="input-group-text cursorPointer"><span
                                    class="fa fa-clock-o"></span></span>
                        </div>
                        <!-- <span class="help-inline" ng-show="updatesubmitted && benelistForm.RFPExpiryTime.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span> -->
                    </div>

                </div>

            </div>
        </div>
    </div>
    </br>
    <!-- new accordion - OrderingCustomer-->
    <div class="accordion">
        <div class="card">
            <div class="card-header cardColor"> 
                <div class="fileListStyle"  data-toggle="collapse"  data-target="isOrderingCustomerCollapsed" aria-expanded="true"  ng-click="isOrderingCustomerCollapsed = !isOrderingCustomerCollapsed">
                    <span class="bold"></span>
                    <span class="bold" ng-if="PaymentTypePushPull.actualValue!='PULL MESSAGE'">Ordering Customer</span>
                    <span class="bold" ng-if="PaymentTypePushPull.actualValue=='PULL MESSAGE'">Beneficiary Customer</span>
                    <div class="pull-right">
                        &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isOrderingCustomerCollapsed, 'fa-angle-right': isOrderingCustomerCollapsed}"></i>
                    </div>
                </div>
            </div>
            <div collapse="isOrderingCustomerCollapsed" class="collapse show">
                <!-- <div class="row" style="margin: 15px !important;"> -->
                <div class="card-body ">
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Client ID
                            <!-- <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span> -->

                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-if="!Templateloading" ng-class="{true: 'error'}[updatesubmitted && benelistForm.ClientID.$invalid]">
                            <select class="form-control checkSelectEntry" name="ClientID" ng-model="OrderingCustomer.ClientID" ng-change="getClientID(OrderingCustomer.ClientID)">
                                <option value="" selected>--Select--</option>
                                <option value="{{MT.actualvalue}}" ng-repeat="MT in ClientID123 track by $index">
                                    {{MT.displayvalue}}</option>
                            </select>
                            <!--  <input type="text" class="form-control" name="ClientID" ng-model="OrderingCustomer.ClientID" ng-required = "true"/> -->
                        </div>

                        <div class="col-md-6 col-sm-8" ng-if="Templateloading" ng-class="{true: 'error'}[updatesubmitted && benelistForm.ClientID.$invalid]">
                            <select class="form-control checkSelectEntry" name="ClientID" ng-model="OrderingCustomer.ClientID" ng-change="getClientID(OrderingCustomer.ClientID);">
                                <option value="" selected>--Select--</option>
                                <option value="{{MT}}" ng-repeat="MT in ClientID123 track by $index">{{MT}}</option>
                            </select>
                            <!-- {{ClientIDTextbox}}
                     <input type="text" class="form-control" ng-show="ClientIDTextbox" name="ClientID" ng-model="OrderingCustomer.ClientID" ng-required = "true"/> -->

                        </div>
                        <span ng-show="updatesubmitted && benelistForm.ClientID.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                   
                    <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Name
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientName" ng-if="(OrderingCustomer.ClientID!='' && getPartySubtype != 'TPS' )" ng-model="OrderingCustomer.ClientName" placeholder="Please Enter Name" ng-disabled="party123.PartyName" />

                            <input type="text" class="form-control" name="ClientName" ng-if="(OrderingCustomer.ClientID=='' || getPartySubtype == 'TPS')" ng-model="OrderingCustomer.ClientName" placeholder="Please Enter Name" />
                        </div>
                   </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                               <label class="control-label">Address Line 1
                        </label>
                        </div>
                     
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientAddressLine1" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.ClientAddressLine1" placeholder="Please Enter Address Line 1" ng-disabled="party123.AddressLine1" />
                            <input type="text" class="form-control" name="ClientAddressLine1" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.ClientAddressLine1=''" ng-model="OrderingCustomer.ClientAddressLine1" placeholder="Please Enter Address Line 1" ng-disabled="party123.AddressLine1"
                            />
                        </div>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Address Line 2
                        </label>
                        </div>
                        
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientAddressLine2" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.ClientAddressLine2" placeholder="Please Enter Address Line 2" ng-disabled="party123.AddressLine2" />
                            <input type="text" class="form-control" name="ClientAddressLine2" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.ClientAddressLine2=''" ng-model="OrderingCustomer.ClientAddressLine2" placeholder="Please Enter Address Line 2" ng-disabled="party123.AddressLine2"
                            />
                        </div>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">City
                        </label>
                        </div>
                        
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientCountryCity" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.City" placeholder="Please Enter City" ng-disabled="party123.City" />
                            <input type="text" class="form-control" name="ClientCountryCity" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.City=''" ng-model="OrderingCustomer.City" placeholder="Please Enter City" ng-disabled="party123.City" />
                        </div>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                             <label class="control-label">State
                        </label>
                        </div>
                       
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientCountryState" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.State" placeholder="Please Enter State" ng-disabled="party123.State" />
                            <input type="text" class="form-control" name="ClientCountryState" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.State=''" ng-model="OrderingCustomer.State" placeholder="Please Enter State" ng-disabled="party123.State" />
                        </div>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                             <label class="control-label">Post Code
                        </label>
                        </div>
                       
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientCountryPostCode" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.PostCode" placeholder="Please Enter PostCode" ng-disabled="party123.PostCode" />
                            <input type="text" class="form-control" name="ClientCountryPostCode" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.PostCode=''" ng-model="OrderingCustomer.PostCode" placeholder="Please Enter PostCode" ng-disabled="party123.PostCode"
                            />
                        </div>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Country
                        </label>
                        </div>
                        
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="ClientCountryCode" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.Country" placeholder="Please Enter Country" ng-disabled="party123.CountryCode" />
                            <input type="text" class="form-control" name="ClientCountryCode" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.Country=''" ng-model="OrderingCustomer.Country" placeholder="Please Enter Country Code" ng-disabled="party123.CountryCode"
                            />
                        </div>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                               <label class="control-label">Account Number
                            <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                        </label>
                        </div>
                     
                        <!--  {{AccountNumber11}} -->
                        <div class="col-md-6 col-sm-8" ng-if="!Templateloading" ng-class="{true: 'error'}[updatesubmitted && benelistForm.AccountNumber.$invalid]">
                            <input type="text" class="form-control" placeholder="Select the Account Number" name="AccountNumber" ng-model="OrderingCustomer_AccountNumber" ng-if="OrderingCustomer.ClientID==''" />

                            <select class="form-control" ng-if="OrderingCustomer.ClientID!=''" name="OrderingCustomer_AccountNumber" placeholder="Select the Account Number" ng-model="OrderingCustomerAccountNumber" ng-change="getAccountNumberCurrency(OrderingCustomerAccountNumber)"
                                ng-required="true">
                                <option value="" selected>--Select Account Number--</option>
                                <option value="{{Acc}}" ng-repeat="Acc in AccountNumber11 track by $index"
                                    ng-if="Acc.AccountType=='DDA'">{{Acc.AccountNo}}</option>
                            </select>
                        </div>

                        <div class="col-md-6 col-sm-8" ng-if="Templateloading" ng-class="{true: 'error'}[updatesubmitted && benelistForm.AccountNumber.$invalid]">
                            <input type="text" class="form-control" placeholder="Select the Account Number" name="AccountNumber" ng-model="OrderingCustomer_AccountNumber" ng-if="OrderingCustomer.ClientID==''" />

                            <select ng-if="OrderingCustomer.ClientID!=''" class="form-control" name="OrderingCustomer_AccountNumber" placeholder="Select the Account Number" ng-model="OrderingCustomerAccountNumber" ng-change="getAccountNumberCurrency(OrderingCustomerAccountNumber)"
                                ng-required="true">
                                <option value="" selected>--Select Account Number--</option>
                                <option value="{{Acc}}" ng-repeat="Acc in AccountNumber11 track by $index">{{Acc}}
                                </option>
                            </select>
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.AccountNumber.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                             <label class="control-label">Account Currency
                        </label>
                        </div>
                       
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="AccountCurrency" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.AccountCurrency=''" ng-model="OrderingCustomer.AccountCurrency" placeholder="Please Enter Account Currency" />
                            <select class="form-control" ng-if="OrderingCustomer.ClientID!=''" name="AccountCurrency" ng-model="OrderingCustomer.AccountCurrency">
                                <option value="" selected>--Select--</option>
                                <option ng-repeat="PT in OrderingCustomer_AccountCurrency" value="{{PT}}">{{PT}}
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                             <label class="control-label">Account Name
                        </label>
                        </div>
                       
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="AccountName" ng-if="OrderingCustomer.ClientID!=''" ng-model="OrderingCustomer.AccountName" placeholder="Please Enter Account Name " />
                            <input type="text" class="form-control" name="AccountName" ng-if="OrderingCustomer.ClientID==''" ng-init="OrderingCustomer.AccountName=''" ng-model="OrderingCustomer.AccountName" placeholder="Please Enter Account Name " />
                        </div>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                             <label class="control-label">Account Domiciled Country
                        </label>
                        </div>
                       
                       <div class="col-md-6 col-sm-8">

                            <!-- <input type="text" class="form-control" ng-if="Templateloading" placeholder="Enter the Account Domiciled Country" name="AccountDomiciledCountry" ng-model="OrderingCustomer.AccountDomiciledCountry" />  -->
                            <select class="form-control" ng-if="!Templateloading" name="AccountDomiciledCountry" placeholder="Select the Account Domiciled Country" ng-model="OrderingCustomer.AccountDomiciledCountry">
                                <option value="" selected>Select the Account Domiciled Country</option>
                                <option value="{{ADC.CountryCode}}"
                                    ng-repeat="ADC in AccountDomiciledCountry track by $index">{{ADC.CountryCode}}
                                </option>
                            </select>
                            <select class="form-control" ng-if="Templateloading" name="AccountDomiciledCountry" placeholder="Select the Account Domiciled Country" ng-model="OrderingCustomer.AccountDomiciledCountry">
                                <option value="{{ADC}}" ng-repeat="ADC in AccountDomiciledCountry11 track by $index">
                                    {{ADC}}</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </br>   
    <!-- new accordion - BenenficiaryBankDetails-->
    <div class="accordion">
        <div class="card" ng-if="!CXCFlag">
            <div class="card-header cardColor">
                <div class="panel-heading fileListStyle" data-toggle="collapse" data-target="#isBenenficiaryBankDetailsCollapsed" aria-expanded="true" ng-click="isBenenficiaryBankDetailsCollapsed = !isBenenficiaryBankDetailsCollapsed">
                    <span class="bold" ng-if="PaymentTypePushPull.actualValue!='PULL MESSAGE'">Beneficiary Bank
                        Details</span>
                    <span class="bold" ng-if="PaymentTypePushPull.actualValue=='PULL MESSAGE'">Debtor Bank Details</span>
                    <div class="pull-right">
                        &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isBenenficiaryBankDetailsCollapsed, 'fa-angle-right': isBenenficiaryBankDetailsCollapsed}"></i>
                    </div>
                </div>
            </div>

            <div id="isBenenficiaryBankDetailsCollapsed" class="collapse show addCollapse">
                <!-- <div class="row" style="margin: 30px !important;"> -->
                <div class="card-body ">
                    <!--<div class="form-group">-->
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Bank Identifier Type
                                <span style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                            </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-if="!Templateloading" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BankIdentifierType1.$invalid]">
                                <select class="form-control checkSelectEntry" name="BankIdentifierType1" ng-model="BeneficiaryBank.BankIdentifierType" ng-change="getBankIdentifierCode(BeneficiaryBank.BankIdentifierType)" ng-required="true">
                                    <option value="">Select the Bank Identifier Type</option>
                                    <option value="{{MT.ClearingSchemeCode}}"
                                        ng-repeat="MT in BankIdentifierTypeData track by $index"
                                        ng-if="BankIdentifierTypeData.length>=1">{{MT.ClearingSchemeCode}}</option>
                                </select>
                            </div>

                            <div class="col-md-6 col-sm-8" ng-if="Templateloading" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BankIdentifierType1.$invalid]">

                                <select class="form-control checkSelectEntry" name="BankIdentifierType1" ng-model="BeneficiaryBank.BankIdentifierType" ng-change="getBankIdentifierCode(BeneficiaryBank.BankIdentifierType)" ng-required="true">
                                    <option value="">Select the Bank Identifier Type</option>
                                    <option value="{{MT}}" ng-repeat="MT in BankIdentifierTypeData track by $index"
                                        ng-if="BankIdentifierTypeData.length>=1">{{MT}}</option>
                                </select>
                            </div>
                            <span ng-show="updatesubmitted && benelistForm.BankIdentifierType1.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Bank Identifier Code
                                <span style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                            </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BIC1.$invalid]">

                                <input type="text" ng-if="BeneficiaryBank.BankIdentifierType =='BIC'" class="form-control" name="BIC" ng-model="BeneficiaryBank.BankIdentifierCode" placeholder="Please Enter BIC" ng-blur="getBIC_Address(BeneficiaryBank.BIC)" ng-required="true" />

                                <select class="form-control" ng-if="BeneficiaryBank.BankIdentifierType!='BIC'" name="BIC1" ng-model="BeneficiaryBank.BankIdentifierCode" ng-change="getBankDetails(BeneficiaryBank)" ng-required="true">
                                    <option value="" selected>Select the Bank Identifier Code</option>
                                    <option value="{{BIC123.SchemeParticipantIdentifer}}"
                                        ng-repeat="BIC123 in BankIdentifierCode123 track by $index">
                                        {{BIC123.SchemeParticipantIdentifer}}</option>
                                </select>
                            </div>

                            <span ng-show="updatesubmitted && benelistForm.BIC1.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                                <label class="control-label">Address Line 1
                                </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankAddressLine1" ng-model="BeneficiaryBank.BankAddressLine1" placeholder="Please Enter Address Line 1" />
                            </div>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Address Line 2
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankAddressLine2" ng-model="BeneficiaryBank.BankAddressLine2" placeholder="Please Enter Address Line 2" />
                            </div>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">City
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="BeneficiaryBank.City" placeholder="Please Enter City" />
                            </div>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">State
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="BeneficiaryBank.State" placeholder="Please Enter State" />
                            </div>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Post Code
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="BeneficiaryBank.PostCode" placeholder="Please Enter PostCode" />
                            </div>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Country
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="BeneficiaryBank.Country" placeholder="Please Enter  Country" />
                            </div>
                        </div>
                    <!-- </div> -->
                </div>
            </div>
        </div>
    </div>
    </br>
    <!-- new accordion - BenenficiaryDetails-->
    <div class="accordion">
        <div class="card">
            <div class="card-header cardColor">       
                <div class="fileListStyle" data-toggle="collapse" data-target="isBenenficiaryDetailsCollapsed" aria-expanded="true" ng-click="isBenenficiaryDetailsCollapsed = !isBenenficiaryDetailsCollapsed">
                    <span class="bold" ng-if="PaymentTypePushPull.actualValue!='PULL MESSAGE'">Beneficiary Details</span>
                    <span class="bold" ng-if="PaymentTypePushPull.actualValue=='PULL MESSAGE'">Debtor Details</span>
                    <div class="pull-right">
                        &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isBenenficiaryDetailsCollapsed, 'fa-angle-right': isBenenficiaryDetailsCollapsed}"></i>
                    </div>
                </div>
            </div>
            <div collapse="isBenenficiaryDetailsCollapsed" class="collapse show">
                <!-- <div class="row" style="margin: 15px !important;"> -->
                    <div class="card-body "> 
                    <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">                          
                            <label class="control-label">Account Number
                                <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8 fieldArea" ng-class="{true: 'error'}[updatesubmitted && benelistForm.AccountNumber1.$invalid]" ng-if="BeneficiaryBank.BankIdentifierType.length">
                            <input type="text" class="form-control" name="AccountNumber1" ng-model="Beneficiary.AccountNumber" placeholder="Please Enter Account Number" onkeydown="return allowOnlyNumbersAlone(event)" ng-required="true" ng-if="BeneficiaryBank.BankIdentifierType.length"
                            />
                        </div>
                        <span ng-show="updatesubmitted &&(benelistForm.AccountNumber1.$error.required || benelistForm.AccountNumber1.$error.required)" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        <div class="col-md-6 col-sm-8 fieldArea" ng-class="{true: 'error'}[updatesubmitted && benelistForm.AccountNumber.$invalid]" ng-if="!BeneficiaryBank.BankIdentifierType.length">
                            <select class="form-control appendselect21" select2-model-append id="AllAccountNumber" name="AccountNumber" ng-model="Beneficiary.AccountNumber" ng-required="true" ng-if="!BeneficiaryBank.BankIdentifierType.length" ng-change="getAccountDetails(Beneficiary.AccountNumber)">
                                <option value="" disabled>--Select--</option>
                                <option ng-repeat="party in AccountNumberDrop" value="{{party}}">
                                    {{party.AccountNo | underscoreRemove}}</option>
                            </select>
                        </div>
                        <span ng-show="updatesubmitted &&(benelistForm.AccountNumber.$error.required || benelistForm.AccountNumber.$error.required)" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label"> Payee First Name
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BeneficiaryPayeeFirstName.$invalid]">
                            <input type="text" My-Directive21 class="form-control" name="BeneficiaryPayeeFirstName" ng-model="Beneficiary.PayeeFirstName" placeholder="Please Enter Payee First Name" />
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.BeneficiaryPayeeFirstName.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                              <label class="control-label"> Payee Last Name
                            <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                        </label>
                        </div>
                      
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BeneficiaryPayeeLastName.$invalid]">
                            <input type="text" My-Directive21 class="form-control" name="BeneficiaryPayeeLastName" ng-model="Beneficiary.PayeeLastName" placeholder="Please Enter Payee Last Name" ng-required="true" />
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.BeneficiaryPayeeLastName.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10" ng-if="CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label"> Payee Id Type
                            <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                        </label>
                        </div>
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BeneficiaryName.$invalid]">
                            <input type="radio" name="PayeeIdType" ng-model="Beneficiary.PayeeIdType" value="E" ng-change="payidtype()" required> Email &nbsp; &nbsp;
                            <input type="radio" name="PayeeIdType" ng-model="Beneficiary.PayeeIdType" value="P" ng-change="payidtype()" required> Phone<br>
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.PayeeIdType.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label"> Token
                            <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                        </label>
                        </div>                        
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BeneficiaryName.$invalid]">

                            <input ng-if="(!Beneficiary.PayeeIdType)" type="text" class="form-control" name="BeneficiaryToken" placeholder="Please Enter Token" ng-required="true" disabled="true" />
                            <input ng-if="Beneficiary.PayeeIdType=='E'" type="text" class="form-control" name="BeneficiaryToken" ng-model="Beneficiary.Token" placeholder="Please Enter Token" check-email-on-blur ng-required="true" />
                            <input ng-if="Beneficiary.PayeeIdType=='P'" type="text" class="form-control" name="BeneficiaryToken1" ng-model="Beneficiary.Token" placeholder="Please Enter Token" ng-required="true" maxlength="10" onkeydown='return allowOnlyNumbersAlone(event)' />
                        </div>
                        <!-- <span ng-show="updatesubmitted && benelistForm.BeneficiaryToken.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span> -->
                        <span ng-show="benelistForm.BeneficiaryToken.$error.emails" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Invalid
                            email</span>
                    </div>
                    <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                             <label class="control-label"> Name
                            <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                        </label>
                        </div>                       
                        <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.BeneficiaryName.$invalid]">
                            <input type="text" class="form-control" name="BeneficiaryName" ng-model="Beneficiary.Name" placeholder="Please Enter Name" ng-required="true" />
                        </div>
                        <span ng-show="updatesubmitted && benelistForm.BeneficiaryName.$error.required" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Beneficiary Address Line1
                            </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" My-Directive2 class="form-control" name="StreetName" ng-model="Beneficiary.BankAddressLine1" placeholder="Please Enter Beneficiary Address Line 1" />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Beneficiary Address Line2
                            </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" My-Directive2 class="form-control" name="BuildingNo" ng-model="Beneficiary.BankAddressLine2" placeholder="Please Enter Beneficiary Address Line 2" />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label"> City
                            </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" My-Directive2 class="form-control" name="PostalCode" ng-model="Beneficiary.City" placeholder="Please Enter City" />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label"> State
                            </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" My-Directive2 class="form-control" name="PostalCode" ng-model="Beneficiary.State" placeholder="Please Enter State" />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label"> Post Code
                            </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" My-Directive2 class="form-control" name="PostalCode" ng-model="Beneficiary.PostCode" placeholder="Please Enter Post Code" />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label"> Country
                            </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" limit-to="3" class="form-control" name="Country" ng-model="Beneficiary.Country" placeholder="Please Enter Country" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </br>
    <!-- new accordion - RemittanceInformation-->
    <div class="accordion">
        <div class="card">
            <div class="card-header cardColor">        
                <div class="fileListStyle" data-toggle="collapse" data-target="isRemittanceInformationCollapsed" aria-expanded="true" ng-click="isRemittanceInformationCollapsed = !isRemittanceInformationCollapsed">
                <span class="bold">Remittance Information</span>
                <div class="pull-right">
                    &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isRemittanceInformationCollapsed, 'fa-angle-right': isRemittanceInformationCollapsed}"></i>
                </div>
            </div>
            </div>
            <div collapse="isRemittanceInformationCollapsed" class="collapse show">
                <!-- <div class="row" style="margin: 15px !important;"> -->
                <div class="card-body ">
                    <div class="form-group row col-md-10 col-sm-6" ng-if="!CXCFlag">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Remittance ID
                            </label>
                        </div>
                      
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" maxlength="35" name="RemittanceID" ng-model="RemittanceInformation.RemittanceID" placeholder="Please Enter RemittanceID" ng-blur="multipleEmptySpace($event)" valid-alpha-num />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Remittance Information
                            </label>
                        </div>
                        <div class="col-md-9">
                            <textarea class="form-control" style=" resize: none; " maxlength="{{RemitInfoMaxLength}}" cols="70" rows="4" placeholder="Please Enter Remittance Information" ng-model="RemittanceInformation.RemittanceInformation" id="idforNotes1" ng-trim="false"></textarea>
                            <span id="lCnt" ng-if="RemitInfoMaxLength">{{RemitInfoMaxLength-RemittanceInformation.RemittanceInformation.length}}
                                Characters Left</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </br>
    <!-- new accordion - RefferdDocInfo-->
    <div class="accordion">
        <div class="card" ng-if="PaymentDetails.MessageType === 'Customer Credit Transfer'">
            <div class="card-header cardColor"> 
               
                    <div class="fileListStyle" data-toggle="collapse" data-target="isRefferdDocInfoCollapsed" aria-expanded="true" ng-click="isRefferdDocInfoCollapsed = !isRefferdDocInfoCollapsed">
                        <span class="bold">Reffered Document Information</span>
                        <div class="pull-right">
                            &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isRefferdDocInfoCollapsed, 'fa-angle-right': isRefferdDocInfoCollapsed }"></i>
                        </div>
                    </div>
                
            </div>

            <div collapse="isRefferdDocInfoCollapsed" class="collapse show">
                <!-- <div class="row" style="margin: 15px !important;"> -->
                <div class="card-body ">
                   <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Original Credit Transfer
                            <span ng-if="refferdDocInfoData.originalCreditTransfer.isMandate" style="color:#e02222;font-size:12px;padding-left:2px"
                            aria-required="true">*</span>
                            </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" maxlength="35" name="originalCreditTransfer" ng-model="refferdDocInfoData.originalCreditTransfer.value" ng-required="refferdDocInfoData.originalCreditTransfer.isMandate" placeholder="Please Enter Original Credit Transfer" ng-blur="makeManadateRDI(refferdDocInfoData.originalCreditTransfer);" valid-alpha-num />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Related Date
                            <span ng-if="refferdDocInfoData.date.isMandate" style="color:#e02222;font-size:12px;padding-left:2px"
                            aria-required="true">*</span>
                            </label>
                        </div>
                        <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && updateFXRateform.EffectiveFromDate.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                            <input class="form-control DatePicker" type="text" name="relatedDate" ng-model="refferdDocInfoData.date.value" ng-blur="makeManadateRDI(refferdDocInfoData.date);" placeholder="Please Select Effective From Date" ng-required="refferdDocInfoData.date.isMandate" placeholder="Please Enter Original Credit Transfer" onkeypress='return tabOrder(event)'
                                ng-blur="multipleEmptySpace($event)" ng-focus="activatePicker($event)" ng-disabled="false">
                            <span class="input-group-text cursorPointer"><span
                                    class="fa fa-calendar"></span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- new accordion - DiscountAppliedAmount-->
    <div class="accordion">
        <div class="card">
            <div class="card-header cardColor"> 
                <div class="fileListStyle" data-toggle="collapse" data-target="isDiscountAppliedAmountCollapsed" aria-expanded="true" ng-click="isDiscountAppliedAmountCollapsed = !isDiscountAppliedAmountCollapsed">
                    <span class="bold">Discount Amount Applied</span>
                    <div class="pull-right">
                        &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isDiscountAppliedAmountCollapsed, 'fa-angle-right': isDiscountAppliedAmountCollapsed}"></i>
                    </div>
                </div>
            </div>
            <div collapse="isDiscountAppliedAmountCollapsed" class="collapse show" >
                <div ng-repeat="grp in discountAppliedAmountGrp track by $index">
                    <!-- <div class="row" style="margin: 15px !important;padding:30px;"> -->
                    <div class="card-body ">
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Code
                                <!-- <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span> -->
                                <span ng-if="grp.isCodeMandate" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                            </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-class="{true: 'error'}[updatesubmitted && benelistForm.Daacode.$invalid]">
                                <select class="form-control" ng-required="grp.isCodeMandate" name="Daacode{{$index}}" ng-model="grp.code" ng-disabled="grp.isDisabled" ng-change="onChangeDAASelect(grp)">
                                    <option value="-1" selected>--Select--</option>
                                    <option value="{{daaCode.actualvalue}}" ng-disabled="daaCode.isDisabled" ng-repeat="daaCode in grp.daaCodes track by $index">
                                        {{daaCode.displayvalue}}</option>
                                </select>
                                <!--  <input type="text" class="form-control" name="ClientID" ng-model="OrderingCustomer.ClientID" ng-required = "true"/> -->
                            </div>
                            <div class="col-md-2 col-sm-2 col-xs-2">
                                <span style="display: inline-block;padding: 0px 20px; width: 80%;margin: 0;font-size: 0;" class="ng-scope">
                                    <a ng-if="grp.isAdded === false" id="AddSection_{{$index}}" ng-click="addOptionalItem(grp)" tooltip="Add New Section" tooltip-placement="bottom" style="line-height: 24px; cursor: pointer; text-decoration: none; color: rgb(130, 127, 127); font-size: 24px !important;" class="fa fa-plus-circle ng-scope" aria-hidden="true" ></a>
                                    <a ng-if="grp.isAdded === true" id="RemoveSection_{{$index}}" ng-click="removeOptionalItem(grp)" tooltip="Remove Section" tooltip-placement="bottom" style="line-height: 24px; cursor: pointer; text-decoration: none; color: rgb(130, 127, 127); margin-left: 10px; font-size: 24px !important; opacity: 1;" class="fa fa-minus-circle" aria-hidden="true" ></a>
                                </span>
                            </div>
                            <span ng-show="updatesubmitted && (benelistForm.{{'Daacode'+$index}}.$error.required)" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <!-- <pre> {{ benelistForm | json }}</pre> -->
                            <label name="codevalue{{$index}}" id="codevalue{{$index}}" class="control-label">Value
                                <span ng-if="grp.isValueMandate" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" id="Daacodevalue{{$index}}" ng-blur="makeMandate(grp, $index);" ng-required="grp.isValueMandate"  class="form-control" name="Daacodevalue{{$index}}"  ng-keypress="allowNumberWithDecimal($event)" ng-model="grp.value" placeholder="Please Enter value" />
                            </div>
                            <span ng-show="updatesubmitted && (benelistForm.{{'Daacodevalue'+$index}}.$error.required)" style="display:block;margin:0;color:#EF1C1C !important" aria-required="true">Required</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </br>
    <!-- new accordion - Intermediary Bank Details-->
    <div class="accordion">
        <div class="card" ng-if='((service123.ServiceCode!="RPX")&&(!CXCFlag) && (PaymentDetails.MessageType != "Request for Payment"))'>
            <div class="card-header cardColor">
                <div class="fileListStyle"  data-toggle="collapse" data-target="isPaymentInfoCollapsed"  aria-expanded="true" ng-click="isPaymentInfoCollapsed = !isPaymentInfoCollapsed">
                <span class="bold">Intermediary Bank Details</span>
                <div class="pull-right">
                    &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isPaymentInfoCollapsed, 'fa-angle-right': isPaymentInfoCollapsed}"></i>
                </div>
            </div>
            </div>
            <div collapse="isPaymentInfoCollapsed" class="collapse show addCollapse">
                <!-- <div class="row" style="margin: 30px !important;"> -->
                    <div class="card-body ">
                    <div class="form-group" ng-repeat="IntermediaryBankDetails in IntermediaryBankDetails123">

                        <div class="form-group row col-md-10 col-sm-6" ng-if="$index>=1">
                            <div class="col-md-7">
                                <input class="btn btnStyle pull-right" type="button" value="Remove" ng-click="removeIntermediaryBankDetails($index);">
                            </div>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Bank Identifier Type
                            </label>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-if="!Templateloading">
                                <select class="form-control checkSelectEntry" name="BankIdentifierType2" ng-model="IntermediaryBankDetails.BankIdentifierType" ng-change="getBankIdentifierCode1(IntermediaryBankDetails.BankIdentifierType,$index)">
                                    <option value="">Select the Bank Identifier Type</option>
                                    <option value="{{MT.ClearingSchemeCode}}"
                                        ng-repeat="MT in BankIdentifierTypeData_1 track by $index">
                                        {{MT.ClearingSchemeCode}}</option>
                                </select>
                            </div>
                            <div class="col-md-6 col-sm-8" ng-if="Templateloading">

                                <select class="form-control checkSelectEntry" name="BankIdentifierType2" ng-model="IntermediaryBankDetails.BankIdentifierType" ng-change="getBankIdentifierCode1(BeneficiaryBank.BankIdentifierType,$index)">
                                    <option value="">Select the Bank Identifier Type</option>
                                    <option value="{{MT}}" ng-repeat="MT in BankIdentifierTypeData_1 track by $index">
                                        {{MT}}</option>
                                </select>
                            </div>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Bank Identifier Code
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" ng-if="IntermediaryBankDetails.BankIdentifierType =='BIC'" class="form-control" name="BIC" ng-model="IntermediaryBankDetails.BankIdentifierCode" placeholder="Please Enter BIC" ng-blur="getBIC_Address(IntermediaryBankDetails.BIC)" />

                                <select ng-if="((!Templateloading)||(BIT_reselect))" class="form-control" ng-if="IntermediaryBankDetails.BankIdentifierType!='BIC'" name="BIC" ng-model="IntermediaryBankDetails.BankIdentifierCode" ng-change="getBankDetails1(IntermediaryBankDetails)">
                                    <option value="" selected disabled>Select the Bank Identifier Code</option>
                                    <option value="{{BIC1234.SchemeParticipantIdentifer}}"
                                        ng-repeat="BIC1234 in BankIdentifierCode1234 track by $index">
                                        {{BIC1234.SchemeParticipantIdentifer}}</option>
                                </select>

                                <select ng-if="((Templateloading)&&(!BIT_reselect))" class="form-control" ng-if="IntermediaryBankDetails.BankIdentifierType!='BIC'" name="BIC" ng-model="IntermediaryBankDetails.BankIdentifierCode">
                                    <option value="" selected disabled>Select the Bank Identifier Code</option>
                                    <option value="{{BIC1234}}"
                                        ng-repeat="BIC1234 in BankIdentifierCode1234 track by $index">{{BIC1234}}
                                    </option>
                                </select>
                            </div>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Address Line 1
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankAddressLine1" ng-model="IntermediaryBankDetails.BankAddressLine1" placeholder="Please Enter Address Line 1" />
                            </div>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Address Line 2
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankAddressLine2" ng-model="IntermediaryBankDetails.BankAddressLine2" placeholder="Please Enter Address Line 2" />
                            </div>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">City
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="IntermediaryBankDetails.City" placeholder="Please Enter City" />
                            </div>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">State
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="IntermediaryBankDetails.State" placeholder="Please Enter State" />
                            </div>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Post Code
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="IntermediaryBankDetails.PostCode" placeholder="Please Enter PostCode" />
                            </div>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Country
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="BeneficiaryBankCountry" ng-model="IntermediaryBankDetails.Country" placeholder="Please Enter  Country" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row"  ng-if="IntermediaryBankDetails123.length<=2" ng-if='service123.ServiceCode!="RPX"'>
                   <div class="form-group row col-md-10 col-sm-6">                       
                        <div class="col-md-10">
                            <input class="btn btnStyle pull-right" type="button" value="Add Intermediary BankDetails" ng-click="addIntermediaryBankDetails();">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </br>
    <!-- new accordion - Ultimate Debtor -->
    <div class="accordion">
            <div class="card">
                <div class="card-header cardColor"> 
                    <div class="fileListStyle"  data-toggle="collapse" data-target="isUltimateDebtorCollapsed"  aria-expanded="true" ng-click="isUltimateDebtorCollapsed = !isUltimateDebtorCollapsed">
                        <span class="bold">Ultimate Debtor</span>
                        <div class="pull-right">
                            &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isUltimateDebtorCollapsed, 'fa-angle-right': isUltimateDebtorCollapsed}"></i>
                        </div>
                    </div>
                </div>
                <div collapse="isUltimateDebtorCollapsed" class="collapse show">
                    <!-- <div class="row" style="margin: 15px !important;"> -->
                    <div class="card-body ">
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Name
                            </label>
                            </div>
                        <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="UltDebtorName" ng-model="UltimateDebtor.Name" placeholder="Please Enter Name" />
                            </div>
                        </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Address Line 1
                            </label>
                            </div>
                        <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="UltDebtorAddressLine1" ng-model="UltimateDebtor.AddressLine1" placeholder="Please Enter Address Line 1" />
                            </div>
                        </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Address Line 2
                            </label>
                            </div>
                        <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="UltDebtorAddressLine2" ng-model="UltimateDebtor.AddressLine2" placeholder="Please Enter Address Line 2" />
                            </div>
                        </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">City
                            </label>
                            </div>
                        <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="UltDebtorCity" ng-model="UltimateDebtor.City" placeholder="Please Enter City" />
                            </div>
                        </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">State
                            </label>
                            </div>
                        <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="UltDebtorState" ng-model="UltimateDebtor.State" placeholder="Please Enter State" />
                            </div>
                        </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Post Code
                            </label>
                            </div>
                        <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="UltDebtorPostCode" ng-model="UltimateDebtor.PostCode" placeholder="Please Enter PostCode" />
                            </div>
                        </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Country
                            </label>
                            </div>
                        <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="UltDebtorCountry" ng-model="UltimateDebtor.Country" placeholder="Please Enter Country" />
                            </div>
                        </div>
                    <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Street Name
                            </label>
                        </div>
                        <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="UltDebtorStreetName" ng-model="UltimateDebtor.StreetName" placeholder="Please Enter Street Name" />
                            </div>
                        </div>
                    <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Building Number
                            </label>
                            </div>
                        <div class="col-md-6 col-sm-8">
                                <input type="text" class="form-control" name="UltDebtorBuildingNumber" ng-model="UltimateDebtor.BuildingNumber" placeholder="Please Enter Building Number" />
                            </div>
                        </div>
                    </div>
                </div>
        </div>
    </div>
    </br>
    <!--new accordion - Ultimate creditor -->
    <div class="accordion">
        <div class="card">
            <div class="card-header cardColor">
            <div class="fileListStyle" data-toggle="collapse" data-target="isUltimateCreditorCollapsed"  aria-expanded="true" ng-click="isUltimateCreditorCollapsed = !isUltimateCreditorCollapsed">
                <span class="bold">Ultimate Creditor</span>
                <div class="pull-right">
                    &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !isUltimateCreditorCollapsed, 'fa-angle-right': isUltimateCreditorCollapsed}"></i>
                </div>
            </div>
            </div>
            <div collapse="isUltimateCreditorCollapsed" class="collapse show">
                <!-- <div class="row" style="margin: 15px !important;"> -->
                <div class="card-body ">
                   <div class="form-group row col-md-10 col-sm-6">
                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Name
                        </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="UltCreditorName" ng-model="UltimateCreditor.Name" placeholder="Please Enter Name" />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Address Line 1
                        </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="UltCreditorAddressLine1" ng-model="UltimateCreditor.AddressLine1" placeholder="Please Enter Address Line 1" />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Address Line 2
                        </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="UltCreditorAddressLine2" ng-model="UltimateCreditor.AddressLine2" placeholder="Please Enter Address Line 2" />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">City
                        </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="UltCreditorCity" ng-model="UltimateCreditor.City" placeholder="Please Enter City" />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">State
                        </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="UltCreditorState" ng-model="UltimateCreditor.State" placeholder="Please Enter State" />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Post Code
                        </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="UltDebtorPostCode" ng-model="UltimateCreditor.PostCode" placeholder="Please Enter PostCode" />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Country
                        </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="UltDebtorCountry" ng-model="UltimateCreditor.Country" placeholder="Please Enter Country" />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Street Name
                        </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="UltDebtorStreetName" ng-model="UltimateCreditor.StreetName" placeholder="Please Enter Street Name" />
                        </div>
                    </div>
                   <div class="form-group row col-md-10 col-sm-6">
                    <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                        <label class="control-label">Building Number
                        </label>
                        </div>
                       <div class="col-md-6 col-sm-8">
                            <input type="text" class="form-control" name="UltDebtorBuildingNumber" ng-model="UltimateCreditor.BuildingNumber" placeholder="Please Enter Building Number" />
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    </br>
    <!--new accordion - SaveTemplate -->
    <div class="accordion">
    <div class="card" ng-if="SaveTemplate">
            <div class="card-header cardColor" >        
                <div class="fileListStyle" data-toggle="collapse" data-target="SaveTemplateCollapsed"  aria-expanded="true" ng-click="SaveTemplateCollapsed = !SaveTemplateCollapsed">
                    <span class="bold">Save as Template</span>
                    <div class="pull-right">
                        &nbsp;&nbsp;&nbsp;<i style="padding-top:2px;" class="pull-right bold fa fa-angle-right" ng-class="{'fa-angle-down': !SaveTemplateCollapsed, 'fa-angle-right': SaveTemplateCollapsed}"></i>
                    </div>
                </div>
            </div>
            <div collapse="SaveTemplateCollapsed"  class="collapse show addCollapse">
                <!-- <div class="row" style="margin: 30px !important;"> -->
                <div class="card-body ">   
                   <!-- <div class="form-group">    -->
                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Template Name
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <!-- <input type="text" class="form-control" ng-model="TemplateDetails.TemplateName" ng-required="true" placeholder="Please Enter Template Name" ng-blur="checkTemplateName(TemplateDetails.TemplateName)" maxlength="140" ng-keyup="TemplateDetails.TemplateName ? NewPartyRestCall(TemplateDetails.TemplateName) : ''" /> -->
                                <input type="text" class="form-control" ng-model="TemplateDetails.TemplateName" ng-required="true" placeholder="Please Enter Template Name" ng-blur="checkTemplateName(TemplateDetails.TemplateName)" maxlength="140" />
                                <input type="hidden" class="form-control" ng-init="TemplateDetails.MPITemplate_PK=MPITemplate_PK" ng-model="TemplateDetails.MPITemplate_PK" />
                                <span class="help-inline alert-warning" ng-show="templateOverride" style="display:block;margin:0;"><strong>Warning!
                                    </strong> Template with same name exists. By saving with the same name, template
                                    could be <strong>overwritten</strong>.</span>
                                <span class="animated bounce bold help-inline alert-danger" ng-show="alreadyExists" style="margin: 2px; padding: 5px; display: block;">{{alertMessage}}
                                </span>
                            </div>
                        </div>

                         <!--<div class="form-group row col-md-10 col-sm-6">
                                <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Description
                            </label>
                            <div class="col-md-9">
                                <textarea class="form-control" style=" resize: none; " maxlength="{{RemitInfoMaxLength}}" cols="70" rows="4" placeholder="Please Enter Remittance Information" ng-model="TemplateDetails.Description" id="idforNotes"></textarea>
                                <span id="lCnt" ng-if="service11">{{RemitInfoMaxLength-RemittanceInformation.RemittanceInformation.length}} Characters Left</span>
                            </div>
                        </div> -->

                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">
                                Roles Accessible
                                <!-- <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span> -->
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <!-- <select class="form-control" name="RolesAccessible" ng-model="TemplateDetails.RolesAccessible">
                                    <option value="">--Select--</option>
                                    <option value="Approver">Approver</option>
                                    <option value="Operator">Operator</option>
                                </select> -->

                                <select class="form-control appendselect21211" select2-model-append data-placeholder="--Select--" multiple name="RolesAccessible" id="RolesAccessible" ng-model="TemplateDetails.RolesAccessible">
                                    <option ng-repeat="role in ROLESOptions123" value="{{role.RoleID}}">{{role.RoleName
                                        | underscoreRemove}} </option>
                                </select>

                                <!-- <select class="form-control appendselect21211" select2-model-append data-placeholder="--Select--" ng-if="Templateloading" multiple name="RolesAccessible" id="RolesAccessible" ng-model="TemplateDetails.RolesAccessible">
                                    <option ng-repeat="role in ROLESOptions" value="{{role}}">{{role}} </option>
                                </select> -->

                                <span class="help-inline" ng-show="updatesubmitted && updateBusinessRuleform.Status.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                            </div>
                        </div>

                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Status
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                            </label>
                            </div>
                           <div class="col-md-6 col-sm-8">
                                <!-- <input type="text" class="form-control" ng-model="TemplateDetails.Status" value="ACTIVE"  ng-required = "true" placeholder="Please Enter Status"/> -->
                                <select class="form-control" ng-model="TemplateDetails.Status" ng-required="true">
                                    <option value="">--Select Status--</option>
                                    <option value="ACTIVE">ACTIVE</option>
                                    <option value="SUSPENDED">SUSPENDED</option>
                                    <option value="INACTIVE">INACTIVE</option>
                                </select>
                            </div>
                        </div>

                       <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Effective From Date
                                <span class="alertMsg" style="color:#e02222;font-size:12px;padding-left:2px"
                                    aria-required="true">*</span>
                            </label>
                            </div>
                            <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && updateFXRateform.EffectiveFromDate.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                                <input class="form-control DatePicker" type="text" name="EffectiveFromDate" ng-model="TemplateDetails.EffectiveFromDate" ng-init="(TemplateDetails.EffectiveFromDate = date)" placeholder="Please Select Effective From Date" ng-required="true" onkeypress='return tabOrder(event)'
                                    ng-blur="multipleEmptySpace($event)" ng-focus="activatePicker($event)" ng-disabled="false">
                                <span class="input-group-text cursorPointer"><span
                                        class="fa fa-calendar"></span></span>
                            </div>
                            <span class="help-inline" ng-show="updatesubmitted && updateFXRateform.EffectiveFromDate.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                        </div>
                       <div class="form-group row col-md-10 col-sm-6">
                        <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Effective Till Date
                            </label>
                            </div>
                            <div class="input-group col-md-6 col-sm-8 input-append" ng-class="{true: 'error'}[updatesubmitted && updateFXRateform.EffectiveTillDate.$invalid]" style="padding-right:15px;padding-left:12px;float:left;">
                                <input class="form-control DatePicker" type="text" name="EffectiveTillDate" ng-model="TemplateDetails.EffectiveTillDate" placeholder="Please Select Effective Till Date" onkeypress='return tabOrder(event)' ng-blur="multipleEmptySpace($event)" ng-focus="activatePicker($event)"
                                    ng-disabled="false">
                                <span class="input-group-text cursorPointer"><span
                                        class="fa fa-calendar"></span></span>
                            </div>
                            <span class="help-inline" ng-show="updatesubmitted && updateFXRateform.EffectiveTillDate.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                        </div>

                       <div class="form-group row col-md-10 col-sm-6">
                            <div class="col-md-3 text-sm-left text-md-right text-lg-right text-xl-right mt-1">
                            <label class="control-label">Description
                            </label>
                            </div>
                            <div class="col-md-9">
                                <textarea class="form-control" style=" resize: none; " maxlength="{{DescriptionMaxLength}}" cols="70" rows="4" placeholder="Please Enter Template Description" ng-model="TemplateDetails.Description" id="idforNotes2" ng-trim="false"></textarea>
                                <span id="lCnt">{{DescriptionMaxLength-TemplateDetails.Description.length}} Characters
                                    Left</span>
                            </div>
                        </div>

                </div>
                <!-- </div> -->
            </div>
        </div>
    </div>
    </br>
        <input class="btn btnStyle" type="button" value="Save as Template and Submit" ng-click="tiggerTemplate();expandAllManually();" ng-if="!SaveTemplate">

        <input class="btn btnStyle" type="submit" ng-disabled="TemplateAndSubmitButtonTiggered" value="Save as Template and Submit" ng-click="callPicker();expandAllManually();SaveTemplate=true;updatesubmitted=true;" ng-if="SaveTemplate">
        <input class="btn btnStyle" type="submit" ng-disabled="SubmitButtonTiggered" value="Submit" ng-click="updatesubmitted=true;SaveTemplate=false;expandAllManually();">
        <input class="btn btnStyle" type="reset" value="Reset" ng-click="Reload();SaveTemplate=false;">
        <!-- <input class="btn btnStyle" type="submit" value="Submit" ng-click="updatesubmitted = true;SaveTemplate=false;"> -->
    </form>
</div>
<script>
    function isNumberKey(txt, evt) {

        var charCode = (evt.which) ? evt.which : evt.keyCode;
        if (charCode == 46) {
            //Check if the text already contains the . character
            if (txt.value.indexOf('.') === -1) {
                return true;
            } else {
                return false;
            }
        } else {
            if (charCode > 31 &&
                (charCode < 48 || charCode > 57))
                return false;
        }
        return true;
    }

    $(document).ready(function() {

        // $('.DatePicker').datepicker({
        //     format: "yyyy-mm-dd",
        //     showClear: true,
        //     autoclose: true,
        //     startDate: new Date(),
        //     icons: {
        //         time: "fa fa-clock-o",
        //         date: "fa fa-calendar",
        //         up: "fa fa-arrow-up",
        //         down: "fa fa-arrow-down",
        //         previous: "fa fa-chevron-left",
        //         next: "fa fa-chevron-right",
        //         today: "fa fa-clock-o",
        //         clear: "fa fa-trash-o"
        //     }
        // })

        // $('.TimePicker').datetimepicker({
        //     format: 'HH:mm:ss',
        //     useCurrent: true,
        //     showClear: true,
        //     icons: {
        //             time: "fa fa-clock-o",
        //             date: "fa fa-calendar",
        //             up: "fa fa-arrow-up",
        //             down: "fa fa-arrow-down",
        //             previous: "fa fa-chevron-left",
        //             next: "fa fa-chevron-right",
        //             today: "fa fa-clock-o",
        //             clear: "fa fa-trash-o"
        //         }
        // });
        $('.input-group-text').on('click focus', function(e) {
            $(this).prev().focus().click()
        });

        $(".VPDisabledCopyPaste").on('input paste', function(e) {
            e.preventDefault();
        });

        $('#EndToEndId').bind('DOMAttrModified textInput input keyup paste', function() {
            var sspace = $(this).val().replace(/ +/g, ' ');
            if ($(this).val() != sspace)
                $(this).val(sspace);
        });


        $('.notallowspecialchar').on('keypress', function(e) {
            var regex = /^[a-zA-Z0-9 ]$/;
            var key = String.fromCharCode(e.which);
            if (regex.test(key) || e.which == 8 || e.which == 13 || e.which == 0) {
                return true;
            } else {
                return false;
            }
        });
    })
</script>
